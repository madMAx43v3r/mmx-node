import{f as Wo,D as Mo,N as _t,j as Bo,k as Fe,P as wl,l as Ye,m as Ot,c as v,r as L,w as ke,p as G,q as J,v as No,x as Uo,y as Ko,z as xl,Q as Qo,V as zo,A as Ho,B as Xo,a as fe,C as et,E as St,F as g,G as f,H as n,I as $t,J as It,u as o,K as le,L as a,T as Go,M as P,n as Jo,O as x,R as Yo,S as D,U as Zo,W as B,X as se,Y as b,Z as Pt,_ as y,$ as A,a0 as M,a1 as ie,a2 as I,a3 as Ke,a4 as tt,a5 as lt,a6 as ue,a7 as O,a8 as al,a9 as q,aa as ea,e as z,ab as te,ac as j,ad as E,ae as Se,af as ta,ag as la,ah as nl,ai as Qe,aj as oa,ak as El,al as Ue,am as aa,an as pt,ao as At,ap as qt,aq as Ie,ar as be,as as ot,at as N,au as Ze,av as na,aw as Et,o as sa,ax as sl,ay as ra,i as Dl,t as dt,az as ia,aA as Xt,aB as ua,aC as el,aD as Dt,aE as jt,aF as vt,aG as wt,aH as tl,aI as jl,aJ as We,aK as Wl,aL as da,aM as rl,aN as at,aO as ca,aP as ma,aQ as it,aR as _a,aS as pa,aT as fa,aU as ya,aV as ha,aW as ga,aX as _e,aY as ze}from"./quasar-DFcZBEHB.js";import{d as il,a as Ml,k as Me,g as ba,c as va,H as Bl,j as wa,b as xa,m as ul,e as Nl,f as Ul,h as Kl,i as ka,l as Ql,n as zl,o as Hl,p as Sa,q as $a,r as qa,s as ll,t as dl,u as Va,v as Ta,w as Xl,x as Ca,y as Ra,z as La,A as Fa,B as Oa,C as Ia,D as Pa,E as Aa,F as Ea,G as Da,I as ja,J as Wt,K as cl,L as Wa,M as Ma,N as Ba,O as Na,P as Ua,Q as Ka,R as Qa,S as za,T as Ha,U as Xa,V as Ga,W as Ja,X as Ya,Y as Za,Z as en,_ as tn,$ as ln}from"./modules-BAv5jXmk.js";import{E as on,u as an,i as nn,a as sn,b as rn,c as un,d as dn}from"./echarts-CuewRi3d.js";import{b as cn,w as mn}from"./@scure-DkhtbgrZ.js";import ol from"./locales/common.json-CitLrNoC.js";import Gl from"./locales/en-US.json-CoFvze62.js";import _n from"./locales/quasar/en-US.js-CST473Od.js";const pn={config:{dark:!0},plugins:{Notify:_t,Dialog:Mo},iconSet:Wo},fn="modulepreload",yn=function(t,e){return new URL(t,e).href},kl={},R=function(e,l,r){let s=Promise.resolve();if(l&&l.length>0){const d=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),_=u?.nonce||u?.getAttribute("nonce");s=Promise.allSettled(l.map(m=>{if(m=yn(m,r),m in kl)return;kl[m]=!0;const c=m.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(r)for(let w=d.length-1;w>=0;w--){const k=d[w];if(k.href===m&&(!c||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${p}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":fn,c||(h.as="script"),h.crossOrigin="",h.href=m,_&&h.setAttribute("nonce",_),document.head.appendChild(h),c)return new Promise((w,k)=>{h.addEventListener("load",w),h.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return s.then(d=>{for(const u of d||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},hn=[{path:"/node",component:()=>R(()=>Promise.resolve().then(()=>ei),void 0,import.meta.url),meta:{title:"Node"},children:[{path:"",redirect:"/node/log"},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>ri),void 0,import.meta.url)},{path:"peers",component:()=>R(()=>Promise.resolve().then(()=>Wi),void 0,import.meta.url),meta:{title:"Peers"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url),props:{limit:20},meta:{title:"Blocks"}},{path:"netspace",component:()=>R(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url),meta:{title:"Netspace"}},{path:"vdf_speed",component:()=>R(()=>Promise.resolve().then(()=>Qi),void 0,import.meta.url),meta:{title:"VDF Speed"},alias:[]},{path:"reward",component:()=>R(()=>Promise.resolve().then(()=>Hi),void 0,import.meta.url),meta:{title:"Block Reward"},alias:[]}]}],gn=[{path:"/wallet",component:()=>R(()=>Promise.resolve().then(()=>Gi),void 0,import.meta.url),children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>uu),void 0,import.meta.url),meta:{title:"Wallets"}},{path:"create",component:()=>R(()=>Promise.resolve().then(()=>ku),void 0,import.meta.url),meta:{title:"Create wallet"}},{path:"account/:index",component:()=>R(()=>Promise.resolve().then(()=>nu),void 0,import.meta.url),props:t=>({index:parseInt(t.params.index)}),meta:{title:t=>`Wallet #${t.params.index}`},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>Ru),void 0,import.meta.url),meta:{title:"Balance"}},{path:"nfts",component:()=>R(()=>Promise.resolve().then(()=>Ou),void 0,import.meta.url),meta:{title:"NFTs"}},{path:"contracts",component:()=>R(()=>Promise.resolve().then(()=>zu),void 0,import.meta.url),meta:{title:"Contracts"}},{path:"send/:target?",component:()=>R(()=>Promise.resolve().then(()=>Ol),void 0,import.meta.url),props:t=>({target:t.params.target}),meta:{title:"Send"}},{path:"send_from/:source?",component:()=>R(()=>Promise.resolve().then(()=>Ol),void 0,import.meta.url),props:t=>({source:t.params.source}),meta:{title:"Send"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>fd),void 0,import.meta.url),meta:{title:"History"}},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>gd),void 0,import.meta.url),meta:{title:"Log"}},{path:"offer",component:()=>R(()=>Promise.resolve().then(()=>Od),void 0,import.meta.url),meta:{title:"Offer"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>Ad),void 0,import.meta.url),meta:{title:"Liquidity"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>Jd),void 0,import.meta.url),meta:{title:"Plot NFTs"}},{path:"details",component:()=>R(()=>Promise.resolve().then(()=>ec),void 0,import.meta.url),meta:{title:"Info"}},{path:"options",component:()=>R(()=>Promise.resolve().then(()=>nc),void 0,import.meta.url),meta:{title:"Options"}}]}]}],bn=[{path:"/farmer",component:()=>R(()=>Promise.resolve().then(()=>cc),void 0,import.meta.url),meta:{title:"Farmer"},children:[{path:"",redirect:"/farmer/plots"},{path:"plots",component:()=>R(()=>Promise.resolve().then(()=>gc),void 0,import.meta.url),meta:{title:"Plots"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>kc),void 0,import.meta.url),meta:{title:"PlotNFTs"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>qc),void 0,import.meta.url),meta:{title:"Blocks"}},{path:"proofs",component:()=>R(()=>Promise.resolve().then(()=>Cc),void 0,import.meta.url),meta:{title:"Proofs"}}]}],Jl=(t,e,l)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},ml=[{value:"en-US",label:"English"},{value:"id",label:"Bahasa Indonesia"},{value:"de",label:"Deutsch"},{value:"es",label:"Español"},{value:"nl",label:"Nederlands"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"uk",label:"Українська"},{value:"zh-CN",label:"简体中文"}],ct=ml[0].value,vn=Object.assign({"/node_modules/quasar/lang/de.js":()=>R(()=>import("./locales/quasar/de.js-CZhuRTys.js"),[],import.meta.url),"/node_modules/quasar/lang/en-US.js":()=>R(()=>import("./locales/quasar/en-US.js-CST473Od.js"),[],import.meta.url),"/node_modules/quasar/lang/es.js":()=>R(()=>import("./locales/quasar/es.js-DWRJyQUs.js"),[],import.meta.url),"/node_modules/quasar/lang/id.js":()=>R(()=>import("./locales/quasar/id.js-B2dhsrB2.js"),[],import.meta.url),"/node_modules/quasar/lang/nl.js":()=>R(()=>import("./locales/quasar/nl.js-oLrlFdwi.js"),[],import.meta.url),"/node_modules/quasar/lang/pt.js":()=>R(()=>import("./locales/quasar/pt.js-SSfO1hmc.js"),[],import.meta.url),"/node_modules/quasar/lang/ru.js":()=>R(()=>import("./locales/quasar/ru.js-Decg_Iy9.js"),[],import.meta.url),"/node_modules/quasar/lang/uk.js":()=>R(()=>import("./locales/quasar/uk.js-CVvo68qz.js"),[],import.meta.url),"/node_modules/quasar/lang/zh-CN.js":()=>R(()=>import("./locales/quasar/zh-CN.js-DnRfOlZ3.js"),[],import.meta.url)}),Sl=(t,e)=>{t.mode==="legacy"?t.global.locale=e:t.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)},wn=async(t,e)=>{const l=Fe(xn(e));try{vn[`/node_modules/quasar/lang/${l}.js`]().then(r=>{wl.set(r.default)})}catch(r){console.error(r),wl.set(_n.default)}try{const r=await Jl(Object.assign({"../locales/common.json":()=>R(()=>import("./locales/common.json-CitLrNoC.js"),[],import.meta.url),"../locales/de.json":()=>R(()=>import("./locales/de.json-DZFMEMgc.js"),[],import.meta.url),"../locales/en-US.json":()=>R(()=>import("./locales/en-US.json-CoFvze62.js"),[],import.meta.url),"../locales/es.json":()=>R(()=>import("./locales/es.json-BcfQJ0qc.js"),[],import.meta.url),"../locales/id.json":()=>R(()=>import("./locales/id.json-CeuACP36.js"),[],import.meta.url),"../locales/nl.json":()=>R(()=>import("./locales/nl.json-Bi-8Tzxt.js"),[],import.meta.url),"../locales/pt.json":()=>R(()=>import("./locales/pt.json-kipSuZeO.js"),[],import.meta.url),"../locales/ru.json":()=>R(()=>import("./locales/ru.json-Cb8Yls3y.js"),[],import.meta.url),"../locales/uk.json":()=>R(()=>import("./locales/uk.json-EfLfMENI.js"),[],import.meta.url),"../locales/zh-CN.json":()=>R(()=>import("./locales/zh-CN.json-BcF6vE_W.js"),[],import.meta.url)}),`../locales/${l}.json`,3);t.global.setLocaleMessage(l,kt({},ol,r)),Sl(t,l)}catch{t.global.setLocaleMessage(ct,kt({},ol,Gl)),Sl(t,ct)}},xn=t=>ml.some(e=>e.value==Fe(t))?t:ct,Gt=t=>t&&typeof t=="object"&&!Array.isArray(t),kt=(t,...e)=>{if(!e.length)return t;const l=e.shift();if(Gt(t)&&Gt(l))for(const r in l)Gt(l[r])?(t[r]||Object.assign(t,{[r]:{}}),kt(t[r],l[r])):Object.assign(t,{[r]:l[r]});return kt(t,...e)},nt=Bo({globalInjection:!0,legacy:!1,locale:ct,fallbackLocale:ct,messages:{"en-US":kt({},ol,Gl)}}),$l=t=>t==null||typeof t=="string"&&t.trim().length===0,ql=typeof window.mmx<"u",Vl=typeof window.mmx_qtgui<"u",ve=il("app",{state:()=>({isDarkTheme:Ye("isDarkTheme",!0),locale:Ye("locale",ct),_wapiBaseUrl:Ye("wapiBaseUrl",null)}),getters:{isWinGUI:()=>ql,isQtGUI:()=>Vl,isGUI:()=>ql||Vl,wapiBaseUrl:t=>typeof __WAPI_URL__<"u"?__WAPI_URL__:null}});Ml.defaults.paramsSerializer=t=>{let e="";return Object.keys(t).forEach(l=>{t[l]===void 0||t[l]===null||(e+=`${l}=${encodeURIComponent(t[l])}&`)}),e.substring(0,e.length-1)};const C=Ml.create();C.interceptors.request.use(t=>{if(t.url.startsWith("/wapi/")){const e=ve();t.baseURL=e.wapiBaseUrl??"/wapi/",t.url=t.url.replace("/wapi/","/")}return t},t=>Promise.reject(t));const U=(...t)=>{const e=Ot(...t),l=v(()=>e.isLoading.value||e.isLoadingError.value),r=v(()=>!l.value&&e.data.value||[]),s=L(!1),i=L(null);ke([e.isError,e.data,e.error],([m,c,p],[h,w,k])=>{h&&(s.value=!0,i.value=k?.request?.response||k.message),c&&!e.isPlaceholderData.value&&(s.value=!1,i.value=null)});const d=v(()=>!e.data.value&&!e.isPending.value||s.value),u=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?i.value:e.error.value?.request?.response||e.error.value?.message),_=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?s.value:e.isError);return{...e,loading:l,rows:r,noData:d,latestError:u,isLatestError:_}},st=1e3,{t:Yl}=nt.global,kn={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},Sn={"Content-Type":"application/json"},Mt=t=>{var e=t.value!=null?t.value:"null";_t.create({caption:t.restart?Yl("node_settings.restart_needed"):"",message:`Set '${t.key}' to '${e}'`,type:"positive",group:!1,classes:t.restart?"restart-needed":""})},qe=t=>{_t.create({type:"positive",group:!1,...t})},$n=t=>{_t.create({type:"negative",group:!1,...t})},ne=t=>{const e=t.response?.data||t.message;_t.create({message:e,type:"negative"})},Jt=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},l=/[&<>"'/]/gi;return t.replace(l,r=>e[r])},qn=(t,e,l,r)=>{const s=Jt(t),i=Jt(e),d=Jt(l);_t.create({type:"positive",group:!1,...r,message:`${s} <a class="text-primary" href="${i}">${d}</a>`,html:!0})},ge=(t,e)=>{const l=yt.resolve({name:"transaction",params:{transactionId:t}});qn(Yl("common.transaction_has_been_sent"),l.href,t,e)},Vn=t=>({...Fe(t),options:{...Fe(t).options,auto_send:!1}}),Tn=t=>t?parseFloat(t.toFixed(6)):null,Cn=(t,e)=>e.value?Tn(t?.exec_result?.total_fee_value):null,He=(t,e,l,r)=>U({queryKey:["wallet","fee",t,e,l],queryFn:({signal:s})=>r(Vn(e),s),select:s=>Cn(s,l),enabled:l,staleTime:0,gcTime:0}),Zl=il("node",{state:()=>({height:null})});var Yt=-1;const eo=t=>C.get("/wapi/node/info",{signal:t}).then(e=>e.data),_l=t=>{const e=U({queryKey:["node_info"],queryFn:({signal:s})=>eo(s),refetchInterval:1.1*st,enabled:!0}),l=Zl(),r=G();return ke(e.data,s=>{if(!s)return;const i=s.height;Yt!=i&&(console.log(`⛰️ New height: ${i}`),l.height=i,r.invalidateQueries({queryKey:["node"]},{cancelRefetch:!1}),r.invalidateQueries({queryKey:["node_log"]},{cancelRefetch:!1}),r.invalidateQueries({queryKey:["block",{height:Yt}]}),r.invalidateQueries({queryKey:["block",{height:i-1}]}),r.invalidateQueries({queryKey:["block",{height:i}]}),r.invalidateQueries({queryKey:["transaction"]}),r.invalidateQueries({queryKey:["wallet"]}),r.invalidateQueries({queryKey:["market"]}),r.invalidateQueries({queryKey:["swap"]}),r.invalidateQueries({queryKey:["farm","info"]},{cancelRefetch:!1}),i%3==0&&r.invalidateQueries({queryKey:["farm","blocks"]},{cancelRefetch:!1}),Yt=i)}),e},Rn=()=>{_l();const t=G();return J({mutationFn:()=>eo(),onSuccess:e=>{t.setQueryData(["node_info"],e)}})},Ln=(t,e)=>C.get("/wapi/node/log",{params:t,signal:e}).then(l=>l.data),Fn=t=>U({queryKey:["node_log",t],queryFn:({signal:e})=>Ln(t,e),placeholderData:Me,refetchInterval:2*st}),On=(t,e)=>C.get("/wapi/node/graph/blocks",{params:t,signal:e}).then(l=>l.data),pl=(t,e)=>U({queryKey:["node","graph/blocks",t],queryFn:({signal:l})=>On(t,l),select:e}),{t:Ff}=nt.global,In=t=>C.post("/wapi/passphrase/validate",t).then(e=>e.data),Pn=()=>J({mutationFn:t=>In(t),onError:t=>{$n({message:"Wrong passphrase!"})}}),to=t=>C.post("/wapi/wallet/send",t).then(e=>e.data),lo=()=>{const t=G();return J({mutationFn:e=>to(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},oo=t=>C.post("/wapi/wallet/execute",t).then(e=>e.data),An=()=>{const t=G();return J({mutationFn:e=>oo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ao=t=>C.post("/wapi/wallet/make_offer",t).then(e=>e.data),En=()=>{const t=G();return J({mutationFn:e=>ao(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},no=t=>C.post("/wapi/wallet/offer_withdraw",t).then(e=>e.data),Dn=()=>{const t=G();return J({mutationFn:e=>no(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},so=t=>C.post("/wapi/wallet/cancel_offer",t).then(e=>e.data),jn=()=>{const t=G();return J({mutationFn:e=>so(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ro=t=>C.post("/wapi/wallet/offer_trade",t).then(e=>e.data),Wn=()=>{const t=G();return J({mutationFn:e=>ro(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},io=t=>C.post("/wapi/wallet/accept_offer",t).then(e=>e.data),Mn=()=>{const t=G();return J({mutationFn:e=>io(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},uo=t=>C.post("/wapi/wallet/swap/trade",t).then(e=>e.data),Bn=()=>{const t=G();return J({mutationFn:e=>uo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},Nn=t=>C.post("/api/wallet/plotnft_create",t).then(e=>e.data),Un=()=>{const t=G();return J({mutationFn:e=>Nn(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Created new PlotNFT: "+l.name})},onError:ne})},co=(t,e)=>He("send",t,e,to),Kn=(t,e)=>He("execute",t,e,oo),Qn=(t,e)=>He("offer",t,e,ao),zn=(t,e)=>He("offer_withdraw",t,e,no),Hn=(t,e)=>He("cancel_offer",t,e,so),Xn=(t,e)=>He("offer_trade",t,e,ro),Gn=(t,e)=>He("accept_offer",t,e,io),Jn=(t,e)=>He("swap/trade",t,e,uo),Yn=t=>C.post("/wapi/wallet/swap/payout",t).then(e=>e.data),Zn=()=>{const t=G();return J({mutationFn:e=>Yn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},es=t=>C.post("/wapi/wallet/swap/switch_pool",t).then(e=>e.data),ts=()=>{const t=G();return J({mutationFn:e=>es(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ls=t=>C.post("/wapi/wallet/swap/add_liquid",t).then(e=>e.data),os=()=>{const t=G();return J({mutationFn:e=>ls(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},as=t=>C.post("/wapi/wallet/swap/rem_liquid",t).then(e=>e.data),ns=()=>{const t=G();return J({mutationFn:e=>as(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ss=t=>C.post("/wapi/wallet/swap/rem_all_liquid",t).then(e=>e.data),rs=()=>{const t=G();return J({mutationFn:e=>ss(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},is=(t,e)=>C.get("/wapi/wallet/seed",{params:t,signal:e}).then(l=>l.data),us=()=>J({mutationFn:t=>is(t),onError:ne}),ds=t=>C.get("/wapi/wallet/accounts",{signal:t}).then(e=>e.data),mo=()=>{const t=G();return U({queryKey:["accounts"],queryFn:async({signal:e})=>{const l=await ds(e);return l?.forEach(r=>{t.setQueryData(["accounts","account",{index:r.account}],r)}),l},gcTime:1/0})},cs=(t,e)=>C.get("/wapi/wallet/account",{params:t,signal:e}).then(l=>l.data),Vt=(t,e)=>{const l=G();return U({queryKey:["accounts","account",t],queryFn:({signal:s})=>cs(t,s),enabled:()=>{const i=l.getQueryCache().find({queryKey:["accounts"]});return i&&i.observers.length==0},select:e,gcTime:1/0})},ms=(t,e)=>C.get("/wapi/wallet/keys",{params:t,signal:e}).then(l=>l.data),_s=t=>U({queryKey:["wallet","keys",t],queryFn:({signal:e})=>ms(t,e)}),ps=(t,e)=>C.get("/wapi/wallet/address",{params:t,signal:e}).then(l=>l.data),fl=t=>U({queryKey:["wallet","address",t],queryFn:({signal:e})=>ps(t,e)}),fs=(t,e)=>C.get("/wapi/wallet/balance",{params:t,signal:e}).then(l=>l.data),je=(t,e,l)=>U({queryKey:["wallet","balance",t],queryFn:({signal:r})=>fs(t,r),select:r=>e?e(r):r,placeholderData:Me,enabled:l}),ys=(t,e)=>C.get("/wapi/wallet/history",{params:t,signal:e}).then(l=>l.data),hs=(t,e)=>U({queryKey:["wallet","history",t],queryFn:({signal:l})=>ys(t,l),placeholderData:Me,select:l=>l}),gs=t=>C.get("/wapi/wallet/tokens",{signal:t}).then(e=>e.data),ft=()=>U({queryKey:["walletCfg","tokens"],queryFn:({signal:t})=>gs(t)}),bs=(t,e)=>C.get("/wapi/wallet/tx_history",{params:t,signal:e}).then(l=>l.data),vs=t=>U({queryKey:["wallet","tx_history",t],queryFn:({signal:e})=>bs(t,e)}),ws=(t,e)=>C.get("/wapi/wallet/contracts",{params:t,signal:e}).then(l=>l.data),_o=(t,e)=>U({queryKey:["wallet","contracts",t],queryFn:({signal:l})=>ws(t,l),enabled:e??!0}),xs=(t,e)=>C.get("/wapi/plotnft",{params:t,signal:e}).then(l=>l.data),ks=t=>U({queryKey:["plotnft",t],queryFn:({signal:e})=>xs(t,e)}),Ss=(t,e)=>C.get("/wapi/wallet/offers",{params:t,signal:e}).then(l=>l.data),po=t=>U({queryKey:["wallet","offers",t],queryFn:({signal:e})=>Ss(t,e),select:e=>e.sort((l,r)=>r.height-l.height),placeholderData:Me}),$s=(t,e)=>C.get("/wapi/wallet/swap/liquid",{params:t,signal:e}).then(l=>l.data),qs=t=>U({queryKey:["wallet","swap","liquid",t],queryFn:({signal:e})=>$s(t,e)}),Vs=t=>C.get("/wapi/farm/info",{signal:t}).then(e=>e.data),Tt=t=>U({queryKey:["farm","info"],queryFn:({signal:e})=>Vs(e),select:e=>t?t(e):e}),Ts=(t,e)=>C.get("/wapi/farm/blocks/summary",{params:t,signal:e}).then(l=>l.data),fo=t=>U({queryKey:["farm","blocks","summary",t],queryFn:({signal:e})=>Ts(t,e)}),Cs=(t,e)=>C.get("/wapi/farm/blocks",{params:t,signal:e}).then(l=>l.data),Rs=t=>U({queryKey:["farm","blocks",t],queryFn:({signal:e})=>Cs(t,e)}),Ls=(t,e)=>C.get("/wapi/farm/proofs",{params:t,signal:e}).then(l=>l.data),Fs=t=>U({queryKey:["farm","proofs",t],queryFn:({signal:e})=>Ls(t,e)}),Os=(t,e)=>C.get("/wapi/headers",{params:t,signal:e}).then(l=>l.data),Is=t=>U({queryKey:["node","headers",t],queryFn:({signal:e})=>Os(t,e)}),yo=(t,e)=>C.get("/wapi/block",{params:t,signal:e}).then(l=>l.data),Ps=t=>U({queryKey:["block",t],queryFn:({signal:e})=>yo(t,e),placeholderData:Me}),As=(t,e)=>C.get("/wapi/header",{params:t,signal:e}).then(l=>l.data),Es=()=>J({mutationFn:t=>As(t)}),Tl=(t,e)=>{t.prefetchQuery({queryKey:["block",e],queryFn:({signal:l})=>yo(e,l)})},Ds=(t,e)=>C.get("/wapi/transactions",{params:t,signal:e}).then(l=>l.data),js=t=>U({queryKey:["node","transactions",t],queryFn:({signal:e})=>Ds(t,e)}),Ws=(t,e)=>C.get("/wapi/transaction",{params:t,signal:e}).then(l=>l.data),Ms=t=>U({queryKey:["transaction",t],queryFn:({signal:e})=>Ws(t,e),select:e=>{for(const l of e.operations)delete l.solution;return e}}),ho=(t,e)=>C.get("/wapi/farmers",{params:t,signal:e}).then(l=>l.data),Bs=t=>U({queryKey:["node","farmers",t],queryFn:({signal:e})=>ho(t,e)}),Ns=(t,e)=>{t.prefetchQuery({queryKey:["node","farmers",e],queryFn:({signal:l})=>ho(e,l),staleTime:st})},Us=(t,e)=>C.get("/wapi/farmer",{params:t,signal:e}).then(l=>l.data),Ks=t=>U({queryKey:["node","farmer",t],queryFn:({signal:e})=>Us(t,e)}),Qs=(t,e)=>C.get("/wapi/farmer/blocks",{params:t,signal:e}).then(l=>l.data),zs=t=>U({queryKey:["node","farmer","blocks",t],queryFn:({signal:e})=>Qs(t,e)}),Hs=(t,e)=>C.get("/wapi/contract",{params:t,signal:e}).then(l=>l.data),Xs=t=>U({queryKey:["node","contract",t],queryFn:({signal:e})=>Hs(t,e)}),Gs=(t,e)=>C.get("/wapi/address/history",{params:t,signal:e}).then(l=>l.data),Js=t=>U({queryKey:["node","address","history",t],queryFn:({signal:e})=>Gs(t,e)}),Ys=(t,e)=>C.get("/wapi/address",{params:t,signal:e}).then(l=>l.data),Zs=(t,e)=>U({queryKey:["node","address",t],queryFn:({signal:l})=>Ys(t,l),select:l=>e?e(l):l}),er=(t,e)=>C.get("/wapi/balance",{params:t,signal:e}).then(l=>l.data),go=t=>U({queryKey:["node","balance",t],queryFn:({signal:e})=>er(t,e),select:e=>e.balances}),{t:Of}=nt.global,tr=(t,e)=>C.get("/wapi/offers",{params:t,signal:e}).then(l=>l.data),lr=t=>U({queryKey:["market","offers",t],queryFn:({signal:e})=>tr(t,e),placeholderData:Me}),or=(t,e)=>C.get("/wapi/trade_history",{params:t,signal:e}).then(l=>l.data),ar=t=>U({queryKey:["market","offers","trade_history",t],queryFn:({signal:e})=>or(t,e),placeholderData:Me}),nr=(t,e)=>C.get("/wapi/offer/trade_estimate",{params:t,signal:e}).then(l=>l.data),sr=(t,e)=>U({queryKey:["market","offers","trade_estimate",t,e],queryFn:({signal:l})=>nr(t,l),enabled:e,staleTime:0,gcTime:0}),{t:If}=nt.global,rr=(t,e)=>C.get("/wapi/swap/list",{params:t,signal:e}).then(l=>l.data),ir=t=>U({queryKey:["swap","list",t],queryFn:({signal:e})=>rr(t,e),placeholderData:Me}),ur=(t,e)=>C.get("/wapi/swap/info",{params:t,signal:e}).then(l=>l.data),Bt=t=>U({queryKey:["swap","info",t],queryFn:({signal:e})=>ur(t,e)}),dr=(t,e)=>C.get("/wapi/swap/history",{params:t,signal:e}).then(l=>l.data),cr=t=>U({queryKey:["swap","history",t],queryFn:({signal:e})=>dr(t,e)}),mr=(t,e)=>C.get("/wapi/swap/user_info",{params:t,signal:e}).then(l=>l.data),bo=(t,e)=>U({queryKey:["swap","user_info",t],queryFn:({signal:l})=>mr(t,l),placeholderData:Me,enabled:e}),_r=(t,e)=>C.get("/wapi/swap/trade_estimate",{params:t,signal:e}).then(l=>l.data),pr=(t,e)=>U({queryKey:["swap","trade_estimate",t,e],queryFn:({signal:l})=>_r(t,l),enabled:e,staleTime:0,gcTime:0}),fr=t=>C.get("/wapi/config/get",{signal:t}).then(e=>e.data),yr=()=>U({queryKey:["config"],queryFn:({signal:t})=>fr(t)}),hr=t=>C.post("/wapi/config/set",t).then(e=>e.data),gr=()=>{const t=G();return J({mutationFn:({key:e,value:l,tmp_only:r})=>hr({key:e,value:l,tmp_only:r}),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),l.suppressNotification||Mt(l)},onError:ne})},br=t=>C.get("/wapi/chain/info",{signal:t}).then(e=>e.data),vr=()=>U({queryKey:["chain","info"],queryFn:({signal:t})=>br(t)}),{t:Pf}=nt.global,wr=[{path:"/explore",component:()=>R(()=>Promise.resolve().then(()=>Ac),void 0,import.meta.url),meta:{title:"Explore"},children:[{path:"",redirect:"/explore/blocks"},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url),meta:{title:"Blocks",indexPage:!0}},{path:"block/hash/:hash",component:()=>R(()=>Promise.resolve().then(()=>Il),void 0,import.meta.url),props:t=>({hash:t.params.hash}),meta:{title:t=>`Block #${t.params.hash}`,prefetcher:(t,e)=>{const l={hash:e.params.hash};Tl(t,l)}}},{path:"block/height/:height",component:()=>R(()=>Promise.resolve().then(()=>Il),void 0,import.meta.url),props:t=>({height:parseInt(t.params.height)}),meta:{title:t=>`Block #${t.params.height}`,prefetcher:(t,e)=>{const l={height:parseInt(e.params.height)};Tl(t,l)}}},{path:"transactions",component:()=>R(()=>Promise.resolve().then(()=>Mc),void 0,import.meta.url),meta:{title:"Transactions",indexPage:!0}},{name:"transaction",path:"transaction/:transactionId",component:()=>R(()=>Promise.resolve().then(()=>Hc),void 0,import.meta.url),props:t=>({transactionId:t.params.transactionId}),meta:{title:t=>`Transaction #${t.params.transactionId}`}},{path:"farmers",component:()=>R(()=>Promise.resolve().then(()=>em),void 0,import.meta.url),meta:{title:"Farmers",indexPage:!0,prefetcher:(t,e)=>{Ns(t,{limit:100})}}},{path:"farmer/:farmerKey",component:()=>R(()=>Promise.resolve().then(()=>am),void 0,import.meta.url),props:t=>({farmerKey:t.params.farmerKey}),meta:{title:t=>`Farmer #${t.params.farmerKey}`}},{name:"address",path:"address/:address",component:()=>R(()=>Promise.resolve().then(()=>dm),void 0,import.meta.url),props:t=>({address:t.params.address}),meta:{title:t=>`Address #${t.params.address}`}}]}],xr=[{path:"/market",component:()=>R(()=>Promise.resolve().then(()=>fm),void 0,import.meta.url),meta:{title:"Market"},children:[{path:"",redirect:"/market/offers"},{path:"offers",component:()=>R(()=>Promise.resolve().then(()=>vm),void 0,import.meta.url),meta:{title:"Offers"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>km),void 0,import.meta.url),meta:{title:"History"}}]}],kr=[{path:"/swap",component:()=>R(()=>Promise.resolve().then(()=>qm),void 0,import.meta.url),meta:{title:"Swap"},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>Fm),void 0,import.meta.url)},{path:":address",component:()=>R(()=>Promise.resolve().then(()=>Wm),void 0,import.meta.url),props:t=>({address:t.params.address}),children:[{path:"",redirect:{name:"trade"}},{name:"trade",path:"trade",component:()=>R(()=>Promise.resolve().then(()=>e_),void 0,import.meta.url),meta:{title:"Trade"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>l_),void 0,import.meta.url),meta:{title:"History"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>m_),void 0,import.meta.url),meta:{title:"Liquid"}},{path:"pool",component:()=>R(()=>Promise.resolve().then(()=>f_),void 0,import.meta.url),meta:{title:"Pool"}}]}]}],Sr=[{path:"/:catchAll(.*)*",component:()=>R(()=>Promise.resolve().then(()=>b_),void 0,import.meta.url),meta:{requiresAuth:!1,title:"Page not found"}}],$r=[...hn,...gn,...bn,...wr,...xr,...kr,...Sr,{path:"/",redirect:"/node"},{path:"/login",name:"login",component:()=>R(()=>Promise.resolve().then(()=>T_),void 0,import.meta.url),meta:{title:"Login",layout:!1,requiresAuth:!1}},{path:"/settings",component:()=>R(()=>Promise.resolve().then(()=>G_),void 0,import.meta.url),meta:{title:"Settings"}}];let vo;vo=$r;const qr=vo,Vr=async t=>{if(t.meta.layout===!1){t.meta.layoutComponent="div";return}const e=t.meta.layout??"default",l=await Jl(Object.assign({"../../layouts/default.vue":()=>R(()=>Promise.resolve().then(()=>yp),void 0,import.meta.url)}),`../../layouts/${e}.vue`,4);t.meta.layoutComponent=l.default},Tr=async t=>{var l="MMX Node";t.matched.forEach(r=>{const s=r.meta.title;s&&(s instanceof Function?l+=` — ${s(t)}`:l+=` — ${s}`)}),No(l)},Cl={read:t=>t!=null?JSON.parse(t):null,write:t=>JSON.stringify(t)},Ve=il("session",{state:()=>({isLoggedIn:Ye("isLoggedIn",!1),credentials:Ye("credentials",null,{serializer:Cl}),autoLogin:Ye("autoLogin",!1),activeWalletIndex:Ye("activeWalletIndex",null,{serializer:Cl}),market:{menu:{bid:null,ask:null}},swap:{menu:{token:null,currency:null}}}),actions:{doLogin(t){this.autoLogin&&(this.credentials=t),console.log("login"),this.isLoggedIn=!0,this.router.currentRoute.value.query?.redirect?this.router.replace(this.router.currentRoute.value.query.redirect):this.router.replace("/")},doLogout(t){console.log("logout"),t&&(this.credentials=null,this.autoLogin=!1),this.isLoggedIn=!1,!ve().isGUI&&(!t&&this.router.currentRoute.value.path!="/login"?this.router.push({path:"/login",query:{redirect:this.router.currentRoute.value.fullPath}}):this.router.push("/login"),this.queryClient.clear(),ba()._s.forEach(l=>l.$reset()))}}}),Cr=async(t,e)=>{const l=ve(),r=Ve();if(t.matched.some(i=>i.meta.requiresAuth||!Object.hasOwn(i.meta,"requiresAuth"))&&!r.isLoggedIn&&!l.isGUI)return{path:"/login",query:{redirect:t.fullPath}};if(t.name==="login"&&r.isLoggedIn&&!l.isGUI)return{path:"/"}},yt=Uo({history:Ko("./"),routes:qr});yt.beforeEach(Vr);yt.afterEach(Tr);yt.beforeEach(Cr);const wo=va();wo.use(({store:t})=>{t.router=xl(yt),t.queryClient=xl(G())});const Rr=new Qo({defaultOptions:{queries:{retry:!0,networkMode:"always"},mutations:{networkMode:"always"}}}),Lr={queryClient:Rr};Bl.registerLanguage("mmx",wa);Bl.registerLanguage("json",xa);function Fr(t){t.use(Xo,pn),t.use(yt),t.use(wo),t.use(nt),t.use(zo,Lr),t.use(Ho)}const Or=t=>C.get("./guiBuildInfo.json",{signal:t,headers:kn}).then(e=>e.data),Ir=()=>Ot({queryKey:["guiBuildInfo"],queryFn:({signal:t})=>Or(t),refetchInterval:5*st}),Pr=()=>{const t="C944429EBBED3",e=L(!1),{data:l}=Ir();fe(()=>{const d=l.value?.id;e.value=d&&t!=d});const r=et(),s=St(),i=L(!1);return ke([e,()=>s.path],()=>{e.value===!0&&i.value===!1&&(i.value=!0,r.dialog({type:"warning",title:"An update is available",message:"Please refresh the page to apply the update",persistent:!0,cancel:!0,ok:{push:!0,color:"negative",label:"Refresh",tabIndex:0}}).onOk(()=>{window.location.reload()}).onDismiss(()=>{i.value=!1}))}),{updated:e}},Ar={__name:"AppLayout",setup(t){const e=St();return Pr(),(l,r)=>(f(),g(It(o(e).meta.layoutComponent||"div"),null,{default:n(()=>[$t(l.$slots,"default")]),_:3}))}},Pe={__name:"TrRouterView",props:{show:{type:Boolean,default:!0,required:!1}},setup(t){return(e,l)=>{const r=le("RouterView");return f(),g(r,null,{default:n(({Component:s})=>[a(Go,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn"},{default:n(()=>[t.show?(f(),g(It(s),{key:0})):P("",!0)]),_:2},1024)]),_:1})}}};let Rl;const Er=()=>{const t=et(),e=ve();fe(()=>t.dark.set(e.isDarkTheme)),window.mmx?.theme_dark!==void 0&&!Rl&&(Rl=setInterval(()=>{e.isDarkTheme=window.mmx.theme_dark},500))};let Ll;const Dr=()=>{const t=ve(),e=async l=>(wn(nt,l),Jo());fe(()=>e(t.locale)),window.mmx?.locale!==void 0&&!Ll&&(Ll=setInterval(()=>{t.locale=window.mmx.locale},500))},jr={__name:"App",setup(t){return Er(),Dr(),(e,l)=>{const r=Pe,s=Ar;return f(),x(D,null,[a(s,null,{default:n(()=>[a(r)]),_:1}),a(o(Yo))],64)}}},xo=Zo(jr);Fr(xo);xo.mount("#app");const Wr={key:0},Mr={key:0},Br={key:1},Nr={key:0},Fl="row justify-center",ko={__name:"InfoTile",props:{tile:{type:Object,default:null},rows:{type:[Object],default:null},loading:Boolean},setup(t){const e=t,l=v(()=>{var i;e.tile.field instanceof Function?i=e.tile.field(e.rows):i=e.rows[e.tile.field];const d=e.tile.format;return d?d(i):i}),r=`${Fl} q-pb-sm q-pt-none text-subtitle1`,s=`${Fl} q-pt-sm q-pb-none text-h6`;return(i,d)=>(f(),g(A,{flat:"",bordered:""},{default:n(()=>[a(B,{class:se(s)},{default:n(()=>[e.loading?(f(),g(Pt,{key:1,square:"",width:"50%"})):(f(),x("div",Wr,[o(l)!=null?(f(),x("div",Mr,b(o(l)),1)):(f(),x("div",Br," "))]))]),_:1}),a(B,{class:se(r)},{default:n(()=>[e.tile.label!=null?(f(),x("div",Nr,b(e.tile.label),1)):P("",!0),d[0]||(d[0]=y("div",{else:""}," ",-1))]),_:1})]),_:1}))}},Ur={class:"row q-col-gutter-xs"},Kr={__name:"NodeInfo",setup(t){const{rows:e,loading:l}=_l(),{t:r}=M(),s=v(()=>[{field:"is_synced",label:r("node_info.synced"),format:i=>r(i?"common.yes":"common.no")},{field:"height",label:r("node_info.height")},{field:"total_space",label:r("node_info.netspace"),format:i=>`${(i/Math.pow(1e3,2)).toFixed(3)} PB`},{field:"vdf_speed",label:r("node_info.vdf_speed"),format:i=>`${i.toFixed(3)} MH/s`},{field:"address_count",label:r("node_info.no_addresses")},{field:"block_size",label:r("node_info.block_size")},{field:"average_txfee",label:"Avg. TX Fee",format:i=>i.value>1?i.value.toPrecision(6):i.value},{field:"block_reward",label:r("node_info.block_reward"),format:i=>`${i.value.toFixed(3)} MMX`}]);return(i,d)=>{const u=ko;return f(),x("div",null,[y("div",Ur,[(f(!0),x(D,null,ie(o(s),_=>(f(),x("div",{key:_.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(u,{tile:_,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},mt={timelord:{name:"timelord",restart:!0,default:!1},open_port:{name:"Router.open_port",restart:!0,default:!1},allow_remote:{name:"allow_remote",restart:!0,default:!1},opencl_platform:{name:"opencl.platform",restart:!0,default:null,suppressNotification:!0},opencl_device:{name:"Node.opencl_device",restart:!0,suppressNotification:!0},opencl_device_name:{name:"Node.opencl_device_name",restart:!0},opencl_device_select:{name:"Node.opencl_device_select",restart:!0,default:-1,tmp_only:!0,suppressNotification:!0},opencl_device_list:{default:[]},opencl_device_list_relidx:{default:[]},farmer_reward_addr:{name:"Farmer.reward_addr",restart:!0},timelord_reward_addr:{name:"TimeLord.reward_addr",restart:!0},harv_num_threads:{name:"Harvester.num_threads",restart:!0},reload_interval:{name:"Harvester.reload_interval",restart:!0},recursive_search:{name:"Harvester.recursive_search",restart:!0,default:!1},plot_dirs:{name:"Harvester.plot_dirs",restart:!1},version:{name:"build.version"},commit:{name:"build.commit"}},Qr=()=>{const t={};return Object.keys(mt).forEach(e=>{const{default:l}=mt[e];t[e]=l??null}),t},zr=Qr(),Hr=(t,e)=>{if(e){Object.keys(mt).forEach(l=>{const{name:r,default:s}=mt[l];r!==void 0&&(t[l]=e?.[r]??s)});{t.opencl_device_list=[],t.opencl_device_list_relidx=[],t.opencl_device_list.push({label:"None",value:-1});let l=e["Node.opencl_device_list"];if(l)for(const[r,s]of l.entries())t.opencl_device_list.push({label:s[0],value:r}),t.opencl_device_list_relidx.push({name:s[0],index:s[1]})}}};function $e(){const t=gr(),{data:e,isPending:l,isError:r}=yr(),s=v(()=>l.value||r.value),i=I({...zr}),d=[];fe(()=>{Object.keys(d).forEach(c=>d[c]()),Hr(i,e.value),Object.keys(i).forEach(c=>{d[c]=ke(()=>i[c],(p,h)=>{const w=mt[c].name;t.mutate({...mt[c],key:w,value:p})})})});const u=v(()=>{if(!e.value)return!1;const c=e.value?.wallet;return!!(c||c==null)}),_=v(()=>{if(!e.value)return!1;const c=e.value?.farmer;return!!(c||c==null)}),m=v(()=>{if(!e.value)return!1;const c=e.value?.local_node;return!!(c||c==null)});return{data:i,loading:s,isWallet:u,isFarmer:_,isLocalNode:m}}const Xr={__name:"NodeMenu",setup(t){const{isLocalNode:e}=$e(),{t:l}=M(),r=v(()=>[{to:"/node/log",label:l("node_menu.log")},{to:"/node/peers",label:l("node_menu.peers"),hide:!e.value},{to:"/node/blocks",label:l("node_menu.blocks")},{to:"/node/netspace",label:l("node_menu.netspace")},{to:"/node/vdf_speed",label:l("node_menu.vdf_speed")},{to:"/node/reward",label:l("node_menu.block_reward")}]);return(s,i)=>(f(),g(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(D,null,ie(o(r),(d,u)=>(f(),x(D,{key:u},[d.hide?P("",!0):(f(),g(Ke,{key:0,to:d.to,exact:d.exact??!1,label:d.label,icon:d.icon},null,8,["to","exact","label","icon"]))],64))),128))]),_:1}))}},Gr={class:"row q-col-gutter-xs"},So={__name:"FarmerInfo",setup(t){const{rows:e,loading:l}=Tt(),{rows:r}=fo({since:1e4}),{t:s}=M(),i=v(()=>[{field:"total_bytes",label:s("farmer_info.physical_size"),format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TB`},{field:"total_bytes_effective",label:"Effective Size",format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TBe`}]),d=v(()=>[{field:"num_blocks",label:"No. Blocks"},{field:"total_rewards_value",label:"Total Rewards",format:u=>`${(u??0).toFixed(3)} MMX`}]);return(u,_)=>{const m=ko;return f(),x("div",null,[y("div",Gr,[(f(!0),x(D,null,ie(o(i),c=>(f(),x("div",{key:c.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(m,{tile:c,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128)),(f(!0),x(D,null,ie(o(d),c=>(f(),x("div",{key:c.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(m,{tile:c,rows:o(r),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},Jr={class:"q-gutter-y-sm"},Yr={class:"q-col-gutter-xs"},Zr={__name:"index",setup(t){const{isFarmer:e}=$e();return(l,r)=>{const s=Pe;return f(),g(lt,{padding:""},{default:n(()=>[y("div",Jr,[y("div",Yr,[a(o(Kr)),o(e)?(f(),g(o(So),{key:0})):P("",!0)]),a(A,{flat:""},{default:n(()=>[a(o(Xr)),a(s)]),_:1})])]),_:1})}}},ei=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"})),de={__name:"TableBodySkeleton",props:{props:{type:Object,required:!0},rowCount:{type:Number,default:10},loading:Boolean},setup(t){const e=t,l=r=>r instanceof Function?"":r;return(r,s)=>(f(!0),x(D,null,ie(e.rowCount,i=>(f(),x("tr",{key:i},[(f(!0),x(D,null,ie(e.props.cols,d=>(f(),x("td",{key:d,class:se(l(d.classes))},[a(Pt,{key:"text"})],2))),128))]))),128))}},pe=(t,e)=>{const l=t.__vccOpts||t;for(const[r,s]of e)l[r]=s;return l},ti={key:0,class:"flex"},li={style:{"font-size":"0px"}},oi=["set"],ai={key:0,style:{color:"darkcyan"}},ni={__name:"LogIndex",setup(t){const e=/(?<=\s|^)(\d+(?:\.\d+)?)(?=,|\s|$)/g,{t:l}=M(),r=ve(),s=w=>{const k=w.row.level;if(k==1)return"error";if(k==2)return"warning"},i=v(()=>[{label:l("node_log_table.time"),field:"time",align:"left",headerStyle:"width: 6%",format:w=>new Date(w/1e3).toLocaleTimeString()},{label:l("node_log_table.module"),field:"module",align:"right",headerStyle:"width: 8%"},{name:"message",label:l("node_log_table.message"),field:"message",align:"left"}]),d=v(()=>[{value:null,label:l("node_log.terminal")},{value:"Node",label:l("node_log.node")},{value:"Router",label:l("node_log.router")},{value:"Wallet",label:l("node_log.wallet")},{value:"Farmer",label:l("node_log.farmer")},{value:"Harvester",label:l("node_log.harvester")},{value:"TimeLord",label:l("node_log.timelord")}]),u=L(100),_=L(3),m=L(null),{rows:c,loading:p}=Fn(I({limit:u,level:_,module:m})),h=v(()=>Array.isArray(c.value)?c.value.filter(w=>!r.isWinGUI||w.module!="HttpServer"):[]);return(w,k)=>{const V=de;return f(),g(te,{rows:o(h),columns:o(i),loading:o(p),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",dense:""},ue({top:n(()=>[a(ea,{modelValue:o(m),"onUpdate:modelValue":k[0]||(k[0]=S=>z(m)?m.value=S:null),options:o(d),"toggle-color":"primary",color:"grey-6",dense:"",flat:""},null,8,["modelValue","options"])]),"body-cell":n(S=>[a(O,{props:S,class:se(s(S))},{default:n(()=>[S.col.name=="message"?(f(),x(D,{key:0},[S.value.includes("------------")?(f(),x("span",ti,[y("span",li,b(S.value),1),a(al,{color:"orange",style:{"flex-grow":"1"},class:"q-mr-md"})])):(f(!0),x(D,{key:1},ie(S.value.split(e),(T,$)=>(f(),x("span",{key:$,set:w.m=S.value.match(e)},[w.m&&w.m.includes(T)?(f(),x("span",ai,b(T),1)):(f(),x(D,{key:1},[q(b(T),1)],64))],8,oi))),128))],64)):(f(),x(D,{key:1},[q(b(S.value),1)],64))]),_:2},1032,["props","class"])]),_:2},[o(p)?{name:"bottom-row",fn:n(S=>[a(V,{props:S,"row-count":o(u)},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},si=pe(ni,[["__scopeId","data-v-f6314779"]]),ri=Object.freeze(Object.defineProperty({__proto__:null,default:si},Symbol.toStringTag,{value:"Module"})),$o=t=>C.get("/api/router/get_peer_info",{signal:t}).then(e=>e.data),ii=()=>U({queryKey:["peers"],queryFn:({signal:t})=>$o(t),select:t=>t.peers,refetchInterval:5.1*st}),ui=()=>{const t=G();return J({mutationFn:()=>$o(),onSuccess:e=>{t.setQueryData(["peers"],e)}})},di=t=>C.post("/api/router/kick_peer",{address:t}).then(e=>e.data),ci=()=>{const t=G();return J({mutationFn:e=>di(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["peers"]}),qe({message:"Peer kicked: "+l})}})},mi=t=>C.post("/api/node/revert_sync",t).then(e=>e.data),_i=()=>{const t=G();return J({mutationFn:e=>mi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["node"]}),t.invalidateQueries({queryKey:["config"]}),Mt({key:"Node.revert_sync",value:l.height,restart:!1})}})},pi=t=>C.post("/api/harvester/add_plot_dir",{path:t}).then(e=>e.data),fi=()=>{const t=G();return J({mutationFn:e=>pi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),Mt({key:"Harvester.plot_dirs",value:"+ "+l,restart:!1})},onError:ne})},yi=t=>C.post("/api/harvester/rem_plot_dir",{path:t}).then(e=>e.data),hi=()=>{const t=G();return J({mutationFn:e=>yi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),Mt({key:"Harvester.plot_dirs",value:"- "+l,restart:!1})},onError:ne})},gi=t=>C.post("/api/wallet/add_token",{address:t}).then(e=>e.data),bi=()=>{const t=G();return J({mutationFn:e=>gi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Added token to whitelist: "+l})},onError:ne})},vi=t=>C.post("/api/wallet/rem_token",{address:t}).then(e=>e.data),wi=()=>{const t=G();return J({mutationFn:e=>vi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Removed token from whitelist: "+l})},onError:ne})},xi=()=>C.post("/api/harvester/reload").then(t=>t.data),ki=()=>{const t=G();return J({mutationFn:()=>xi(),onSuccess:()=>{t.invalidateQueries({queryKey:["farm"]}),qe({message:"Plots reloaded"})}})},Si=t=>C.post("/api/wallet/create_wallet",t).then(e=>e.data),$i=()=>{const t=G();return J({mutationFn:e=>Si(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet created"})},onError:ne})},qi=t=>C.get("/api/wallet/remove_account",{params:t}).then(e=>e.data),Vi=()=>{const t=G();return J({mutationFn:e=>qi(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet removed"})},onError:ne})},Ti=t=>C.post("/api/wallet/reset_cache",{index:t}).then(e=>e.data),Ci=()=>J({mutationFn:t=>Ti(t),onSuccess:()=>{qe({message:"Cache reset successfully"})},onError:ne}),Ri=t=>C.post("/api/wallet/set_address_count",t).then(e=>e.data),Li=()=>{const t=G();return J({mutationFn:e=>Ri(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Updated successfully"})},onError:ne})},Fi=(t,e)=>C.get("/api/wallet/is_locked",{params:t,signal:e}).then(l=>l.data),Oi=t=>({queryKey:["wallet","is_locked",t],queryFn:({signal:e})=>Fi(t,e)}),Ii=(t,e)=>U({...Oi(t),enabled:e}),Pi=t=>C.post("/api/wallet/lock",t).then(e=>e.data),Ai=t=>{const e=G();return J({mutationFn:()=>Pi(t),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} locked`})},onError:ne})},Ei=t=>C.post("/api/wallet/unlock",t).then(e=>e.data),Di=t=>{const e=G();return J({mutationFn:l=>Ei({...t,passphrase:l}),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} unlocked`})},onError:ne})},ji={__name:"PeersIndex",setup(t){const{t:e}=M(),l=v(()=>[{label:e("node_peers.ip"),field:"address",headerStyle:"width: 10%"},{label:e("node_peers.height"),field:"height",headerStyle:"width: 7%"},{label:e("node_peers.type"),field:"type",headerStyle:"width: 10%"},{label:e("node_peers.version"),field:"version",headerStyle:"width: 5%"},{name:"received",label:e("node_peers.received"),field:"bytes_recv",format:u=>(u/1024/1024).toFixed(1)},{name:"send",label:e("node_peers.send"),field:"bytes_send",format:u=>(u/1024/1024).toFixed(1)},{name:"ping",label:e("node_peers.ping"),field:"ping_ms"},{name:"duration",label:e("node_peers.duration"),field:"connect_time_ms",format:u=>(u/1e3/60).toFixed()},{label:e("node_peers.connection"),field:"is_outbound",format:u=>e(u?"node_peers.outbound":"node_peers.inbound")},{name:"action",label:"Action",field:"action",align:"right"}]),{rows:r,loading:s}=ii(),i=ci(),d=u=>{i.mutate(u)};return(u,_)=>{const m=de;return f(),g(te,{rows:o(r),columns:o(l),loading:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-received":n(c=>[a(O,{props:c},{default:n(()=>[y("b",null,b(c.value),1),_[0]||(_[0]=q(" MB "))]),_:2},1032,["props"])]),"body-cell-send":n(c=>[a(O,{props:c},{default:n(()=>[y("b",null,b(c.value),1),_[1]||(_[1]=q(" MB "))]),_:2},1032,["props"])]),"body-cell-ping":n(c=>[a(O,{props:c},{default:n(()=>[y("b",null,b(c.value),1),_[2]||(_[2]=q(" ms "))]),_:2},1032,["props"])]),"body-cell-duration":n(c=>[a(O,{props:c},{default:n(()=>[y("b",null,b(c.value),1),_[3]||(_[3]=q(" min "))]),_:2},1032,["props"])]),"body-cell-action":n(c=>[a(O,{props:c},{default:n(()=>[a(j,{label:u.$t("node_peers.kick"),outline:"",color:"secondary",onClick:p=>d(c.row.address)},null,8,["label","onClick"])]),_:2},1032,["props"])]),_:2},[o(s)?{name:"bottom-row",fn:n(c=>[a(m,{props:c,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Wi=Object.freeze(Object.defineProperty({__proto__:null,default:ji},Symbol.toStringTag,{value:"Module"})),Nt=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(64-e)),Be=t=>{const e=t.col.xclasses,l=t.value;return e instanceof Function?e(l):e},qo={__name:"BlockTable",props:{rows:{type:Object,required:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("explore_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"VDF",field:"vdf_count",format:s=>`+${s}`,headerStyle:"width: 5%"},{label:l("explore_blocks.tx"),field:"tx_count",headerStyle:"width: 5%"},{label:l("explore_blocks.k"),field:s=>s.ksize,format:s=>`k${s}`,headerStyle:"width: 5%"},{label:l("explore_blocks.score"),field:s=>s.score,headerStyle:"width: 7%"},{label:l("explore_blocks.reward"),field:s=>s.reward_amount.value,format:s=>s.toFixed(3),xclasses:"main-currency",headerStyle:"width: 12%"},{label:"TX Fees",field:s=>s.tx_count?s.tx_fees.value:null,format:s=>s?s.toFixed(3):"",xclasses:s=>s&&"main-currency",headerStyle:"width: 12%"},{label:l("explore_blocks.size"),field:"static_cost_ratio",format:s=>(s*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{label:l("explore_blocks.cost"),field:"total_cost_ratio",format:s=>(s*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{name:"hash",label:l("explore_blocks.hash"),field:"hash",align:"left"}]);return(s,i)=>{const d=de,u=le("RouterLink");return f(),g(te,{rows:t.rows,columns:o(r),loading:t.loading,pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(_=>[a(O,{props:_},{default:n(()=>[a(u,{to:`/explore/block/height/${_.value}`,class:"text-primary"},{default:n(()=>[q(b(_.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-hash":n(_=>[a(O,{props:_},{default:n(()=>[a(u,{to:`/explore/block/hash/${_.value}`,class:"text-primary mono"},{default:n(()=>[q(b(("getShortHash"in s?s.getShortHash:o(Nt))(_.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(_=>[a(O,{props:_},{default:n(()=>[y("div",{class:se(("getXClasses"in s?s.getXClasses:o(Be))(_))},b(_.value),3)]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:n(_=>[a(d,{props:_,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Mi={__name:"BlocksIndex",props:{limit:{type:Number,default:20}},setup(t){const e=t,{rows:l,loading:r}=Is(e);return(s,i)=>{const d=qo;return f(),g(A,{flat:""},{default:n(()=>[a(d,{rows:o(l),loading:o(r)},null,8,["rows","loading"])]),_:1})}}},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),Bi={__name:"WChart",props:{loading:{type:Boolean,default:!1},option:{type:Object,default:null}},setup(t){return(e,l)=>t.loading?(f(),g(Pt,{key:1,square:"",class:"chart"})):(f(),g(o(on),{key:0,option:t.option,autoresize:"",class:"chart"},null,8,["option"]))}},yl=pe(Bi,[["__scopeId","data-v-85d4d25c"]]);an([nn,sn,rn,un,dn]);const Lt=()=>I({title:{left:"center",top:"10px",textStyle:{color:"#1976D2"}},textStyle:{fontFamily:"Roboto Mono Variable",fontWeight:"normal"},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{precision:0}}},xAxis:{type:"value",min:t=>t.min,max:t=>t.max,axisLabel:{showMinLabel:!1,showMaxLabel:!1},allowDecimals:!1},yAxis:{type:"value",axisLabel:{showMinLabel:!1,showMaxLabel:!1},min:t=>Math.max(Math.floor(t.min)-1,0),max:t=>Math.ceil(t.max)+1},grid:{left:"10%",top:"10%",right:"10%",bottom:"10%"},series:[{type:"line",lineStyle:{width:2},showSymbol:!1}]}),Ni={__name:"NetspaceChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=M(),r=u=>{var _=[];for(const m of u)_.push([m.height,m.netspace]);return _},{data:s,loading:i}=pl(e,r),d=Lt();return d.title.text=l("netspace_graph.title",["PB"]),d.series[0].data=s,(u,_)=>{const m=yl;return f(),g(m,{loading:o(i),option:o(d)},null,8,["loading","option"])}}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:Ni},Symbol.toStringTag,{value:"Module"})),Ki={__name:"VdfSpeedChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=M(),r=u=>{var _=[];for(const m of u)_.push([m.height,m.vdf_speed]);return _},{data:s,loading:i}=pl(e,r),d=Lt();return d.title.text=l("vdf_speed_graph.title",["MH/s"]),d.series[0].data=s,(u,_)=>{const m=yl;return f(),g(m,{loading:o(i),option:o(d)},null,8,["loading","option"])}}},Qi=Object.freeze(Object.defineProperty({__proto__:null,default:Ki},Symbol.toStringTag,{value:"Module"})),zi={__name:"RewardChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=M(),r=_=>{var m={reward:[],tx_fees:[]};for(const c of _)m.reward.push([c.height,c.reward]),m.tx_fees.push([c.height,c.tx_fees]);return m},{data:s,loading:i}=pl(e,r),d=Lt();d.title.text=l("block_reward_graph.title",["MMX"]),d.series[0].data=E(()=>s.value.reward);const u=Lt();return u.title.text=l("tx_fees_graph.title",["MMX"]),u.series[0].data=E(()=>s.value.tx_fees),(_,m)=>{const c=yl;return f(),x("div",null,[a(c,{loading:o(i),option:o(d)},null,8,["loading","option"]),a(c,{loading:o(i),option:o(u)},null,8,["loading","option"])])}}},Hi=Object.freeze(Object.defineProperty({__proto__:null,default:zi},Symbol.toStringTag,{value:"Module"})),Xi={__name:"index",setup(t){return(e,l)=>{const r=Pe;return f(),g(lt,{padding:""},{default:n(()=>[a(r)]),_:1})}}},Gi=Object.freeze(Object.defineProperty({__proto__:null,default:Xi},Symbol.toStringTag,{value:"Module"})),Ji={class:"text-h5 q-mt-sm"},Ct={__name:"EmptyState",props:{icon:{type:String,default:null,required:!1},title:{type:String,default:null,required:!1}},setup(t){const e=t;return(l,r)=>(f(),g(A,{flat:""},{default:n(()=>[a(B,{class:"text-center"},{default:n(()=>[a(Se,{name:e.icon,size:"xl"},null,8,["name"]),y("div",Ji,b(t.title),1)]),_:1})]),_:1}))}},Yi=new Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:12}),xt=t=>Yi.format(t),Zi={class:"row vertical-middle justify-between"},eu={class:"self-center"},Ut={__name:"AccountBalanceTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("account_balance.balance"),field:"total",format:d=>xt(d),headerStyle:"width: 7%"},{label:l("account_balance.reserved"),field:"reserved",headerStyle:"width: 7%"},{label:l("account_balance.spendable"),field:"spendable",format:d=>xt(d),style:"font-weight: bold;",headerStyle:"width: 7%"},{label:l("account_balance.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("account_balance.contract"),field:"contract",align:"left"}]),{rows:s,loading:i}=je(I({index:E(()=>e.index)}),d=>d.balances);return(d,u)=>{const _=le("RouterLink");return f(),g(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"header-cell-contract":n(m=>[a(ta,{props:m},{default:n(()=>[y("div",Zi,[y("span",eu,b(m.col.label),1)])]),_:2},1032,["props"])]),"body-cell-contract":n(m=>[a(O,{props:m},{default:n(()=>[m.row.is_native?P("",!0):(f(),g(_,{key:0,to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:n(()=>[q(b(m.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])}}},tu={__name:"MChip",props:{copy:{type:Boolean,default:!1}},setup(t){const e=la(),l=v(()=>e.default?e.default()[0].children:"");return(r,s)=>(f(),g(oa,null,{default:n(()=>[$t(r.$slots,"default",{},void 0,!0),t.copy&&o(l)?(f(),g(o(nl),{key:0},{default:n(({copy:i,copied:d})=>[a(j,{"icon-right":o(ul),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:u=>i(o(l))},{default:n(()=>[a(Qe,{"model-value":d===!0,"no-parent-event":""},{default:n(()=>s[0]||(s[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:1})):P("",!0)]),_:3}))}},Ne=pe(tu,[["__scopeId","data-v-027cc054"]]),we=t=>{G();const{data:e}=Vt(t),l=v(()=>e.value?.with_passphrase?e.value.with_passphrase:!1),{data:r}=Ii(t,l),s=v(()=>l.value?r.value??!0:!1),i=async()=>{s.value?w():await m()},d=Di(t),u=async k=>{await d.mutateAsync(k)},_=Ai(t),m=async()=>{await _.mutateAsync()},c=El(),p=()=>new Promise((k,V)=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>bp),void 0,import.meta.url))}).onOk(async({passphrase:S})=>{k(S)}).onCancel(()=>{V(new Error("Prompt rejected!"))})}),h=async()=>{if(s.value)return await p()},w=async()=>{if(s.value){const k=await h();await u(k)}};return{isLocked:s,handleToggleLock:i,promptPassphrase:h}},lu={class:"row q-gutter-x-none"},ou={__name:"AccountHeader",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=Vt(e),{isLocked:r,handleToggleLock:s}=we(e);return(i,d)=>{const u=Ne;return f(),x("div",lu,[a(u,{square:"",outline:""},{default:n(()=>[q(b(i.$t("account_header.wallet"))+" #"+b(t.index),1)]),_:1}),o(l).address?(f(),g(u,{key:0,square:"",outline:"",copy:""},{default:n(()=>[q(b(o(l).address),1)]),_:1})):P("",!0),o(l).name?(f(),g(u,{key:1,square:"",outline:""},{default:n(()=>[q(b(o(l).name),1)]),_:1})):P("",!0),o(l).with_passphrase?(f(),g(j,{key:2,icon:o(r)?o(Nl):o(Ul),size:"sm",round:"",class:"q-my-auto",onClick:o(s)},null,8,["icon","onClick"])):P("",!0)])}}},au={__name:"AccountMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{to:`/wallet/account/${e.index}`,exact:!0,label:l("account_menu.balance")},{to:`/wallet/account/${e.index}/contracts`,label:l("account_menu.contracts")},{to:`/wallet/account/${e.index}/send`,label:l("account_menu.send")},{to:`/wallet/account/${e.index}/history`,label:l("account_menu.history")},{to:`/wallet/account/${e.index}/log`,label:l("account_menu.log")},{to:`/wallet/account/${e.index}/offer`,label:l("account_menu.offer"),badge:i.value},{to:`/wallet/account/${e.index}/liquid`,label:l("account_menu.liquidity")},{to:`/wallet/account/${e.index}/plotnfts`,label:"PlotNFTs"},{to:`/wallet/account/${e.index}/details`,label:l("account_menu.info")},{to:`/wallet/account/${e.index}/options`,icon:Kl}]),{rows:s}=po(I({index:E(()=>e.index),state:!0})),i=v(()=>s.value.reduce((d,u)=>(u.ask_balance>0?1:0)+d,0));return(d,u)=>(f(),g(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(D,null,ie(o(r),(_,m)=>(f(),g(Ke,{key:m,to:_.to,exact:_.exact??!1,label:_.label,icon:_.icon},{default:n(()=>[_.badge?(f(),g(aa,{key:0,color:"positive",floating:"",transparent:"",rounded:""},{default:n(()=>[q(b(_.badge),1)]),_:2},1024)):P("",!0)]),_:2},1032,["to","exact","label","icon"]))),128))]),_:1}))}},To={__name:"index",props:{index:{type:Number,required:!0},useRouterView:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{noData:l}=Vt(I({index:e.index})),r=Ve();return e.useRouterView&&(r.activeWalletIndex=e.index),(s,i)=>{const d=Pe,u=Ut,_=Ct;return f(),x("div",null,[a(o(ou),{index:t.index},null,8,["index"]),o(l)?(f(),g(_,{key:1,title:"No such wallet",icon:o(ka)},null,8,["icon"])):(f(),x(D,{key:0},[a(o(au),{index:t.index},null,8,["index"]),t.useRouterView?(f(),g(d,{key:0,index:t.index},null,8,["index"])):(f(),g(u,{key:1,index:t.index},null,8,["index"]))],64))])}}},nu=Object.freeze(Object.defineProperty({__proto__:null,default:To},Symbol.toStringTag,{value:"Module"})),su={class:"q-gutter-y-sm"},ru={class:"row justify-end"},iu={__name:"AccountIndex",setup(t){const{rows:e,loading:l}=mo();return(r,s)=>(f(),x("div",null,[o(l)?(f(),g(pt,{key:0,query:"",class:"absolute-top"})):P("",!0),y("div",su,[(f(!0),x(D,null,ie(o(e),(i,d)=>(f(),g(o(To),{key:d,index:i.account,"use-router-view":!1},null,8,["index"]))),128)),y("div",ru,[a(j,{to:"/wallet/create",icon:o(Ql),label:r.$t("wallet_summary.new_wallet"),size:"md",outline:"",rounded:"",color:"primary"},null,8,["icon","label"])])])]))}},uu=Object.freeze(Object.defineProperty({__proto__:null,default:iu},Symbol.toStringTag,{value:"Module"})),du=t=>{try{if(cn.decode(t).words.length!=52)return!1}catch{return!1}return!0},Y={number:t=>!t||/^\d+$/.test(t)||"Invalid number",address:t=>!t||du(t)||"Invalid address",required:t=>!$l(t)||"Field is required",amount:t=>$l(t)||typeof t=="number"&&t>0||"Invalid amount",memo:t=>t&&t.length>64?"Maximum length is 64":!0},cu={__name:"SeedWord",props:At({wordList:{type:Array,required:!0}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=qt(t,"modelValue"),l=t,r=L(l.wordList),s=(u,_,m)=>{_(()=>{const c=u.toLowerCase();r.value=l.wordList.filter(p=>p.toLowerCase().indexOf(c)==0)},c=>{u!==""&&c.options.length>0&&c.getOptionIndex()===-1&&(c.moveOptionSelection(1,!0),c.toggleOption(c.options[c.optionIndex],!0))})},i=u=>{e.value=u},d=u=>l.wordList?.includes(u)||"Invalid word";return(u,_)=>(f(),g(be,Ie({modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=m=>e.value=m)},u.$attrs,{options:o(r),"hide-dropdown-icon":"","fill-input":"","use-input":"","hide-selected":"",outlined:"","input-debounce":"0",rules:[o(Y).required,d],"hide-bottom-space":"","no-error-icon":"","input-class":"text-bold",onFilter:s,onInputValue:i}),null,16,["modelValue","options","rules"]))}},mu=pe(cu,[["__scopeId","data-v-2a2006f5"]]),_u={class:"row q-row-gutter-xs q-col-gutter-xs"},Rt=24,Co={__name:"index",props:At({readonly:{type:Boolean,required:!1,default:!1}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=qt(t,"modelValue"),l=L(new Array(Rt).fill("")),r=(i,d)=>{i=i.trim();const u=i.split(" ").length;u==1?e.value=l.value.join(" "):u==Rt&&(e.value=i,s())},s=()=>{e.value?l.value=e.value.split(" ").slice(0,Rt):l.value=new Array(Rt).fill("")};return fe(()=>s()),(i,d)=>{const u=mu;return f(),x("div",null,[y("div",_u,[(f(!0),x(D,null,ie(o(l),(_,m)=>(f(),g(u,{key:m,modelValue:o(l)[m],"onUpdate:modelValue":[c=>o(l)[m]=c,c=>r(c)],"word-list":o(mn),label:(m+1).toString(),readonly:t.readonly,class:"col-md-2 col-sm-3 col-xs-4"},null,8,["modelValue","onUpdate:modelValue","word-list","label","readonly"]))),128))])])}}},pu={class:"q-gutter-y-sm"},fu={class:"row q-gutter-x-sm"},yu={class:"col-8"},hu={class:"col"},gu={class:"q-gutter-y-sm"},bu={class:"text-subtitle1"},vu={class:"q-gutter-y-sm"},wu={class:"row full-width justify-end"},xu={__name:"WalletCreate",setup(t){const e=L(!1),l=L(!1),r=L(!1),s=L(!1),i=L(""),d=L(1),u=L(),_=L(),m=L(),c=ot(),p=$i(),h=Pn(),w=()=>{l.value&&r.value&&m.value?V():k()},k=()=>{e.value=!0;const S={config:{name:i.value,numAddresses:d.value},...l.value&&{words:u.value},...r.value&&{passphrase:_.value}};p.mutate(S,{onSuccess:()=>{c.push("/wallet/")},onSettled:()=>{e.value=!1}})},V=()=>{e.value=!0;const S={words:u.value,finger_print:m.value,passphrase:_.value};h.mutate(S,{onSuccess:()=>{k()},onSettled:()=>{e.value=!1}})};return(S,T)=>{const $=Co;return f(),x("div",pu,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",fu,[y("div",yu,[a(N,{modelValue:o(i),"onUpdate:modelValue":T[0]||(T[0]=F=>z(i)?i.value=F:null),label:S.$t("create_wallet.account_name")},null,8,["modelValue","label"])]),y("div",hu,[a(N,{modelValue:o(d),"onUpdate:modelValue":T[1]||(T[1]=F=>z(d)?d.value=F:null),modelModifiers:{number:!0},label:S.$t("create_wallet.number_of_addresses")},null,8,["modelValue","label"])])])]),_:1})]),_:1}),a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",gu,[a(Ze,{modelValue:o(l),"onUpdate:modelValue":T[2]||(T[2]=F=>z(l)?l.value=F:null),label:S.$t("create_wallet.use_custom_seed")},null,8,["modelValue","label"]),o(l)?(f(),x(D,{key:0},[y("div",bu,b(S.$t("create_wallet.seed_words")),1),a($,{modelValue:o(u),"onUpdate:modelValue":T[3]||(T[3]=F=>z(u)?u.value=F:null)},null,8,["modelValue"])],64)):P("",!0)])]),_:1})]),_:1}),a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",vu,[a(Ze,{modelValue:o(r),"onUpdate:modelValue":T[4]||(T[4]=F=>z(r)?r.value=F:null),label:S.$t("create_wallet.use_passphrase")},null,8,["modelValue","label"]),o(r)?(f(),x(D,{key:0},[a(N,{modelValue:o(_),"onUpdate:modelValue":T[6]||(T[6]=F=>z(_)?_.value=F:null),label:S.$t("create_wallet.passphrase"),outlined:"",type:o(s)?"text":"password",autocomplete:"new-password"},{append:n(()=>[a(Se,{name:o(s)?o(Hl):o(zl),class:"cursor-pointer",onClick:T[5]||(T[5]=F=>s.value=!o(s))},null,8,["name"])]),_:1},8,["modelValue","label","type"]),o(l)?(f(),g(N,{key:0,modelValue:o(m),"onUpdate:modelValue":T[7]||(T[7]=F=>z(m)?m.value=F:null),label:"Fingerprint (optional, to validate passphrase)",outlined:""},null,8,["modelValue"])):P("",!0)],64)):P("",!0)])]),_:1})]),_:1}),y("div",wu,[a(j,{icon:o(Ql),label:S.$t("create_wallet.create_wallet"),loading:o(e),color:"primary",outline:"",onClick:w},null,8,["icon","label","loading"])])])}}},ku=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Su=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(62-e)),Ro={__name:"TxTypeLink",props:{id:{type:String,required:!0},type:{type:String,required:!0}},setup(t){const e=t,l=v(()=>{switch(e.type){case"REWARD":case"VDF_REWARD":case"PROJECT_REWARD":return"/explore/block/hash/"+e.id;default:return"/explore/transaction/"+e.id}});return(r,s)=>{const i=le("RouterLink");return f(),g(i,{to:o(l)},{default:n(()=>[$t(r.$slots,"default")]),_:3},8,["to"])}}},Ft=t=>t=="REWARD"?"text-lime-8":t=="RECEIVE"||t=="REWARD"||t=="VDF_REWARD"?"text-positive":t=="SPEND"?"text-negative":t=="TXFEE"?"text-grey":"";function $u(){const t=El(),e=(r,s,i)=>{let d=s!==void 0?s(r,i):r;return d=d==null?"":String(d),d=d.split('"').join('""'),`"${d}"`};return{exportTable:(r,s,i="export.csv")=>{const d=[s.map(_=>e(_.label))].concat(r.map(_=>s.map(m=>e(typeof m.field=="function"?m.field(_):_[m.field===void 0?m.name:m.field],m.format,_)).join(","))).join(`\r
`);na(i,d,"text/csv")!==!0&&t.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}}}const qu={key:0},Vu={key:0,class:"text-orange"},Lo={__name:"AccountHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!0},memo:{type:String,required:!1,default:null},type:{type:String,required:!1,default:null},currency:{type:String,required:!1,default:null},exportEnabled:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("account_history.height"),field:"height",headerStyle:"width: 7%"},{label:l("account_history.type"),field:"type",headerStyle:"width: 8%",classes:_=>Ft(_.type)},{label:l("account_history.amount"),field:"value",headerClasses:"dense-amount",classes:"dense-amount",headerStyle:"width: 7%",style:"font-weight: bold;",align:"right"},{name:"token",label:l("account_history.token"),field:"symbol",headerClasses:"dense-symbol",classes:"dense-symbol",headerStyle:"width: 5%",align:"left"},{name:"address",label:l("account_history.address"),field:"address",headerStyle:"width: 15%",align:"left"},{label:"Memo",field:"memo",style:"word-break: break-all;",align:"left"},{name:"txid",label:l("account_history.link"),field:"txid",headerStyle:"width: 5%"},{label:l("account_history.time"),field:_=>_,format:_=>_.is_pending?"":new Date(_.time_stamp).toLocaleString(),headerStyle:"width: 15%",classes:"text-no-wrap",align:"left"}]),{rows:s,loading:i}=hs(I({index:E(()=>e.index),limit:E(()=>e.limit),memo:E(()=>e.memo),type:E(()=>e.type),currency:E(()=>e.currency)})),{exportTable:d}=$u(),u=()=>{d(s.value,r.value)};return(_,m)=>{const c=de,p=le("RouterLink"),h=Ro;return f(),g(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":n(w=>[a(O,{props:w},{default:n(()=>[w.row.is_pending?(f(),x("i",qu,"pending")):(f(),g(p,{key:1,to:`/explore/block/height/${w.value}`,class:"text-primary"},{default:n(()=>[q(b(w.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-token":n(w=>[a(O,{props:w},{default:n(()=>[w.row.is_native?(f(),x(D,{key:0},[q(b(w.value),1)],64)):(f(),g(p,{key:1,to:`/explore/address/${w.row.contract}`,class:"text-primary mono"},{default:n(()=>[q(b(w.row.is_nft?"[NFT]":w.row.symbol)+" ",1),w.row.is_validated?P("",!0):(f(),x("span",Vu,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":n(w=>[a(O,{props:w},{default:n(()=>[a(p,{to:`/explore/address/${w.value}`,class:"text-primary mono"},{default:n(()=>[q(b(("getShortAddr"in _?_.getShortAddr:o(Su))(w.value)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":n(w=>[a(O,{props:w},{default:n(()=>[a(h,{id:w.value,type:w.row.type,class:"text-primary"},{default:n(()=>m[0]||(m[0]=[q("TX")])),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(w=>[a(c,{props:w,"row-count":6},null,8,["props"])]),key:"0"}:void 0,t.exportEnabled?{name:"top-right",fn:n(()=>[a(j,{color:"primary","icon-right":o(Sa),label:"Export to csv",outline:"",rounded:"","no-caps":"",onClick:u},null,8,["icon-right"])]),key:"1"}:void 0]),1032,["rows","columns","loading"])}}},Tu={class:"q-gutter-y-sm"},Cu={__name:"AccountHome",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Ut,s=Lo;return f(),x("div",Tu,[a(r,{index:t.index},null,8,["index"]),a(s,{index:t.index,limit:50},null,8,["index"])])}}},Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),Lu={class:"q-gutter-y-sm"},Fu={__name:"AccountNFT",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:"NFT",field:"item",align:"left"}]),{rows:s,loading:i}=je(I({index:E(()=>e.index),show_all:!1}),d=>d.nfts);return(d,u)=>{const _=de,m=le("RouterLink");return f(),x("div",Lu,[a(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/address/${c.value}`,class:"text-primary mono"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),hl={__name:"BalanceTable",props:{address:{type:String,required:!0},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("balance_table.balance"),field:"total",format:d=>xt(d),headerStyle:"width: 7%"},{label:l("balance_table.locked"),field:"locked",format:d=>xt(d),headerStyle:"width: 7%"},{label:l("balance_table.spendable"),field:"spendable",format:d=>xt(d),headerStyle:"width: 7%",style:"font-weight: bold;"},{label:l("balance_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("balance_table.contract"),field:"contract",align:"left"}]),{rows:s,loading:i}=go(I({id:E(()=>e.address)}));return(d,u)=>{const _=de,m=le("RouterLink");return o(i)||!o(i)&&(o(s)?.length||t.showEmpty)?(f(),g(te,{key:0,rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/address/${c.value}`,class:"text-primary mono"},{default:n(()=>[q(b(c.row.is_native?"":c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):P("",!0)}}},Iu={key:0},Pu={class:"key-cell m-bg-grey"},Au={class:"textwarp mono"},Eu={key:1,class:"hex"},Du={__name:"ObjectTable",props:{data:{type:Object,default:null}},setup(t){const e=L({}),l=u=>u instanceof Object?JSON.stringify(u,null,4):u,r=u=>typeof u=="string"&&u.startsWith("mmx1")&&u.length==62,s=(u,_)=>u instanceof Object&&Object.keys(u).length>0||_=="source",i=u=>{e.value[u]||(e.value[u]=!1),e.value[u]=!e.value[u]},d=u=>u&&u.length>68&&u.length%2==0&&/^[0-9a-fA-F]+$/.test(u);return(u,_)=>{const m=le("highlightjs"),c=le("RouterLink");return f(),g(Et,{flat:""},{default:n(()=>[y("tbody",null,[(f(!0),x(D,null,ie(t.data,(p,h)=>(f(),x(D,{key:h},[h!="__type"?(f(),x("tr",Iu,[y("td",Pu,b(h),1),y("td",Au,[p instanceof Object||h=="source"?(f(),x(D,{key:0},[s(p,h)?(f(),g(j,{key:0,icon:o(e)[h]?o(qa):o($a),"fab-mini":"",class:"float-right",onClick:w=>i(h)},null,8,["icon","onClick"])):P("",!0),a(m,{code:l(p),class:se({hljsCode:!0,collapsed:!o(e)[h]})},null,8,["code","class"])],64)):(f(),x(D,{key:1},[r(p)?(f(),g(c,{key:0,to:`/explore/address/${p}`,class:"text-primary mono"},{default:n(()=>[q(b(p),1)]),_:2},1032,["to"])):d(p)?(f(),x("div",Eu,b(p),1)):(f(),x(D,{key:2},[q(b(p),1)],64))],64))])])):P("",!0)],64))),128))])]),_:1})}}},Kt=pe(Du,[["__scopeId","data-v-4d5a1ef0"]]),ju={class:"row q-gutter-x-none"},Wu={key:0,class:"row justify-end q-gutter-xs"},Mu={__name:"AccountContractsIndex",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=_o(e),r=v(()=>l.value),s=ot(),i=(u,_)=>{s.push("/wallet/account/"+u+"/send/"+_)},d=(u,_)=>{s.push("/wallet/account/"+u+"/send_from/"+_)};return(u,_)=>{const m=Ne,c=Kt,p=hl;return f(!0),x(D,null,ie(o(r),(h,w)=>(f(),x("div",{key:w,class:"q-gutter-y-xs"},[y("div",null,[y("div",ju,[a(m,{square:"",outline:""},{default:n(()=>[q(b(h.__type),1)]),_:2},1024),a(m,{square:"",outline:""},{default:n(()=>[q(b(h.address),1)]),_:2},1024)]),a(A,{flat:""},{default:n(()=>[a(c,{data:h},null,8,["data"])]),_:2},1024)]),y("div",null,[a(p,{address:h.address},null,8,["address"])]),h.__type!="mmx.contract.Executable"?(f(),x("div",Wu,[a(j,{label:u.$t("account_contract_summary.deposit"),icon:o(ll),outline:"",color:"positive",onClick:k=>i(t.index,h.address)},null,8,["label","icon","onClick"]),a(j,{label:u.$t("account_contract_summary.withdraw"),icon:o(dl),outline:"",color:"negative",onClick:k=>d(t.index,h.address)},null,8,["label","icon","onClick"])])):P("",!0)]))),128)}}},Bu={class:"q-gutter-y-sm"},Nu={class:"row justify-end"},Uu={__name:"CreateContractMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=L(),r=v(()=>[]),s=ot(),i=()=>{s.push("/wallet/account/"+e.index+"/create/"+l.value)};return(d,u)=>(f(),x("div",null,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",Bu,[a(be,{modelValue:o(l),"onUpdate:modelValue":u[0]||(u[0]=_=>z(l)?l.value=_:null),options:o(r),label:d.$t("create_contract_menu.contract_type"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"]),y("div",Nu,[a(j,{label:d.$t("common.create"),icon:o(Va),"text-color":"primary",outline:"",disable:!o(l),onClick:i},null,8,["label","icon","disable"])])])]),_:1})]),_:1})]))}},Ku={class:"q-gutter-y-sm q-mt-sm"},Qu={__name:"index",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>(f(),x("div",Ku,[a(Uu,{index:t.index},null,8,["index"]),a(Mu,{index:t.index},null,8,["index"])]))}},zu=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),Fo={__name:"AccountTxHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!1,default:200}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("account_tx_history.height"),field:"height",headerStyle:"width: 7%"},{label:"Type",field:"note",headerStyle:"width: 11%"},{label:"Fee",field:d=>d.height&&d.fee&&d.fee.value,format:d=>d?d.toFixed(3):"...",headerStyle:"width: 12%",xclasses:"main-currency"},{label:l("account_tx_history.confirmed"),field:"confirm",format:d=>d?d>1e3?"> 1000":d:null,headerStyle:"width: 7%"},{label:l("account_tx_history.status"),field:"state",headerStyle:"width: 7%",classes:d=>d.state=="failed"?"text-negative":null},{name:"transaction_id",label:l("account_tx_history.transaction_id"),field:"id",align:"left"},{label:l("account_tx_history.time"),field:"time",format:d=>new Date(d).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:s,loading:i}=vs(e);return(d,u)=>{const _=de,m=le("RouterLink");return f(),g(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/block/height/${c.value}`,class:"text-primary"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-transaction_id":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/transaction/${c.value}`,class:"text-primary mono"},{default:n(()=>[q(b(("getShortHash"in d?d.getShortHash:o(Nt))(c.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(c=>[a(O,{props:c},{default:n(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(c))},b(c.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":6},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Hu=t=>{const e=L([]),l=L([]),r=L(!1),s=()=>{if(t.value){const u=t.value.getValidationComponents().filter(_=>_.rules);e.value=new Array(u.length).fill(!1),u.forEach((_,m)=>{const c=ke(()=>_.modelValue,p=>{const h=_.rules?.every(w=>w(p)===!0)??!1;e.value[m]=h},{deep:!0,immediate:!0});l.value.push(c)}),r.value=!0}},i=v(()=>e.value.some(u=>u===!1)),d=v(()=>r.value?i.value===!1:!1);return sa(()=>{s()}),{isValid:d,setupValidation:s}},Xu=(t,e)=>{const l=L(null),r=L(!1),s=v(()=>({...t}));ke(s,(p,h)=>{p.feeRatio===h.feeRatio&&(r.value=!1)}),ke(r,p=>{p&&i()});const i=()=>{l.value.validate()},{isValid:d,setupValidation:u}=Hu(l),_=()=>{u()},m=v(()=>d.value&&r.value);return{formRef:l,confirmed:r,isValid:d,isValidConfirmed:m,reset:()=>{Object.assign(t,e),r.value=!1},validate:i,onDialogShow:_}},Te={__name:"WForm",props:{data:{type:Object,required:!0},defaultData:{type:Object,required:!0},onSubmit:{type:Function,required:!1,default:()=>{}},onReset:{type:Function,required:!1,default:()=>{}}},setup(t,{expose:e}){const l=t,{formRef:r,confirmed:s,isValid:i,isValidConfirmed:d,reset:u,onDialogShow:_,validate:m}=Xu(l.data,l.defaultData),c=()=>{u(),l.onReset()},p=async()=>{s.value=!1,l.onSubmit()},h=async()=>{c()},w=I({confirmed:s,isValid:i,isValidConfirmed:d});return ra("formState",w),e({reset:c,confirmed:s,isValid:i,isValidConfirmed:d,onDialogShow:_,validate:m}),(k,V)=>(f(),g(sl,{ref_key:"formRef",ref:r,onSubmit:p,onReset:h},{default:n(()=>[$t(k.$slots,"default")]),_:3},512))}},Ae={__name:"WBtnSubmit",setup(t){const e=Dl("formState"),{confirmed:l,isValid:r,isValidConfirmed:s}=dt(e),i=L(null),d=v(()=>l.value?i.value?.disable?"negative":"positive":"");return(u,_)=>(f(),g(j,{ref_key:"btnRef",ref:i,type:"submit",color:o(d),outline:"",disable:!o(s)},null,8,["color","disable"]))}},Ee={__name:"WToggleConfirmed",setup(t){const e=Dl("formState");return(l,r)=>(f(),g(ia,{modelValue:o(e).confirmed,"onUpdate:modelValue":r[0]||(r[0]=s=>o(e).confirmed=s),label:l.$t("common.confirm")},null,8,["modelValue","label"]))}},Gu={};function Ju(t,e){return f(),g(j,{label:"Reset",type:"reset",color:"primary",flat:""})}const Ce=pe(Gu,[["render",Ju]]),Yu={__name:"TxFeeInput",props:At({error:{type:String,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1},locked:{type:Boolean,required:!1,default:!1}},{modelValue:{type:Number,required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=qt(t,"modelValue"),l=t;return v(()=>l.loading&&l.error===null),(r,s)=>(f(),g(N,Ie({"model-value":e.value},r.$attrs,{label:r.$t("account_history_form.tx_fee"),suffix:"MMX","input-class":"amount-input",readonly:"",class:"col-2"}),{default:n(()=>[a(Xt,{showing:t.loading},{default:n(()=>[a(ua,{color:"grey",size:"2em"})]),_:1},8,["showing"]),a(Xt,{showing:t.locked},{default:n(()=>[a(Se,{name:o(Ta),size:"sm",class:"text-warning"},{default:n(()=>[a(Qe,null,{default:n(()=>s[0]||(s[0]=[q("Unlock wallet to see estimated fee")])),_:1})]),_:1},8,["name"])]),_:1},8,["showing"]),a(Xt,{showing:t.error!=null},{default:n(()=>[a(Se,{name:o(Xl),size:"sm",class:"text-warning"},{default:n(()=>[a(Qe,null,{default:n(()=>[q(b(t.error),1)]),_:1})]),_:1},8,["name"])]),_:1},8,["showing"])]),_:1},16,["model-value","label"]))}},De=pe(Yu,[["__scopeId","data-v-1852591f"]]),Re={__name:"TxFeeSelect",props:{modelValue:{type:Number,required:!1,default:1024},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=qt(t,"modelValue"),l=v(()=>[{label:"1x (min fee)",value:1024},{label:"2x",value:2048},{label:"3x",value:3072},{label:"5x",value:5120},{label:"10x",value:10240},{label:"20x",value:20480}]);return fe(()=>{e.value||(e.value=1024)}),(r,s)=>(f(),g(be,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=i=>e.value=i),options:o(l),"emit-value":"","map-options":"",label:"TX Fee Ratio"},null,8,["modelValue","options"]))}},Qt={__name:"XSelect",setup(t){return(e,l)=>(f(),g(be,Ie(e.$attrs,{"emit-value":"","map-options":""}),{"selected-item":n(r=>[a(el,Ie(r.itemProps,{class:"q-pb-none",style:{"min-height":"unset"}}),{default:n(()=>[a(vt,{avatar:"",class:"content-end q-pb-none"},{default:n(()=>[a(wt,{class:se({"text-bold":r.opt.value!==null})},{default:n(()=>[q(b(r.opt.label),1)]),_:2},1032,["class"])]),_:2},1024),r.opt.description?(f(),g(vt,{key:0},{default:n(()=>[a(wt,{class:se(r.opt.descriptionClasses)},{default:n(()=>[q(b(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):P("",!0)]),_:2},1040)]),option:n(r=>[a(el,Dt(jt(r.itemProps)),{default:n(()=>[a(vt,{avatar:"",class:"content-end"},{default:n(()=>[a(wt,null,{default:n(()=>[q(b(r.opt.label),1)]),_:2},1024)]),_:2},1024),r.opt.description?(f(),g(vt,{key:0},{default:n(()=>[a(wt,{class:se(r.opt.descriptionClasses)},{default:n(()=>[q(b(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):P("",!0)]),_:2},1040)]),_:1},16))}},Oo={__name:"BalanceTokenSelect",props:{index:{type:Number,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=M(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),s.value.map(d=>{const u=d.symbol,_=d.contract,m=d.contract;d.is_native?i.push({label:u,value:_}):i.push({label:u,value:_,description:m,descriptionClasses:"mono"})}),i}),{rows:s}=je(I({index:E(()=>e.index)}),i=>i.balances);return(i,d)=>{const u=Qt;return f(),g(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},Zu={__name:"AddressTokenSelect",props:{address:{type:String,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=M(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),s.value.map(d=>{const u=d.symbol,_=d.contract,m=d.decimals||0,c=d.contract,p="mono",h=d.is_native;var w={label:u,value:_,decimals:m};h||(w={...w,description:c,descriptionClasses:p}),i.push(w)}),i}),{rows:s}=Zs(I({id:E(()=>e.address)}),i=>i.balances);return(i,d)=>{const u=Qt;return f(),g(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},gl={__name:"WalletSelect",props:At({nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},{modelValue:{type:[Number,Object],required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=qt(t,"modelValue"),l=t,{t:r}=M(),s=v(()=>{const d=[];return l.nullItem&&d.push({label:l.nullLabel,value:null}),i.value.map(u=>{const _=`${r("market_menu.wallet")} #${u.account}`,m=u.account,c=u.address,p=u.address;d.push({label:_,value:m,address:c,description:p,descriptionClasses:"mono"})}),d}),{rows:i}=mo();return fe(()=>{i.value.length>0&&!e.value&&(e.value=s.value[0].value)}),(d,u)=>{const _=Qt;return f(),g(_,Ie({modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=m=>e.value=m)},d.$attrs,{options:o(s)}),null,16,["modelValue","options"])}}},ed=t=>{const e=v(()=>t.value?.isValid??!1),l=v(()=>t.value?.isValidConfirmed??!1);return{isValid:e,isValidConfirmed:l}},Le=(t,e)=>{const{isValid:l,isValidConfirmed:r}=ed(t),s=v(()=>l.value&&!e.value),i=v(()=>r.value&&!e.value);return{isValid:l,isValidConfirmed:r,isValidUnlocked:s,isValidConfirmedUnlocked:i}},td={class:"q-gutter-y-sm"},ld={class:"row q-gutter-x-sm"},od={class:"row justify-end q-col-gutter-sm"},ad={class:"row"},nd={class:"col"},sd={class:"col-11"},rd={class:"row justify-end q-gutter-x-sm"},id={__name:"AccountSendForm",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t,l={destination:null,amount:null,currency:null,memo:null,feeRatio:null},r=L(null),s=I({...l}),i=L(null),d=()=>{e.target?s.destination=e.target:s.destination=i.value&&i.value?.address};fe(()=>{d()});const u=async()=>{i.value=null,d()},_=v(()=>({index:e.index,amount:s.amount,currency:s.currency,...e.source&&{src_addr:e.source},dst_addr:s.destination,options:{...s.memo&&{memo:s.memo},fee_ratio:s.feeRatio}})),{promptPassphrase:m,isLocked:c}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:p}=Le(r,c),{data:h,isLoading:w,latestError:k}=co(_,p),V=lo(),S=async()=>{const T=await m(),$={..._.value,options:{..._.value.options,passphrase:T}};await V.mutateAsync($)};return(T,$)=>{const F=gl,H=Zu,K=Oo,Q=Re,ae=De,me=Ce,Z=Ee,ee=Ae,oe=Te;return f(),g(A,{flat:""},{default:n(()=>[a(oe,{ref_key:"formRef",ref:r,data:o(s),"default-data":l,onReset:u,onSubmit:S},{default:n(()=>[a(B,null,{default:n(()=>[y("div",td,[t.source?(f(),g(N,{key:0,"model-value":t.source,label:T.$t("account_send_form.source_address"),readonly:""},null,8,["model-value","label"])):P("",!0),t.target?P("",!0):(f(),g(F,{key:1,modelValue:o(i),"onUpdate:modelValue":$[0]||($[0]=W=>z(i)?i.value=W:null),label:T.$t("account_send_form.destination"),"null-item":"","null-label":T.$t("account_send_form.address_input"),"emit-value":!1,clearable:o(i)?.value!=null,disable:!!t.target},null,8,["modelValue","label","null-label","clearable","disable"])),a(N,{modelValue:o(s).destination,"onUpdate:modelValue":$[1]||($[1]=W=>o(s).destination=W),label:T.$t("account_send_form.destination_address"),placeholder:"mmx1...",rules:[o(Y).required,o(Y).address],"hide-bottom-space":"","input-class":"text-bold",readonly:!!o(i)?.value||!!t.target,clearable:o(s).destination!=null},null,8,["modelValue","label","rules","readonly","clearable"]),y("div",ld,[a(N,{modelValue:o(s).amount,"onUpdate:modelValue":$[2]||($[2]=W=>o(s).amount=W),modelModifiers:{number:!0},label:T.$t("account_send_form.amount"),rules:[o(Y).required,o(Y).amount],"hide-bottom-space":"","input-class":"amount-input",class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),t.source?(f(),g(H,{key:0,modelValue:o(s).currency,"onUpdate:modelValue":$[3]||($[3]=W=>o(s).currency=W),rules:[o(Y).required],address:t.source,label:T.$t("account_send_form.currency"),clearable:o(s).currency!=null,class:"col"},null,8,["modelValue","rules","address","label","clearable"])):(f(),g(K,{key:1,modelValue:o(s).currency,"onUpdate:modelValue":$[4]||($[4]=W=>o(s).currency=W),rules:[o(Y).required],index:t.index,label:T.$t("account_send_form.currency"),clearable:o(s).currency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"]))]),a(N,{modelValue:o(s).memo,"onUpdate:modelValue":$[5]||($[5]=W=>o(s).memo=W),label:"Memo",rules:[o(Y).memo],"_hide-bottom-space":"",clearable:o(s).memo!=null},null,8,["modelValue","rules","clearable"]),y("div",od,[a(Q,{modelValue:o(s).feeRatio,"onUpdate:modelValue":$[6]||($[6]=W=>o(s).feeRatio=W),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(h),"onUpdate:modelValue":$[7]||($[7]=W=>z(h)?h.value=W:null),loading:o(w),error:o(k),locked:o(c),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:n(()=>[y("div",ad,[y("div",nd,[a(me)]),y("div",sd,[y("div",rd,[a(Z),a(ee,{label:T.$t("account_send_form.send"),icon:o(dl)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},ud={class:"q-gutter-y-sm"},dd={__name:"index",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t;return(l,r)=>{const s=hl,i=Ut,d=Fo;return f(),x("div",ud,[t.source?(f(),g(s,{key:0,address:t.source,"show-empty":""},null,8,["address"])):(f(),g(i,{key:1,index:t.index},null,8,["index"])),a(id,Dt(jt(e)),null,16),a(d,{index:t.index,limit:10},null,8,["index"])])}}},Ol=Object.freeze(Object.defineProperty({__proto__:null,default:dd},Symbol.toStringTag,{value:"Module"})),zt={__name:"TokenSelect",props:{nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=M(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),s.value.map(d=>{const u=d.symbol,_=d.currency,m=d.decimals,c=d.currency,p="mono",h=d.is_native;var w={label:u,value:_,decimals:m};h||(w={...w,description:c,descriptionClasses:p}),i.push(w)}),i}),{rows:s}=ft();return(i,d)=>{const u=Qt;return f(),g(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},cd={class:"q-gutter-y-sm q-mt-sm"},md={class:"row"},_d={class:"row q-mt-xs"},pd={__name:"AccountHistory",props:{index:{type:Number,required:!0}},setup(t){const e=L(200),l=L(null),r=L(null),s=L();fe(()=>{s.value?.length>0?l.value="RECEIVE":l.value=null});const{t:i}=M(),d=v(()=>[{label:i("account_history_form.any"),value:null},{label:i("account_history_form.spend"),value:"SPEND"},{label:i("account_history_form.receive"),value:"RECEIVE"},{label:i("account_history_form.reward"),value:"REWARD"},{label:"VDF "+i("account_history_form.reward"),value:"VDF_REWARD"},{label:i("account_history_form.tx_fee"),value:"TXFEE"}]);return(u,_)=>{const m=zt,c=Lo;return f(),x("div",cd,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",md,[a(be,{modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=p=>z(l)?l.value=p:null),options:o(d),"emit-value":"","map-options":"",label:u.$t("account_history.type"),disable:o(s)?.length>0,clearable:o(l)!==null,class:"col-3"},{"selected-item":n(p=>[y("div",{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Ft))(p.opt.value))},b(p.opt.label),3)]),option:n(p=>[a(el,Dt(jt(p.itemProps)),{default:n(()=>[a(vt,null,{default:n(()=>[a(wt,{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Ft))(p.opt.value))},{default:n(()=>[q(b(p.opt.label),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","disable","clearable"]),a(m,{modelValue:o(r),"onUpdate:modelValue":_[1]||(_[1]=p=>z(r)?r.value=p:null),label:u.$t("account_history.token"),"null-item":"","null-label":u.$t("account_history_form.any"),clearable:o(r)!==null,class:"q-ml-md col"},null,8,["modelValue","label","null-label","clearable"])]),y("div",_d,[a(N,{modelValue:o(s),"onUpdate:modelValue":_[2]||(_[2]=p=>z(s)?s.value=p:null),label:"Memo",class:"col",clearable:""},null,8,["modelValue"])])]),_:1})]),_:1}),a(c,{index:t.index,limit:o(e),type:o(l),currency:o(r),memo:o(s),"export-enabled":"",class:"q-mt-sm"},null,8,["index","limit","type","currency","memo"])])}}},fd=Object.freeze(Object.defineProperty({__proto__:null,default:pd},Symbol.toStringTag,{value:"Module"})),yd={class:"q-gutter-y-sm"},hd={__name:"AccountLog",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Fo;return f(),x("div",yd,[a(r,{index:t.index,limit:200},null,8,["index"])])}}},gd=Object.freeze(Object.defineProperty({__proto__:null,default:hd},Symbol.toStringTag,{value:"Module"})),bd={class:"q-gutter-y-sm"},vd={class:"row q-gutter-x-sm"},wd={class:"row q-gutter-x-sm"},xd={class:"row justify-end q-col-gutter-sm"},kd={class:"row"},Sd={class:"col"},$d={class:"col-11"},qd={class:"row justify-end q-gutter-x-sm"},Vd={__name:"AccountOfferForm",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={bidAmount:null,bidCurrency:null,price:null,askCurrency:null,feeRatio:null},r=L(null),s=I({...l}),i=v(()=>{const{bidCurrency:V,askCurrency:S}=s;return V&&S?`${V.label} / ${S.label}`:null}),d=v(()=>({index:e.index,bid:s.bidAmount,bid_currency:s.bidCurrency?.value,price:s.price,ask_currency:s.askCurrency?.value,options:{fee_ratio:s.feeRatio}})),{promptPassphrase:u,isLocked:_}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:m}=Le(r,_),{data:c,isLoading:p,latestError:h}=Qn(d,m),w=En(),k=async()=>{const V=await u(),S={...d.value,options:{...d.value.options,passphrase:V}};await w.mutateAsync(S)};return(V,S)=>{const T=Oo,$=zt,F=Re,H=De,K=Ce,Q=Ee,ae=Ae,me=Te;return f(),g(A,{flat:""},{default:n(()=>[a(me,{ref_key:"formRef",ref:r,data:o(s),"default-data":l,onSubmit:k},{default:n(()=>[a(B,null,{default:n(()=>[y("div",bd,[y("div",vd,[a(N,{modelValue:o(s).bidAmount,"onUpdate:modelValue":S[0]||(S[0]=Z=>o(s).bidAmount=Z),modelModifiers:{number:!0},label:V.$t("account_offer_form.offer_amount"),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),a(T,{modelValue:o(s).bidCurrency,"onUpdate:modelValue":S[1]||(S[1]=Z=>o(s).bidCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:V.$t("account_offer_form.offer_currency"),clearable:o(s).bidCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",wd,[a(N,{modelValue:o(s).price,"onUpdate:modelValue":S[2]||(S[2]=Z=>o(s).price=Z),modelModifiers:{number:!0},label:V.$t("account_offers.price"),suffix:o(i),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"price col-sm-3 col-xs-12"},null,8,["modelValue","label","suffix","rules"]),a($,{modelValue:o(s).askCurrency,"onUpdate:modelValue":S[3]||(S[3]=Z=>o(s).askCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:V.$t("account_offer_form.receive_currency"),clearable:o(s).askCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",xd,[a(F,{modelValue:o(s).feeRatio,"onUpdate:modelValue":S[4]||(S[4]=Z=>o(s).feeRatio=Z),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(H,{modelValue:o(c),"onUpdate:modelValue":S[5]||(S[5]=Z=>z(c)?c.value=Z:null),loading:o(p),error:o(h),locked:o(_),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:n(()=>[y("div",kd,[y("div",Sd,[a(K)]),y("div",$d,[y("div",qd,[a(Q),a(ae,{label:V.$t("account_offer_form.offer"),icon:o(Ca)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Td=pe(Vd,[["__scopeId","data-v-193ab7a4"]]),Cd={class:"row justify-end q-gutter-x-xs q-pa-none"},Rd={__name:"AccountOfferTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=L(!0),s=[{label:l("account_offers.any"),value:!1},{label:l("account_offers.open"),value:!0}],i=v(()=>[{label:l("account_offers.offering"),field:"bid_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{field:"bid_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.received"),field:"ask_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:V=>(V.ask_balance_value>0?"text-positive":"")+" dense-amount",align:"right"},{field:"ask_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.price"),field:"display_price",format:V=>parseFloat((1/V).toPrecision(6)),headerStyle:"width: 5%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{name:"price-symbol",field:V=>({symbol1:V.bid_symbol,symbol2:V.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"contract",field:"address",headerStyle:"width: 5%"},{name:"actions"}]),{rows:d,loading:u}=po(I({index:E(()=>e.index),state:r})),_=L(new Set),m=L(new Set),c=et(),p=V=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Tp),void 0,import.meta.url)),componentProps:{index:e.index,offer:V}}).onOk(()=>{_.value.delete(V.address)})},h=V=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Ap),void 0,import.meta.url)),componentProps:{index:e.index,offer:V}}).onOk(()=>{m.value.add(V.address)})},w=V=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Qp),void 0,import.meta.url)),componentProps:{index:e.index,offer:V}})},k=V=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>ef),void 0,import.meta.url)),componentProps:{index:e.index,offer:V}}).onOk(()=>{_.value.add(V.address)})};return(V,S)=>{const T=de,$=le("RouterLink");return f(),x(D,null,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[a(be,{modelValue:o(r),"onUpdate:modelValue":S[0]||(S[0]=F=>z(r)?r.value=F:null),options:s,"emit-value":"","map-options":"",label:V.$t("account_offers.status")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(te,{rows:o(d),columns:o(i),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-price-symbol":n(F=>[a(O,{props:F},{default:n(()=>[y("span",null,b(F.value.symbol1)+" / "+b(F.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-contract":n(F=>[a(O,{props:F},{default:n(()=>[a($,{to:`/explore/address/${F.value}`,class:"text-primary"},{default:n(()=>S[1]||(S[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":n(F=>[a(O,{props:F},{default:n(()=>[y("div",Cd,[a(j,{label:o(l)("account_offers.deposit"),_icon:o(ll),color:"positive",outline:"",onClick:H=>p(F.row)},null,8,["label","_icon","onClick"]),a(j,{disable:!(F.row.ask_balance>0)||o(m).has(F.row.address),label:o(l)("account_contract_summary.withdraw"),_icon:o(dl),color:"negative",outline:"",onClick:H=>h(F.row)},null,8,["disable","label","_icon","onClick"]),a(al,{vertical:"",inset:""}),a(j,{label:"Update",_icon:o(ll),color:"primary",outline:"",onClick:H=>w(F.row)},null,8,["_icon","onClick"]),a(j,{disable:!(F.row.bid_balance>0)||o(_).has(F.row.address),label:o(l)("account_offers.revoke"),_icon:o(Ra),color:"secondary",outline:"",onClick:H=>k(F.row)},null,8,["disable","label","_icon","onClick"])])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:n(F=>[a(T,{props:F,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])],64)}}},Ld={class:"q-gutter-y-sm"},Fd={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t;return(l,r)=>{const s=Ut;return f(),x("div",Ld,[a(s,{index:e.index},null,8,["index"]),a(Td,{index:e.index},null,8,["index"]),a(Rd,{index:e.index},null,8,["index"])])}}},Od=Object.freeze(Object.defineProperty({__proto__:null,default:Fd},Symbol.toStringTag,{value:"Module"})),Id={class:"q-gutter-y-sm"},Pd={__name:"AccountLiquid",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("common.balance"),field:d=>d.balance.value,headerStyle:"width: 8%",align:"right"},{name:"symbol",label:l("common.symbol"),field:"symbol",headerStyle:"width: 6%",align:"left"},{name:"contract",label:l("common.address"),field:"address",headerStyle:"width: 70%",align:"left"},{name:"actions",align:"right"}]),{rows:s,loading:i}=qs(e);return(d,u)=>{const _=de,m=le("RouterLink");return f(),x("div",Id,[a(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-actions":n(c=>[a(O,{props:c,class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:o(l)("common.manage"),_icon:o(La),outline:"",color:"secondary",to:`/swap/${c.row.address}/liquid`},null,8,["label","_icon","to"])]),_:2},1032,["props"])]),"body-cell-symbol":n(c=>[a(O,{props:c},{default:n(()=>[c.value!="MMX"?(f(),g(m,{key:0,to:`/explore/address/${c.row.currency}`,class:"text-primary"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])):(f(),x(D,{key:1},[q(b(c.value),1)],64))]),_:2},1032,["props"])]),"body-cell-contract":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/address/${c.value}`,class:"text-primary mono"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(c=>[a(O,{props:c},{default:n(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(c))},b(c.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Ad=Object.freeze(Object.defineProperty({__proto__:null,default:Pd},Symbol.toStringTag,{value:"Module"})),Ed={class:"q-gutter-y-sm"},Dd={class:"row justify-end q-col-gutter-sm"},jd={class:"row"},Wd={class:"col"},Md={class:"col-11"},Bd={class:"row justify-end q-gutter-x-sm"},Nd={__name:"AccountPlotNFTsCreate",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={name:null,feeRatio:null},r=L(null),s=I({...l}),i=v(()=>({index:e.index,name:s.name,options:{fee_ratio:s.feeRatio}})),{promptPassphrase:d,isLocked:u}=we(I({index:E(()=>e.index)})),{isValidConfirmed:_}=Le(r,u),m=v(()=>_.value?.095:null),c=Un(),p=async()=>{const h=await d(),w={...i.value,options:{...i.value.options,passphrase:h}};await c.mutateAsync(w)};return(h,w)=>{const k=Re,V=De,S=Ce,T=Ee,$=Ae,F=Te;return f(),g(A,{flat:""},{default:n(()=>[a(F,{ref_key:"formRef",ref:r,data:o(s),"default-data":l,onSubmit:p},{default:n(()=>[a(B,null,{default:n(()=>[y("div",Ed,[a(N,{modelValue:o(s).name,"onUpdate:modelValue":w[0]||(w[0]=H=>o(s).name=H),rules:[o(Y).required],label:"New PlotNFT Name"},null,8,["modelValue","rules"])]),y("div",Dd,[a(k,{modelValue:o(s).feeRatio,"onUpdate:modelValue":w[1]||(w[1]=H=>o(s).feeRatio=H),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(V,{modelValue:o(m),"onUpdate:modelValue":w[2]||(w[2]=H=>z(m)?m.value=H:null),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"])])]),_:1}),a(B,null,{default:n(()=>[y("div",jd,[y("div",Wd,[a(S)]),y("div",Md,[y("div",Bd,[a(T),a($,{label:h.$t("common.create")},null,8,["label"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Ud={key:0},Kd={class:"key-cell m-bg-grey"},rt={__name:"ListTable",props:{rows:{type:Object,required:!0},data:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{rows:l,data:r,loading:s}=dt(e),i=v(()=>e.rows.map(_=>{const m={};if(_.visible?m.visible=u(_.visible,e.data):m.visible=!0,m.visible){m.value=d(_,e.data);const c=Object.keys(_).filter(p=>["visible","field"].indexOf(p)==-1);for(const p in c){const h=c[p];m[h]=u(_[h],e.data)}}return m})),d=(_,m)=>{var c;if(m){if(_.field instanceof Function)try{c=_.field(m)}catch(p){console.debug(p)}else try{c=m[_.field]}catch(p){console.debug(p)}_.format&&(c=_.format(c))}return c},u=(_,m)=>{var c;if(_ instanceof Function){if(m)try{c=_(m)}catch(p){console.debug(p)}}else c=_;return c};return(_,m)=>{const c=le("RouterLink");return f(),g(Et,{flat:""},{default:n(()=>[y("tbody",null,[(f(!0),x(D,null,ie(o(i),(p,h)=>(f(),x(D,{key:h},[p.visible?(f(),x("tr",Ud,[y("td",Kd,b(p.label),1),y("td",null,[$t(_.$slots,`value-${p.name}`,{item:p},()=>[o(s)||p?.loading?(f(),g(Pt,{key:"text"})):p.to?(f(),g(c,{key:1,to:p.to,class:se(`text-primary ${p.classes}`)},{default:n(()=>[q(b(p.value),1)]),_:2},1032,["to","class"])):(f(),x("div",{key:2,class:se(p.classes)},b(p.value),3)),p.copyToClipboard?(f(),g(o(nl),{key:3},{default:n(({copy:w,copied:k})=>[a(j,{"icon-right":o(ul),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:V=>w(p.value)},{default:n(()=>[a(Qe,{"model-value":k===!0,"no-parent-event":""},{default:n(()=>m[0]||(m[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:2},1024)):P("",!0)])])])):P("",!0)],64))),128))])]),_:3})}}},Qd={class:"row q-gutter-x-none"},zd={__name:"AccountPlotNFTsControl",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l,loading:r}=ks(I({id:e.address})),s=v(()=>[{label:"Address",field:i=>i.address,to:i=>`/explore/address/${i.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:i=>i.server_url??"N/A (solo farming)"},{label:"Unlock Height",field:i=>i.unlock_height,visible:i=>i.is_locked}]);return(i,d)=>{const u=Ne,_=rt;return f(),x("div",null,[y("div",Qd,[a(u,{square:"",outline:""},{default:n(()=>[q(b(o(l)?.name),1)]),_:1})]),a(A,{flat:""},{default:n(()=>[a(_,{rows:o(s),data:o(l),loading:o(r)},null,8,["rows","data","loading"])]),_:1})])}}},Hd={class:"q-gutter-y-sm"},Xd={class:"q-gutter-y-sm"},Gd={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=vr(),r=E(()=>l.value?.plot_nft_binary),s=I({index:E(()=>e.index),type_hash:E(()=>r.value),owned:!0}),{rows:i,loading:d}=_o(s,()=>!!r.value);return(u,_)=>(f(),x("div",Hd,[a(Nd,Dt(jt(e)),null,16),y("div",Xd,[o(d)?(f(),g(pt,{key:0,query:""})):P("",!0),(f(!0),x(D,null,ie(o(i),m=>(f(),g(zd,{key:m.address,address:m.address},null,8,["address"]))),128))])]))}},Jd=Object.freeze(Object.defineProperty({__proto__:null,default:Gd},Symbol.toStringTag,{value:"Module"})),Yd={class:"q-gutter-y-sm q-mt-sm"},Zd={__name:"AccountDetails",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=ve(),r=v(()=>[{name:"index",label:"Index",field:m=>m,headerClasses:"key-cell",classes:" m-bg-grey",align:"right"},{name:"address",label:"Address",field:m=>m,align:"left"}]),{rows:s}=Vt(e,m=>(delete m.is_hidden,m)),{rows:i}=_s(e),{rows:d,loading:u}=fl({...e,limit:1e3}),_=()=>{window.mmx.copyKeysToPlotter(JSON.stringify(i.value))};return(m,c)=>{const p=Kt,h=de,w=le("RouterLink");return f(),x("div",Yd,[a(p,{data:o(s)},null,8,["data"]),a(p,{data:o(i)},null,8,["data"]),o(l).isWinGUI&&o(i)?(f(),g(j,{key:0,label:m.$t("account_details.copy_keys_to_plotter"),color:"primary",outline:"",onClick:_},null,8,["label"])):P("",!0),a(te,{rows:o(d),columns:o(r),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":n(k=>[a(O,{props:k},{default:n(()=>[q(b(k.rowIndex),1)]),_:2},1032,["props"])]),"body-cell-address":n(k=>[a(O,{props:k},{default:n(()=>[a(w,{to:`/explore/address/${k.value}`,class:"text-primary mono"},{default:n(()=>[q(b(k.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:n(k=>[a(h,{props:k,"row-count":o(s).num_addresses??1},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns"])])}}},ec=Object.freeze(Object.defineProperty({__proto__:null,default:Zd},Symbol.toStringTag,{value:"Module"})),tc={class:"q-gutter-y-sm q-mt-sm"},lc={class:"row q-gutter-x-sm"},oc={class:"q-mt-md row justify-end"},ac={__name:"AccountOptions",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=et(),s=ot(),{rows:i}=Vt(e),d=I({name:"",num_addresses:1});fe(()=>{d.name=i.value.name,d.num_addresses=i.value.num_addresses});const u=Vi(),_=Ci(),m=Li(),c=()=>{m.mutate({index:e.index,count:d.num_addresses})},p=()=>{_.mutate(e.index)},h=us(),w=async()=>{await h.mutateAsync(e,{onSuccess:S=>{r.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>of),void 0,import.meta.url)),componentProps:{seed:S.string,withPassphrase:i.value.with_passphrase,fingerPrint:i.value.finger_print}})}})},k=()=>{r.dialog({title:"Remove Wallet",message:"To recover any funds you will need to re-create the wallet from a stored backup!",cancel:!0,persistent:!0,ok:{label:"Remove",color:"negative"}}).onOk(()=>{const S=i.value.key_file,T={index:i.value.account,account:i.value.index};u.mutate(T,{onSuccess:()=>V(S)})})},V=S=>{r.dialog({type:"warning",title:"Wallet removed",message:`Wallet file ${S} needs to be deleted manually`,persistent:!0,cancel:!1}).onOk(()=>{s.push("/wallet/")})};return(S,T)=>(f(),x("div",tc,[a(A,{flat:""},{default:n(()=>[a(B,{class:"q-gutter-x-xs"},{default:n(()=>[a(sl,{onSubmit:c},{default:n(()=>[y("div",lc,[a(N,{modelValue:o(d).name,"onUpdate:modelValue":T[0]||(T[0]=$=>o(d).name=$),label:o(l)("create_wallet.account_name"),readonly:"",class:"col"},null,8,["modelValue","label"]),a(N,{modelValue:o(d).num_addresses,"onUpdate:modelValue":T[1]||(T[1]=$=>o(d).num_addresses=$),modelModifiers:{number:!0},label:o(l)("create_wallet.number_of_addresses"),class:"col-3"},null,8,["modelValue","label"])]),y("div",oc,[a(j,{label:"Update",type:"submit",color:"positive",outline:"",class:"col-2"})])]),_:1})]),_:1})]),_:1}),a(A,{flat:""},{default:n(()=>[a(B,{class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:S.$t("account_actions.reset_cache"),color:"secondary",outline:"",onClick:p},null,8,["label"]),a(j,{label:S.$t("account_actions.show_seed"),color:"secondary",outline:"",onClick:w},null,8,["label"]),t.index>=100?(f(),g(j,{key:0,color:"negative",outline:"",onClick:k},{default:n(()=>T[2]||(T[2]=[q("Remove")])),_:1})):P("",!0)]),_:1})]),_:1})]))}},nc=Object.freeze(Object.defineProperty({__proto__:null,default:ac},Symbol.toStringTag,{value:"Module"})),sc={class:"q-gutter-y-sm"},rc={__name:"FarmerRewards",setup(t){const{t:e}=M(),l=v(()=>[{label:"No. Blocks",field:"num_blocks"},{label:"Last Height",field:"last_height",format:k=>k>0?k:"N/A"},{label:"Total Rewards",field:"total_rewards_value",classes:"main-currency"},{label:"Time to win",field:()=>w,format:k=>`${k.value} (on average)`,loading:c.value}]),r=v(()=>[{label:"Reward",field:k=>k.value,headerStyle:"width: 5%"},{field:k=>"MMX",headerStyle:"width: 5%"},{name:"address",label:e("transaction_view.address"),field:k=>k.address,align:"left"}]),{data:s,loading:i}=fo({since:1e4}),{rows:d,loading:u}=_l(),{rows:_,loading:m}=Tt(),c=v(()=>i.value||u.value||m.value),p=v(()=>d.value.total_space),h=v(()=>_.value.total_bytes_effective/1e9),w=v(()=>{if(p.value&&h.value){const k=p.value/h.value/6;if(k<=60)return Math.floor(k)+" minutes";const V=k/60;if(V<=24)return Math.floor(V)+" hours and "+Math.floor(k%60)+" minutes";const S=V/24;return Math.floor(S)+" days and "+Math.floor(V%24)+" hours"}return"N/A"});return(k,V)=>{const S=rt,T=le("RouterLink");return f(),x("div",sc,[a(S,{rows:o(l),data:o(s),loading:o(i)},null,8,["rows","data","loading"]),a(te,{rows:o(s)?.rewards??[],columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-address":n($=>[a(O,{props:$},{default:n(()=>[a(T,{to:`/explore/address/${$.value}`,class:"text-primary mono"},{default:n(()=>[q(b($.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},ic={__name:"FarmerMenu",setup(t){const{t:e}=M(),l=v(()=>[{to:"/farmer/plots",label:e("farmer_menu.plots")},{to:"/farmer/plotnfts",label:"NFTs"},{to:"/farmer/blocks",label:e("farmer_menu.blocks")},{to:"/farmer/proofs",label:e("farmer_menu.proofs")}]);return(r,s)=>(f(),g(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(D,null,ie(o(l),(i,d)=>(f(),g(Ke,{key:d,to:i.to,label:i.label},null,8,["to","label"]))),128))]),_:1}))}},uc={class:"q-gutter-y-sm"},dc={__name:"index",setup(t){return(e,l)=>{const r=Pe;return f(),g(lt,{padding:""},{default:n(()=>[y("div",uc,[a(o(So)),a(o(rc)),y("div",null,[a(o(ic)),a(r)])])]),_:1})}}},cc=Object.freeze(Object.defineProperty({__proto__:null,default:dc},Symbol.toStringTag,{value:"Module"})),mc={__name:"FarmerPlotDirs",setup(t){const{t:e}=M(),l=v(()=>[{label:e("farmer_plot_dirs.path"),field:i=>i,headerStyle:"width: 7%",align:"left"}]),{data:r,loading:s}=Tt();return(i,d)=>(f(),g(te,{rows:o(r)?.plot_dirs??[],columns:o(l),loading:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},null,8,["rows","columns","loading"]))}},_c={class:"q-gutter-y-sm"},pc={class:"row q-gutter-x-xs"},fc={class:"row justify-end"},yc={__name:"FarmerPlotsIndex",setup(t){const{t:e}=M(),l=v(()=>[{label:e("farmer_plots.type"),field:"ksize",format:m=>`K${m}`,headerStyle:"width: 20%"},{label:e("farmer_plots.count"),field:"count",align:"left",style:"font-weight: bold;"}]),r=v(()=>[{label:e("common.harvester"),field:"name",headerStyle:"width: 12%"},{label:e("farmer_info.physical_size"),field:"bytes",format:m=>(m/Math.pow(1e3,4)).toFixed(3),xclasses:"physical-size",headerStyle:"width: 20%"},{label:"Effective Size",field:"effective",format:m=>(m/Math.pow(1e3,4)).toFixed(3),xclasses:"effective-size",align:"left"}]),s=m=>{var c={plot_count:[],harvester_bytes:[]};for(const p of m.plot_count)c.plot_count.push({ksize:p[0],count:p[1]});for(const p of m.harvester_bytes)c.harvester_bytes.push({name:p[0],bytes:p[1][0],effective:p[1][1]});return c},{rows:i,loading:d}=Tt(s),u=ki(),_=()=>{u.mutate()};return(m,c)=>(f(),x("div",_c,[y("div",pc,[a(te,{rows:o(i)?.plot_count??[],columns:o(l),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col-4"},null,8,["rows","columns","loading"]),a(te,{rows:o(i)?.harvester_bytes??[],columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col"},{"body-cell":n(p=>[a(O,{props:p},{default:n(()=>[y("div",{class:se(("getXClasses"in m?m.getXClasses:o(Be))(p))},b(p.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),a(mc),y("div",fc,[a(j,{label:m.$t("farmer_plots.reload_plots"),icon:o(Fa),size:"md",rounded:"",outline:"",color:"primary",onClick:_},null,8,["label","icon"])])]))}},hc=pe(yc,[["__scopeId","data-v-b314c313"]]),gc=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"})),bc={class:"row q-gutter-x-none"},vc={__name:"PlotNFTInfo",props:{address:{type:String,required:!0},data:{type:Object,required:!0}},setup(t){const e=t,l=v(()=>[{label:"Address",field:r=>e.address,to:r=>`/explore/address/${r.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:r=>r.server_url??"N/A (solo farming)"},{label:"Pool Target",field:r=>r.pool_target,to:r=>`/explore/address/${r.pool_target}`,classes:"mono",visible:r=>r.pool_target},{label:"Partial Difficulty",field:r=>r.partial_diff,visible:r=>r.server_url},{label:"Plot Count",field:r=>r.plot_count}]);return(r,s)=>{const i=Ne,d=rt;return f(),x("div",null,[y("div",null,[y("div",bc,[a(i,{square:"",outline:""},{default:n(()=>[q(b(t.data.name),1)]),_:1})]),a(A,{flat:""},{default:n(()=>[a(d,{rows:o(l),data:t.data},null,8,["rows","data"])]),_:1})])])}}},wc={class:"q-pt-sm q-gutter-y-sm"},xc={__name:"FarmerPlotNFTsIndex",setup(t){const{data:e}=Tt(),l=v(()=>e.value?.pool_info??[]);return(r,s)=>(f(),x("div",wc,[(f(!0),x(D,null,ie(o(l),i=>(f(),g(vc,{key:i,address:i[0],data:i[1]},null,8,["address","data"]))),128)),o(l)&&!o(l).length?(f(),x(D,{key:0},[a(tl,{rounded:""},{avatar:n(()=>[a(Se,{name:o(Xl),color:"warning"},null,8,["name"])]),default:n(()=>[s[0]||(s[0]=q(" No NFT plots found "))]),_:1}),a(tl,{rounded:""},{avatar:n(()=>[a(Se,{name:o(Oa),color:"info"},null,8,["name"])]),default:n(()=>[s[1]||(s[1]=q(" Need to create a PlotNFT in Wallet first to plot NFT plots "))]),_:1})],64)):P("",!0)]))}},kc=Object.freeze(Object.defineProperty({__proto__:null,default:xc},Symbol.toStringTag,{value:"Module"})),Sc={class:"q-gutter-y-sm"},$c={__name:"FarmerBlocksIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("farmer_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"TX",field:"tx_count",headerStyle:"width: 7%"},{label:"K",field:"ksize",headerStyle:"width: 7%"},{label:l("farmer_blocks.score"),field:"score",headerStyle:"width: 7%"},{label:l("farmer_blocks.reward"),field:d=>d.reward_amount.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.tx_fees"),field:d=>d.tx_fees.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.time"),field:"time_stamp",format:d=>new Date(d).toLocaleString(),align:"left"}]),{rows:s,loading:i}=Rs(e);return(d,u)=>{const _=le("RouterLink");return f(),x("div",Sc,[a(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":n(m=>[a(O,{props:m},{default:n(()=>[a(_,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:n(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(m=>[a(O,{props:m},{default:n(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(m))},b(m.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},qc=Object.freeze(Object.defineProperty({__proto__:null,default:$c},Symbol.toStringTag,{value:"Module"})),Vc={class:"q-gutter-y-sm"},Tc={__name:"FarmerProofsIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:"VDF height",field:"vdf_height",headerStyle:"width: 7%"},{label:l("farmer_proofs.harvester"),field:"harvester",headerStyle:"width: 7%",align:"left"},{label:l("farmer_proofs.score"),field:d=>d.proof.score,headerStyle:"width: 7%"},{label:l("farmer_proofs.sdiff"),field:d=>d.proof.difficulty,headerStyle:"width: 7%"},{label:l("farmer_proofs.time"),field:"lookup_time_ms",headerStyle:"width: 7%",format:d=>(d/1e3).toFixed(3)},{label:l("farmer_proofs.plot_id"),field:d=>d.proof?.plot_id,align:"left",classes:"mono"}]),{rows:s,loading:i}=Fs(e);return(d,u)=>{const _=le("RouterLink");return f(),x("div",Vc,[a(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":n(m=>[a(O,{props:m},{default:n(()=>[a(_,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:n(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},Cc=Object.freeze(Object.defineProperty({__proto__:null,default:Tc},Symbol.toStringTag,{value:"Module"})),Rc={__name:"ExploreSearchBar",setup(t){const e=ot(),l=St(),r=v(()=>l.params.height||l.params.hash||l.params.transactionId||l.params.address||l.params.farmerKey||""),s=L(r.value),i=L(!1);fe(()=>s.value=r.value);const d=Es(),u=()=>{const _=/[0-9A-Fa-f]{64}/g,m=/^\d+$/;i.value=!1,s.value&&(s.value.startsWith("mmx1")?e.push("/explore/address/"+s.value):_.test(s.value)?s.value.length==64?d.mutate({hash:s.value},{onSettled:c=>{c?e.push("/explore/block/hash/"+s.value):e.push("/explore/transaction/"+s.value)}}):s.value.length==66?e.push("/explore/farmer/"+s.value):i.value=!0:m.test(s.value)?e.push("/explore/block/height/"+s.value):i.value=!0)};return(_,m)=>(f(),g(N,{modelValue:o(s),"onUpdate:modelValue":m[0]||(m[0]=c=>z(s)?s.value=c:null),placeholder:_.$t("explore_menu.placeholder"),error:o(i),"hide-bottom-space":"",outlined:"",onKeyup:jl(u,["enter"])},{append:n(()=>[a(Se,{name:o(Ia),onClick:u},null,8,["name"])]),_:1},8,["modelValue","placeholder","error"]))}};class Lc{constructor(){this.queryClient=G(),this.router=ot()}path(e){if(e){const l=this.router.resolve(e);l.meta?.prefetcher&&l.meta.prefetcher(this.queryClient,l)}return e}}const Fc=()=>new Lc,Oc={__name:"ExploreMenu",setup(t){const e=Fc(),l=i=>{e.path("/explore/farmers")},{t:r}=M(),s=v(()=>[{to:"/explore/blocks",label:r("explore_menu.blocks")},{to:"/explore/transactions",label:r("explore_menu.transactions")},{to:"/explore/farmers",label:r("explore_menu.farmers"),prefetcher:l}]);return(i,d)=>(f(),g(tt,{align:"left","indicator-color":"primary"},{default:n(()=>[a(We,{class:"m-bg-grey"},{default:n(()=>[(f(!0),x(D,null,ie(o(s),(u,_)=>(f(),g(Ke,{key:_,to:u.to,label:u.label,icon:u.icon,onClick:u.click,onMouseover:m=>u.prefetcher&&u.prefetcher(u.to)},null,8,["to","label","icon","onClick","onMouseover"]))),128))]),_:1})]),_:1}))}},Ic={class:"q-gutter-y-sm"},Pc={__name:"index",setup(t){const e=St();return(l,r)=>{const s=Pe;return f(),g(lt,{padding:""},{default:n(()=>[y("div",Ic,[a(o(Rc)),a(A,{flat:""},{default:n(()=>[a(o(Oc)),a(s,{show:!!o(e).meta.indexPage},null,8,["show"])]),_:1}),a(s,{show:!o(e).meta.indexPage},null,8,["show"])])]),_:1})}}},Ac=Object.freeze(Object.defineProperty({__proto__:null,default:Pc},Symbol.toStringTag,{value:"Module"})),Ec={class:"q-gutter-y-sm"},Dc={class:"row q-gutter-x-none"},jc={__name:"BlockView",props:{hash:{type:String,required:!1},height:{type:Number,required:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("block_view.height"),field:"height"},{label:l("block_view.hash"),field:"hash",classes:"mono"},{label:l("block_view.previous"),field:"prev",classes:"mono"},{label:l("block_view.time"),field:"time_stamp",format:p=>new Date(p).toLocaleString()},{label:"Reward Address",field:p=>p.reward_addr,to:p=>`/explore/address/${p.reward_addr}`,classes:"mono",visible:p=>p.reward_addr},{label:"Reward Contract",field:p=>p.reward_contract,to:p=>`/explore/address/${p.reward_contract}`,classes:"mono",visible:p=>p.reward_contract},{label:"Farmer Address",field:p=>p.reward_account,to:p=>`/explore/address/${p.reward_account}`,classes:"mono",visible:p=>p.reward_account},{label:"Block Reward",field:p=>p.reward_amount.value,classes:"main-currency"},{label:"TX Fees",field:p=>p.tx_fees.value,classes:"main-currency"},{label:l("block_view.tx_count"),field:p=>p.tx_count},{label:l("block_view.time_diff"),field:"time_diff"},{label:l("block_view.space_diff"),field:p=>p,format:p=>`${p.space_diff}${p.is_space_fork?"(updated)":""}`},{label:"Reward Vote",field:"reward_vote"},{label:"Reward Vote Sum",field:p=>p,format:p=>`${p.reward_vote_sum} / ${p.reward_vote_count} (${(p.reward_vote_count/(p.height%8640+1)*100).toFixed(1)} %)`},{label:"Base Reward",field:p=>p.base_reward.value,classes:"main-currency"},{label:"Avg. TX Fee",field:p=>p.average_txfee.value,classes:"main-currency"},{label:"VDF Height",field:"vdf_height"},{label:"VDF Count",field:"vdf_count"},{label:l("block_view.vdf_iterations"),field:"vdf_iters"},{name:"vdf_reward_addr",label:"Timelord",field:p=>p.vdf_reward_addr},{label:"Timelord Reward",field:"vdf_reward_payout",to:p=>`/explore/address/${p.vdf_reward_payout}`,visible:p=>p.vdf_reward_payout,classes:"mono"},{label:l("block_view.k_size"),field:p=>p.ksize},{label:l("block_view.proof_score"),field:p=>p.score},{label:"No. Proofs",field:p=>p.proof.length},{label:"Space Fork",field:p=>p,format:p=>`${p.space_fork_proofs} / ${p.space_fork_len}`},{label:l("block_view.plot_id"),field:p=>p.proof[0].plot_id,visible:p=>p.proof[0],classes:"mono"},{label:"Challenge",field:p=>p.proof[0].challenge,visible:p=>p.proof[0]},{label:l("block_view.farmer_key"),field:p=>p.farmer_key,to:p=>`/explore/farmer/${p.farmer_key}`,classes:"mono"}]),s=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("block_view.inputs"),field:p=>p.inputs.length+(p.exec_result?p.exec_result.inputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.outputs"),field:p=>p.outputs.length+(p.exec_result?p.exec_result.outputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.operations"),field:p=>p.execute.length,headerStyle:"width: 7%"},{name:"id",label:l("block_view.transaction_id"),field:p=>p.id,align:"left"}]),{data:i,loading:d,noData:u}=Ps(e),_=v(()=>e.height??i.value?.height??null),m=v(()=>i?.value?`/explore/block/hash/${i.value.prev}`:e.height!=null?`/explore/block/height/${e.height-1}`:null),c=v(()=>i?.value?`/explore/block/height/${i.value.height+1}`:e.height!=null?`/explore/block/height/${e.height+1}`:null);return(p,h)=>{const w=Ne,k=Ct,V=le("RouterLink"),S=rt;return f(),x("div",Ec,[y("div",null,[y("div",Dc,[a(w,{square:"",outline:""},{default:n(()=>[q(b(p.$t("block_view.block")),1)]),_:1}),a(w,{square:"",outline:""},{default:n(()=>[q(b(o(_)),1)]),_:1}),o(u)?P("",!0):(f(),g(w,{key:0,square:"",outline:""},{default:n(()=>[q(b(o(i)?.hash),1)]),_:1})),a(Wl),a(da,{rounded:""},{default:n(()=>[a(j,{to:o(m),icon:o(Pa),outline:"",disable:o(_)<=0},null,8,["to","icon","disable"]),a(j,{to:o(c),"icon-right":o(Aa),outline:"",disable1:o(u)},null,8,["to","icon-right","disable1"])]),_:1})]),a(A,{flat:""},{default:n(()=>[o(u)?(f(),g(k,{key:0,icon:o(Ea),title:p.$t("block_view.no_such_block")},null,8,["icon","title"])):(f(),g(S,{key:1,rows:o(r),data:o(i),loading:o(d)},{"value-vdf_reward_addr":n(({item:T})=>[(f(!0),x(D,null,ie(T.value,($,F)=>(f(),x("div",{key:$},[y("span",null,"["+b(F)+"] ",1),a(V,{to:`/explore/address/${$}`,class:"text-primary mono"},{default:n(()=>[q(b($),1)]),_:2},1032,["to"])]))),128))]),_:1},8,["rows","data","loading"]))]),_:1})]),o(i)&&o(i).tx_list.length?(f(),g(te,{key:0,rows:o(i).tx_list,columns:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-index":n(T=>[a(O,{props:T},{default:n(()=>[q(" TX["+b(T.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-id":n(T=>[a(O,{props:T},{default:n(()=>[a(V,{to:`/explore/transaction/${T.value}`,class:"text-primary mono"},{default:n(()=>[q(b(T.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):P("",!0)])}}},Il=Object.freeze(Object.defineProperty({__proto__:null,default:jc},Symbol.toStringTag,{value:"Module"})),Wc={__name:"TransactionsIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("explore_transactions.height"),field:"height",headerStyle:"width: 7%"},{label:l("explore_transactions.type"),field:"note",headerStyle:"width: 10%"},{label:l("explore_transactions.fee"),field:d=>d.fee.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("explore_transactions.n_in"),field:d=>d.inputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_out"),field:d=>d.outputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_op"),field:d=>d.operations.length,headerStyle:"width: 5%"},{name:"id",label:l("explore_transactions.transaction_id"),field:"id"},{label:l("account_tx_history.time"),field:"time_stamp",format:d=>new Date(d).toLocaleString(),align:"left"}]),{rows:s,loading:i}=js(e);return(d,u)=>{const _=de,m=le("RouterLink");return f(),g(A,{flat:""},{default:n(()=>[a(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/block/height/${c.value}`,class:"text-primary"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-id":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/transaction/${c.value}`,class:"text-primary mono"},{default:n(()=>[q(b(("getShortHash"in d?d.getShortHash:o(Nt))(c.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(c=>[a(O,{props:c},{default:n(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(c))},b(c.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Mc=Object.freeze(Object.defineProperty({__proto__:null,default:Wc},Symbol.toStringTag,{value:"Module"})),Pl={__name:"InputOutputTable",props:{rows:{type:Object,required:!0},isInput:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=M(),r=e.isInput?l("transaction_view.input"):l("transaction_view.output"),s=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("transaction_view.amount"),field:i=>i.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("transaction_view.token"),field:i=>i.symbol,headerStyle:"width: 7%"},{name:"address",label:l("transaction_view.address"),field:i=>i.address,align:"left"},{label:"Memo",field:i=>i.memo,headerStyle:"width: 50%",align:"left"}]);return(i,d)=>{const u=de,_=le("RouterLink");return t.rows.length>0?(f(),g(te,{key:0,rows:t.rows,columns:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":n(m=>[a(O,{props:m},{default:n(()=>[q(b(o(r))+"["+b(m.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-token":n(m=>[a(O,{props:m},{default:n(()=>[m.row.is_native?(f(),x(D,{key:0},[q(b(m.value),1)],64)):(f(),g(_,{key:1,to:`/explore/address/${m.row.contract}`,class:"text-primary"},{default:n(()=>[q(b(m.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":n(m=>[a(O,{props:m},{default:n(()=>[a(_,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:n(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:n(m=>[a(u,{props:m,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns"])):P("",!0)}}},Bc={class:"q-gutter-y-sm"},Nc={class:"row q-gutter-x-none"},Uc={class:"row q-gutter-x-none"},Kc={key:0},Qc={class:"row q-gutter-x-none"},zc={__name:"index",props:{transactionId:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("transaction_view.height"),field:"height",to:u=>u.height!=null?`/explore/block/height/${u.height}`:null,format:u=>u??l("common.pending"),classes:u=>u.height==null?"text-italic":""},{label:l("transaction_view.message"),field:"message",visible:u=>u.did_fail},{label:l("transaction_view.confirmed"),field:"confirm",visible:u=>u.confirm},{label:l("transaction_view.expires"),field:"expires",visible:u=>u.expires<4294967295},{label:l("transaction_view.note"),field:"note"},{label:l("transaction_view.time"),field:"time_stamp",format:u=>new Date(u).toLocaleString(),visible:u=>u.time},{label:l("transaction_view.address"),field:"address",to:u=>`/explore/address/${u.address}`,visible:u=>u.deployed,classes:"mono"},{label:l("transaction_view.sender"),field:"sender",to:u=>`/explore/address/${u.sender}`,visible:u=>u.sender,classes:"mono"},{label:l("transaction_view.cost"),field:u=>u.cost.value,classes:"main-currency"},{label:l("transaction_view.fee"),field:u=>u.fee.value,classes:"main-currency"}]),{data:s,loading:i,noData:d}=Ms(I({id:E(()=>e.transactionId)}));return(u,_)=>{const m=Ne,c=Ct,p=rt,h=Kt;return f(),x("div",Bc,[y("div",null,[y("div",Nc,[a(m,{square:"",outline:""},{default:n(()=>[q(b(u.$t("transaction_view.transaction")),1)]),_:1}),a(m,{square:"",outline:""},{default:n(()=>[q(b(t.transactionId),1)]),_:1})]),a(A,{flat:""},{default:n(()=>[o(d)?(f(),g(c,{key:0,icon:o(Da),title:u.$t("transaction_view.no_such_transaction")},null,8,["icon","title"])):(f(),g(p,{key:1,rows:o(r),data:o(s),loading:o(i)},null,8,["rows","data","loading"]))]),_:1})]),o(s)?(f(),x(D,{key:0},[a(A,{flat:""},{default:n(()=>[a(Pl,{rows:o(s).inputs,"is-input":"",loading:o(i)},null,8,["rows","loading"])]),_:1}),a(A,{flat:""},{default:n(()=>[a(Pl,{rows:o(s).outputs,"is-input":!1,loading:o(i)},null,8,["rows","loading"])]),_:1}),(f(!0),x(D,null,ie(o(s).operations,(w,k)=>(f(),x("div",{key:k},[y("div",Uc,[a(m,{square:"",outline:""},{default:n(()=>[q(" Operation["+b(k)+"] ",1)]),_:2},1024),a(m,{square:"",outline:""},{default:n(()=>[q(b(w.__type),1)]),_:2},1024)]),a(A,{flat:""},{default:n(()=>[a(h,{data:w},null,8,["data"])]),_:2},1024)]))),128)),o(s).deployed?(f(),x("div",Kc,[y("div",Qc,[a(m,{square:"",outline:""},{default:n(()=>[q(b(o(s).deployed.__type),1)]),_:1})]),a(A,{flat:""},{default:n(()=>[a(h,{data:o(s).deployed},null,8,["data"])]),_:1})])):P("",!0)],64)):P("",!0)])}}},Hc=Object.freeze(Object.defineProperty({__proto__:null,default:zc},Symbol.toStringTag,{value:"Module"})),Xc={key:0},Gc={class:"prevent-select"},Jc={style:{"font-size":"0px"}},Yc={__name:"FarmersIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"place",headerStyle:"width: 5%",align:"center"},{label:l("explore_farmers.no_blocks"),field:"block_count",headerStyle:"width: 5%"},{name:"farmer_key",label:l("explore_farmers.farmer_key"),field:"farmer_key",align:"left"}]),{rows:s,loading:i}=Bs(e);return(d,u)=>{const _=de,m=le("RouterLink");return f(),g(A,{flat:""},{default:n(()=>[a(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-farmer_key":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/farmer/${c.value}`,class:"text-primary mono"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-place":n(c=>[a(O,{props:c},{default:n(()=>[c.rowIndex<3?(f(),x("span",Xc,[y("span",Gc,b(["🥇","🥈","🥉"][c.rowIndex]),1),y("span",Jc,b(c.rowIndex+1),1)])):(f(),x(D,{key:1},[q(b(c.rowIndex+1),1)],64))]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Zc=pe(Yc,[["__scopeId","data-v-30fd88b1"]]),em=Object.freeze(Object.defineProperty({__proto__:null,default:Zc},Symbol.toStringTag,{value:"Module"})),tm={class:"q-gutter-y-sm"},lm={class:"row q-gutter-x-none"},om={__name:"FarmerView",props:{farmerKey:{type:String,required:!0},limit:{type:Number,required:!1,default:100}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:"No. Blocks",field:"block_count"},{label:"Total Rewards",field:"total_reward_value",classes:"main-currency"}]),s=v(()=>[{label:"Reward",field:"value",headerClasses:"key-cell"},{label:"",field:()=>"MMX",headerStyle:"width: 7%",align:"left"},{name:"address",label:l("transaction_view.address"),field:"address",align:"left"}]),{data:i,loading:d}=Ks(I({id:E(()=>e.farmerKey)})),{rows:u,loading:_}=zs(I({id:E(()=>e.farmerKey),limit:E(()=>e.limit)}));return(m,c)=>{const p=Ne,h=rt,w=de,k=le("RouterLink"),V=qo;return f(),x("div",tm,[y("div",null,[y("div",lm,[a(p,{square:"",outline:""},{default:n(()=>c[0]||(c[0]=[q("Farmer")])),_:1}),a(p,{square:"",outline:""},{default:n(()=>[q(b(t.farmerKey),1)]),_:1})]),a(A,{flat:""},{default:n(()=>[a(h,{rows:o(r),data:o(i),loading:o(d)},null,8,["rows","data","loading"])]),_:1})]),a(A,{flat:""},{default:n(()=>[a(te,{rows:o(i)?o(i).rewards:[],columns:o(s),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-address":n(S=>[a(O,{props:S},{default:n(()=>[a(k,{to:`/explore/address/${S.value}`,class:"text-primary mono"},{default:n(()=>[q(b(S.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(S=>[a(w,{props:S,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1}),a(A,{flat:""},{default:n(()=>[a(V,{rows:o(u),loading:o(_),class:"q-py-sm"},null,8,["rows","loading"])]),_:1})])}}},am=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"})),nm={__name:"AddressHistoryTable",props:{address:{type:String,required:!0},limit:{type:Number,default:100,required:!1},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("address_history_table.height"),field:"height",headerStyle:"width: 7%"},{label:l("address_history_table.type"),field:"type",headerStyle:"width: 7%",classes:d=>Ft(d.type)},{label:l("address_history_table.amount"),field:d=>d?.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("address_history_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"txid",label:"Transaction ID",field:"txid",headerStyle:"width: 20%"},{label:"Memo",field:"memo",style:"word-break: break-all",align:"left"},{label:l("address_history_table.time"),field:"time_stamp",format:d=>new Date(d).toLocaleString(),headerStyle:"width: 12%",classes:"text-no-wrap",align:"left"}]),{rows:s,loading:i}=Js(I({limit:E(()=>e.limit),id:E(()=>e.address)}));return(d,u)=>{const _=de,m=le("RouterLink"),c=Ro;return o(i)||!o(i)&&(o(s)?.length||t.showEmpty)?(f(),g(te,{key:0,rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":n(p=>[a(O,{props:p},{default:n(()=>[a(m,{to:`/explore/block/height/${p.value}`,class:"text-primary"},{default:n(()=>[q(b(p.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-token":n(p=>[a(O,{props:p},{default:n(()=>[p.row.is_native?(f(),x(D,{key:0},[q(b(p.row.is_nft?"[NFT]":p.value),1)],64)):(f(),g(m,{key:1,to:`/explore/address/${p.row.contract}`,class:"text-primary mono"},{default:n(()=>[q(b(p.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-txid":n(p=>[a(O,{props:p},{default:n(()=>[a(c,{id:p.value,type:p.row.type,class:"text-primary mono"},{default:n(()=>[q(b(("getShortHash"in d?d.getShortHash:o(Nt))(p.value)),1)]),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(p=>[a(_,{props:p,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):P("",!0)}}},sm={class:"q-gutter-y-sm"},rm={class:"row q-gutter-x-none"},im={key:0},um={__name:"AddressView",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l}=Xs(I({id:E(()=>e.address)})),{noData:r}=go(I({id:E(()=>e.address)}));return(s,i)=>{const d=Ne,u=hl,_=Kt,m=nm,c=Ct;return f(),x("div",sm,[y("div",null,[y("div",rm,[a(d,{square:"",outline:""},{default:n(()=>[q(b(s.$t("common.address")),1)]),_:1}),a(d,{square:"",outline:"",copy:""},{default:n(()=>[q(b(t.address),1)]),_:1})]),o(r)?P("",!0):(f(),g(A,{key:0,flat:""},{default:n(()=>[a(u,{address:t.address,"show-empty":""},null,8,["address"])]),_:1}))]),o(l)?(f(),x("div",im,[a(d,{square:"",outline:""},{default:n(()=>[q(b(o(l).__type),1)]),_:1}),a(A,{flat:""},{default:n(()=>[a(_,{data:o(l)},null,8,["data"])]),_:1})])):P("",!0),o(r)?P("",!0):(f(),g(A,{key:1,flat:""},{default:n(()=>[a(m,{address:t.address,limit:200,"show-empty":!1},null,8,["address"])]),_:1})),o(r)?(f(),g(c,{key:2,icon:o(ja),title:"Invalid address"},null,8,["icon"])):P("",!0)])}}},dm=Object.freeze(Object.defineProperty({__proto__:null,default:um},Symbol.toStringTag,{value:"Module"})),bl=()=>{const t=Ve(),{market:e}=Wt(t),{menu:l}=dt(e.value),{bid:r,ask:s}=dt(l.value);return{bid:r,ask:s}},Xe=()=>{const t=Ve(),{activeWalletIndex:e}=Wt(t);return{activeWalletIndex:e}},cm={class:"q-gutter-y-sm"},mm={__name:"MarketPageMenu",setup(t){const{bid:e,ask:l}=bl(),{activeWalletIndex:r}=Xe();return(s,i)=>{const d=gl,u=zt;return f(),x("div",cm,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[a(d,{modelValue:o(r),"onUpdate:modelValue":i[0]||(i[0]=_=>z(r)?r.value=_:null),label:s.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[a(u,{modelValue:o(e),"onUpdate:modelValue":i[1]||(i[1]=_=>z(e)?e.value=_:null),label:s.$t("market_menu.they_offer"),clearable:o(e)!==null,"null-item":"","null-label":s.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"]),a(u,{modelValue:o(l),"onUpdate:modelValue":i[2]||(i[2]=_=>z(l)?l.value=_:null),label:s.$t("market_menu.they_ask"),clearable:o(l)!==null,"null-item":"","null-label":s.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},_m={class:"q-gutter-y-sm"},pm={__name:"index",setup(t){return(e,l)=>{const r=Pe;return f(),g(lt,{padding:""},{default:n(()=>[y("div",_m,[a(mm),a(tt,{align:"left","indicator-color":"primary",class:"m-bg-grey"},{default:n(()=>[a(Ke,{to:"/market/offers",label:e.$t("market_menu.offers")},null,8,["label"]),a(Ke,{to:"/market/history",label:e.$t("market_menu.history")},null,8,["label"])]),_:1})]),a(r)]),_:1})}}},fm=Object.freeze(Object.defineProperty({__proto__:null,default:pm},Symbol.toStringTag,{value:"Module"})),ym={class:"row"},hm={key:0,class:"text-orange mono"},gm={__name:"MarketPageOffers",setup(t){const e=L(null),{t:l}=M(),r=v(()=>[{label:l("market_offers.they_offer"),field:"bid_balance_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:k=>({symbol:k.bid_symbol,currency:k.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.they_ask"),field:k=>k.bid_balance_value*k.display_price,format:k=>parseFloat(k.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:k=>({symbol:k.ask_symbol,currency:k.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.price"),field:k=>1/k.display_price,format:k=>parseFloat(k.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:k=>({symbol1:k.bid_symbol,symbol2:k.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.time"),field:"time_stamp",format:k=>new Date(k).toLocaleString(),headerStyle:"width: 12%",align:"left"},{name:"address",field:"address",headerStyle:"width: 1%"},{name:"actions",align:"right"}]),{bid:s,ask:i}=bl(),{activeWalletIndex:d}=Xe(),{rows:u}=ft(),{rows:_,loading:m}=lr(I({bid:E(()=>s.value?.value),ask:E(()=>i.value?.value),min_bid:v(()=>s.value?.value&&e.value?e.value*Math.pow(10,s.value.decimals):null),limit:200})),c=et(),p=k=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>pf),void 0,import.meta.url)),componentProps:{index:d.value,offer:k}})},h=L(new Set),w=k=>{c.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Sf),void 0,import.meta.url)),componentProps:{index:d.value,offer:k}}).onOk(()=>{h.value.add(k.address)})};return(k,V)=>{const S=de,T=le("RouterLink");return f(),x("div",null,[o(s)?.value?(f(),g(A,{key:0,class:"q-my-xs",flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",ym,[a(N,{modelValue:o(e),"onUpdate:modelValue":V[0]||(V[0]=$=>z(e)?e.value=$:null),modelModifiers:{number:!0},debounce:200,suffix:o(s).label,label:"Minimum Offer",rules:[o(Y).amount],"input-class":"amount-input",clearable:o(e)!=null,class:"col-2"},null,8,["modelValue","suffix","rules","clearable"])])]),_:1})]),_:1})):P("",!0),a(te,{rows:o(_),columns:o(r),loading:o(m),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n($=>[a(O,{props:$},{default:n(()=>[$.value.symbol=="MMX"?(f(),x(D,{key:0},[q(b($.value.symbol),1)],64)):(f(),g(T,{key:1,to:`/explore/address/${$.value.currency}`,class:"text-primary"},{default:n(()=>[q(b($.value.symbol)+" ",1),o(u).some(F=>F.currency==$.value.currency)?P("",!0):(f(),x("span",hm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n($=>[a(O,{props:$},{default:n(()=>[y("span",null,b($.value.symbol1)+" / "+b($.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-address":n($=>[a(O,{props:$},{default:n(()=>[a(T,{to:`/explore/address/${$.value}`,class:"text-primary"},{default:n(()=>V[1]||(V[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":n($=>[a(O,{props:$,class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:o(l)("market_offers.trade"),_icon:o(cl),outline:"",onClick:F=>p($.row)},null,8,["label","_icon","onClick"]),a(j,{label:o(l)("common.accept"),_icon:o(Wa),color:"positive",outline:"",disable:o(h).has($.row.address),onClick:F=>w($.row)},null,8,["label","_icon","disable","onClick"])]),_:2},1032,["props"])]),_:2},[o(m)?{name:"bottom-row",fn:n($=>[a(S,{props:$,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},bm=pe(gm,[["__scopeId","data-v-cd0ebac4"]]),vm=Object.freeze(Object.defineProperty({__proto__:null,default:bm},Symbol.toStringTag,{value:"Module"})),wm={key:0,class:"text-orange mono"},xm={__name:"MarketPageHistory",setup(t){const{t:e}=M(),l=v(()=>[{label:e("market_offers.they_offer"),field:"bid_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.bid_symbol,currency:_.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.they_ask"),field:"ask_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.ask_symbol,currency:_.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.price"),field:_=>1/_.display_price,format:_=>parseFloat(_.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.bid_symbol,symbol2:_.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.time"),field:"time_stamp",format:_=>new Date(_).toLocaleString(),headerStyle:"width: 4%",align:"left"},{name:"offer",field:"address",headerStyle:"width: 3%"},{name:"txid",field:"txid",align:"left"}]),{bid:r,ask:s}=bl(),{rows:i}=ft(),{rows:d,loading:u}=ar(I({bid:E(()=>r.value?.value),ask:E(()=>s.value?.value),limit:200}));return(_,m)=>{const c=de,p=le("RouterLink");return f(),g(te,{rows:o(d),columns:o(l),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(h=>[a(O,{props:h},{default:n(()=>[h.value.symbol=="MMX"?(f(),x(D,{key:0},[q(b(h.value.symbol),1)],64)):(f(),g(p,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:n(()=>[q(b(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?P("",!0):(f(),x("span",wm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(h=>[a(O,{props:h},{default:n(()=>[y("span",null,b(h.value.symbol1)+" / "+b(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-offer":n(h=>[a(O,{props:h},{default:n(()=>[a(p,{to:`/explore/address/${h.value}`,class:"text-primary"},{default:n(()=>m[0]||(m[0]=[q("Offer")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":n(h=>[a(O,{props:h},{default:n(()=>[a(p,{to:`/explore/transaction/${h.value}`,class:"text-primary"},{default:n(()=>m[1]||(m[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:n(h=>[a(c,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},km=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),vl=()=>{const t=Ve(),{swap:e}=Wt(t),{menu:l}=dt(e.value),{token:r,currency:s}=dt(l.value);return{token:r,currency:s}},Sm={class:"q-gutter-y-sm"},$m={__name:"index",setup(t){vl();const{activeWalletIndex:e}=Xe();return(l,r)=>{const s=gl,i=Pe;return f(),g(lt,{padding:""},{default:n(()=>[y("div",Sm,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[a(s,{modelValue:o(e),"onUpdate:modelValue":r[0]||(r[0]=d=>z(e)?e.value=d:null),label:l.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(i)])]),_:1})}}},qm=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"})),Vm={class:"q-gutter-y-sm"},Tm={__name:"SwapListMenu",setup(t){const{token:e,currency:l}=vl();return Xe(),(r,s)=>{const i=zt;return f(),x("div",Vm,[a(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[a(i,{modelValue:o(e),"onUpdate:modelValue":s[0]||(s[0]=d=>z(e)?e.value=d:null),label:r.$t("common.token"),clearable:o(e)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"]),a(i,{modelValue:o(l),"onUpdate:modelValue":s[1]||(s[1]=d=>z(l)?l.value=d:null),label:r.$t("common.currency"),clearable:o(l)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},Cm={class:"q-gutter-y-sm"},Rm={key:0,class:"text-orange mono"},Lm={__name:"index",setup(t){const{token:e,currency:l}=vl();Xe();const{t:r}=M(),s=v(()=>[{label:r("common.name"),field:"name",headerStyle:"width: 15%"},{name:"symbol",label:r("common.token"),field:_=>({symbol:_.symbols[0],currency:_.tokens[0]}),headerStyle:"width: 5%"},{name:"symbol",label:r("common.currency"),field:_=>({symbol:_.symbols[1],currency:_.tokens[1]}),headerStyle:"width: 5%"},{label:r("common.price"),field:"price",format:_=>_?parseFloat(_.toPrecision(6)):"N/A",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.symbols[1],symbol2:_.symbols[0]}),headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[0].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 12%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[0],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[1].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[1],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"actions",align:"right"}]),{rows:i}=ft(),{rows:d,loading:u}=ir(I({token:e,currency:l,limit:200}));return(_,m)=>{const c=de,p=le("RouterLink");return f(),x("div",Cm,[a(Tm),a(te,{rows:o(d),columns:o(s),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(h=>[a(O,{props:h},{default:n(()=>[h.value.symbol=="MMX"?(f(),x(D,{key:0},[q(b(h.value.symbol),1)],64)):(f(),g(p,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:n(()=>[q(b(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?P("",!0):(f(),x("span",Rm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(h=>[a(O,{props:h},{default:n(()=>[y("span",null,b(h.value.symbol1)+" / "+b(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-actions":n(h=>[a(O,{props:h,class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:o(r)("swap.swap"),outline:"",to:`/swap/${h.row.address}`},null,8,["label","to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:n(h=>[a(c,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Fm=Object.freeze(Object.defineProperty({__proto__:null,default:Lm},Symbol.toStringTag,{value:"Module"})),Om={__name:"SwapViewMenu",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{to:`/swap/${e.address}/trade`,label:l("swap.trade")},{to:`/swap/${e.address}/history`,label:l("swap.history")},{to:`/swap/${e.address}/liquid`,label:l("swap.my_liquidity")},{to:`/swap/${e.address}/pool`,label:l("swap.pool_state")}]);return(s,i)=>(f(),g(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(D,null,ie(o(r),(d,u)=>(f(),g(Ke,{key:u,to:d.to,label:d.label},null,8,["to","label"]))),128))]),_:1}))}},Im={class:"q-gutter-y-sm"},Pm={class:"row q-gutter-x-none"},Am={key:0,class:"text-orange mono"},Em={key:0},Dm={key:1},jm={__name:"index",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{field:"name",headerStyle:"width: 5%",classes:"key-cell m-bg-grey"},{label:l("swap.pool_balance"),field:"balance",format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:m=>({symbol:m.symbol,currency:m.token}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.24h")})`,field:"volume_1d",format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:m=>({symbol:m.symbol,currency:m.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.7d")})`,field:"volume_7d",format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:m=>({symbol:m.symbol,currency:m.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.apy")} (${l("swap.24h")})`,field:"avg_apy_1d",format:m=>(m*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"},{label:`${l("swap.apy")} (${l("swap.7d")})`,field:"avg_apy_7d",format:m=>(m*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"}]),{rows:s}=ft(),{data:i,loading:d,noData:u}=Bt(I({id:E(()=>e.address)})),_=v(()=>{if(!i.value)return[];const{balance:m,symbols:c,tokens:p,volume_1d:h,volume_7d:w,avg_apy_1d:k,avg_apy_7d:V}=i.value,S=[{name:l("common.token")},{name:l("common.currency")}];return S.map((T,$)=>{Object.assign(T,{balance:m[$].value,symbol:c[$],token:p[$],volume_1d:h[$].value,volume_7d:w[$].value,avg_apy_1d:k[$],avg_apy_7d:V[$]})}),S});return(m,c)=>{const p=Ne,h=de,w=le("RouterLink"),k=Pe,V=Ct;return f(),x("div",Im,[y("div",null,[y("div",Pm,[a(p,{square:"",outline:""},{default:n(()=>[q(b(m.$t("swap.swap")),1)]),_:1}),o(i)?(f(),g(p,{key:0,square:"",outline:""},{default:n(()=>[q(b(o(i).price?parseFloat(o(i).price.toPrecision(6)):"N/A")+" "+b(o(i).symbols[1])+" / "+b(o(i).symbols[0]),1)]),_:1})):P("",!0),a(p,{square:"",outline:""},{default:n(()=>[q(b(t.address),1)]),_:1})]),a(te,{rows:o(_),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(S=>[a(O,{props:S},{default:n(()=>[S.value.symbol=="MMX"||S.value.link==!1?(f(),x(D,{key:0},[q(b(S.value.symbol),1)],64)):(f(),g(w,{key:1,to:`/explore/address/${S.value.currency}`,class:"text-primary"},{default:n(()=>[q(b(S.value.symbol)+" ",1),o(s).some(T=>T.currency==S.value.currency)?P("",!0):(f(),x("span",Am,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(S=>[a(O,{props:S},{default:n(()=>[y("span",null,b(S.value.symbol1)+" / "+b(S.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell":n(S=>[a(O,{props:S},{default:n(()=>[y("div",{class:se(("getXClasses"in m?m.getXClasses:o(Be))(S))},b(S.value),3)]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(S=>[a(h,{props:S,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),o(u)?(f(),x("div",Dm,[a(V,{title:"No such swap",icon:o(cl)},null,8,["icon"])])):(f(),x("div",Em,[a(Om,{address:t.address},null,8,["address"]),a(k,{address:t.address},null,8,["address"])]))])}}},Wm=Object.freeze(Object.defineProperty({__proto__:null,default:jm},Symbol.toStringTag,{value:"Module"})),Mm={__name:"SlippageSelect",setup(t){const e=[{label:"0.5 %",value:.995},{label:"1 %",value:.99},{label:"2 %",value:.98},{label:"5 %",value:.95},{label:"10 %",value:.9}];return(l,r)=>(f(),g(be,Ie(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Max Slippage"}),null,16))}},Bm={__name:"IterSelect",setup(t){const e=[1,5,20,100];return(l,r)=>(f(),g(be,Ie(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Iterations"}),null,16))}},Nm={class:"row justify-end q-col-gutter-x-md"},Um={class:"row justify-end q-col-gutter-x-md"},Km={class:"row justify-end q-col-gutter-x-md"},Qm={class:"row justify-end q-col-gutter-x-md"},zm={class:"row"},Hm={class:"col"},Xm={class:"col-11"},Gm={class:"row justify-end q-gutter-x-sm"},Al={__name:"index",props:{address:{type:String,required:!0},buyForm:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{activeWalletIndex:l}=Xe(),r=v(()=>e.buyForm?1:0),s=v(()=>e.buyForm?0:1),i={amount:null,numIter:5,slippage:.98,feeRatio:null},d=L(null),u=I({...i}),{promptPassphrase:_,isLocked:m}=we(I({index:l})),{isValid:c,isValidConfirmedUnlocked:p}=Le(d,m),h=I({id:E(()=>e.address),index:E(()=>r.value),amount:E(()=>u.amount),iters:E(()=>u.numIter)}),{data:w}=pr(h,c),k=v(()=>w.value?.fee_percent.toFixed(2)),V=v(()=>{const ee=w.value?.avg_price;return ee?parseFloat((r.value===1?1/ee:ee).toPrecision(6)):null}),S=v(()=>w.value?.trade.value),T=v(()=>({wallet:l.value,address:e.address,index:r.value,amount:u.amount,min_trade:u.slippage*S.value,num_iter:u.numIter,options:{fee_ratio:u.feeRatio}})),{data:$}=Bt(I({id:E(()=>e.address)})),{data:F}=je(I({index:l,currency:E(()=>$.value?.tokens[r.value])}),ee=>ee?ee.spendable:0,()=>!!$.value?.tokens[r.value]),H=ee=>ee<=F.value||"Insufficient funds",{data:K,isLoading:Q,latestError:ae}=Jn(T,p),me=Bn(),Z=async()=>{const ee=await _(),oe={...T.value,options:{...T.value.options,passphrase:ee}};await me.mutateAsync(oe)};return(ee,oe)=>{const W=Re,re=De,xe=Ce,ht=Ee,gt=Ae,bt=Te;return f(),x("div",null,[a(A,{flat:""},{default:n(()=>[a(bt,{ref_key:"formRef",ref:d,data:o(u),"default-data":i,onSubmit:Z},{default:n(()=>[a(We,{class:se([{"bg-green":t.buyForm,"bg-red":!t.buyForm},"text-white"])},null,8,["class"]),a(B,null,{default:n(()=>[y("div",Nm,[a(N,{"model-value":o(F),label:ee.$t("swap.wallet_ballance"),suffix:o($)?.symbols[o(r)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(u).amount,"onUpdate:modelValue":oe[0]||(oe[0]=ye=>o(u).amount=ye),modelModifiers:{number:!0},debounce:200,label:ee.$t("common.amount"),"input-class":"amount-input",suffix:o($)?.symbols[o(r)],rules:[o(Y).required,o(Y).amount,H],class:"col-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",Um,[a(N,{"model-value":o(k),label:ee.$t("swap.trade_fee_estimated"),suffix:"%","input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label"]),a(N,{"model-value":o(S),label:ee.$t("swap.you_receive_estimated"),suffix:o($)?.symbols[o(s)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"])]),y("div",Km,[a(Bm,{modelValue:o(u).numIter,"onUpdate:modelValue":oe[1]||(oe[1]=ye=>o(u).numIter=ye),class:"col"},null,8,["modelValue"]),a(N,{"model-value":o(V),label:"Trade Price (average, including fee)",suffix:`${o($)?.symbols[o(r)]} / ${o($)?.symbols[o(s)]}`,"input-class":"amount-input",readonly:"",class:"col-8"},null,8,["model-value","suffix"])]),y("div",Qm,[a(Mm,{modelValue:o(u).slippage,"onUpdate:modelValue":oe[2]||(oe[2]=ye=>o(u).slippage=ye),class:"col-4"},null,8,["modelValue"]),a(W,{modelValue:o(u).feeRatio,"onUpdate:modelValue":oe[3]||(oe[3]=ye=>o(u).feeRatio=ye),class:"col-4"},null,8,["modelValue"]),a(re,{modelValue:o(K),"onUpdate:modelValue":oe[4]||(oe[4]=ye=>z(K)?K.value=ye:null),loading:o(Q),error:o(ae),locked:o(m),class:"col-4"},null,8,["modelValue","loading","error","locked"])])]),_:1}),a(B,null,{default:n(()=>[y("div",zm,[y("div",Hm,[a(xe)]),y("div",Xm,[y("div",Gm,[a(ht),a(gt,{label:"Swap",icon:o(cl)},null,8,["icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},Jm={class:"q-mt-sm"},Ym={class:"row q-col-gutter-sm"},Zm={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",Jm,[y("div",Ym,[a(Al,{address:t.address,"buy-form":!0,class:"col-sm-12 col-md-6"},null,8,["address"]),a(Al,{address:t.address,"buy-form":!1,class:"col-sm-12 col-md-6"},null,8,["address"])])]))}},e_=Object.freeze(Object.defineProperty({__proto__:null,default:Zm},Symbol.toStringTag,{value:"Module"})),t_={__name:"SwapHistory",props:{address:{type:String,required:!0},limit:{type:Number,default:200,required:!1}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{name:"height",label:l("common.height"),field:"height",headerStyle:"width: 7%"},{label:l("common.type"),field:"type",classes:d=>new Map([["BUY","text-green"],["SELL","text-red"]]).get(d.type)||"",headerStyle:"width: 11%"},{label:l("common.amount"),field:"value",headerStyle:"width: 10%",headerClasses:"dense-amount",classes:"dense-amount text-bold",align:"right"},{field:"symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{name:"address",label:l("common.user"),field:"user",align:"left"},{name:"tx",field:"txid",headerStyle:"width: 1%"},{label:l("common.time"),field:"time_stamp",format:d=>new Date(d).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:s,loading:i}=cr(I({id:E(()=>e.address),limit:E(()=>e.limit)}));return(d,u)=>{const _=de,m=le("RouterLink");return f(),g(te,{rows:o(s),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/block/height/${c.value}`,class:"text-primary"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-address":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/address/${c.value}`,class:"text-primary"},{default:n(()=>[q(b(c.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-tx":n(c=>[a(O,{props:c},{default:n(()=>[a(m,{to:`/explore/transaction/${c.value}`,class:"text-primary"},{default:n(()=>u[0]||(u[0]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(_,{props:c,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},l_=Object.freeze(Object.defineProperty({__proto__:null,default:t_},Symbol.toStringTag,{value:"Module"})),o_={class:"row justify-end q-col-gutter-x-md"},a_={class:"row justify-end q-col-gutter-x-md"},n_={class:"row justify-end col-12 q-gutter-x-xs q-gutter-y-sm"},s_={class:"col"},r_={__name:"SwapLiquidForm",props:{address:{type:String,required:!0}},setup(t){const e=t,{activeWalletIndex:l}=Xe(),{data:r}=fl(I({index:l})),{data:s}=bo(I({id:E(()=>e.address),user:r}),()=>!!r.value),i={tokenAmount:null,currencyAmount:null,poolIdx:null,feeRatio:null},d=L(null),u=I({...i}),{promptPassphrase:_,isLocked:m}=we(I({index:l}));Le(d,m);const{data:c}=Bt(I({id:E(()=>e.address)}));fe(()=>{u.poolIdx=s.value?.pool_idx??-1});const p=()=>{u.poolIdx=s.value?.pool_idx??-1},h=v(()=>{if(c.value){const X=c.value.fee_rates.map((ce,he)=>({label:`${(ce*100).toFixed(2)} %`,value:he}));return[{label:"",value:-1},...X]}else return[]}),{data:w}=je(I({index:l,currency:E(()=>c.value?.tokens[0])}),X=>X?X.spendable:0,()=>!!c.value?.tokens[0]),{data:k}=je(I({index:l,currency:E(()=>c.value?.tokens[1])}),X=>X?X.spendable:0,()=>!!c.value?.tokens[1]),V=X=>X<=w.value||"Insufficient funds",S=X=>X<=k.value||"Insufficient funds",T=v(()=>u.tokenAmount&&u.currencyAmount?parseFloat((u.currencyAmount/u.tokenAmount).toPrecision(6)):null),$=v(()=>!!u.tokenAmount&&!!u.currencyAmount||!u.tokenAmount&&!u.currencyAmount),F=()=>{u.tokenAmount&&!u.currencyAmount?u.currencyAmount=parseFloat((u.tokenAmount*c.value.price).toFixed(c.value.decimals[1])):!u.tokenAmount&&u.currencyAmount&&(u.tokenAmount=parseFloat((u.currencyAmount/c.value.price).toFixed(c.value.decimals[0])))},H=L(!1),K=v(()=>!s.value||H.value||!(s.value.fees_earned[0].amount!=0||s.value.fees_earned[1].amount!=0)),Q=v(()=>u.poolIdx<0||s.value&&(s.value.pool_idx<0||u.poolIdx==s.value.pool_idx||s.value.balance[0].amount==0&&s.value.balance[1].amount==0)),ae=v(()=>!(u.tokenAmount||u.currencyAmount)||u.poolIdx<0),me=v(()=>ae.value||s.value.pool_idx>=0&&u.poolIdx!=s.value.pool_idx&&(s.value.balance[0].amount!=0||s.value.balance[1].amount!=0)),Z=v(()=>ae.value),ee=v(()=>!!u.tokenAmount||!!u.currencyAmount||!s.value||!(s.value.balance[0].amount!=0||s.value.balance[1].amount!=0)),oe=Zn(),W=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await oe.mutateAsync(he,{onSuccess:()=>{H.value=!0}})},re=ts(),xe=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await re.mutateAsync(he)},ht=os(),gt=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ht.mutateAsync(he,{onSuccess:()=>{d.value.reset()}})},bt=ns(),ye=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await bt.mutateAsync(he,{onSuccess:()=>{d.value.reset()}})},Ht=rs(),Ge=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await Ht.mutateAsync(he)};return(X,ce)=>{const he=Re,Do=Ce,jo=Te;return f(),x("div",null,[a(A,{flat:""},{default:n(()=>[a(jo,{ref_key:"formRef",ref:d,data:o(u),"default-data":i,onReset:p},{default:n(()=>[a(B,null,{default:n(()=>[y("div",o_,[a(he,{modelValue:o(u).feeRatio,"onUpdate:modelValue":ce[0]||(ce[0]=Je=>o(u).feeRatio=Je),class:"col-sm-3 col-xs-12"},null,8,["modelValue"]),a(N,{"model-value":o(w),label:X.$t("swap.wallet_ballance"),suffix:o(c)?.symbols[0],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{"model-value":o(k),label:X.$t("swap.wallet_ballance"),suffix:o(c)?.symbols[1],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",a_,[a(be,{modelValue:o(u).poolIdx,"onUpdate:modelValue":ce[1]||(ce[1]=Je=>o(u).poolIdx=Je),options:o(h),"emit-value":"","map-options":"",label:X.$t("swap.fee_level"),class:"col-sm-3 col-xs-12"},null,8,["modelValue","options","label"]),a(N,{"model-value":o(T),label:X.$t("common.price"),suffix:`${o(c)?.symbols[1]} / ${o(c)?.symbols[0]}`,"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-12"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(u).tokenAmount,"onUpdate:modelValue":ce[2]||(ce[2]=Je=>o(u).tokenAmount=Je),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(c)?.symbols[0],rules:[o(Y).amount,V],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"]),a(N,{modelValue:o(u).currencyAmount,"onUpdate:modelValue":ce[3]||(ce[3]=Je=>o(u).currencyAmount=Je),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(c)?.symbols[1],rules:[o(Y).amount,S],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"])])]),_:1}),a(rl,null,{default:n(()=>[y("div",n_,[y("div",s_,[a(Do,{class:"items-start"})]),a(j,{label:X.$t("swap.price_match"),outline:"",disable:o($),onClick:F},null,8,["label","disable"]),a(j,{label:X.$t("swap.payout"),outline:"",disable:o(K),onClick:W},null,8,["label","disable"]),a(j,{label:X.$t("swap.switch_fee"),outline:"",disable:o(Q),onClick:xe},null,8,["label","disable"]),a(j,{label:X.$t("swap.add_liquidity"),outline:"",disable:o(me),class:"text-positive",onClick:gt},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_liquidity"),outline:"",disable:o(Z),class:"text-negative",onClick:ye},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_all"),outline:"",disable:o(ee),class:"text-negative",onClick:Ge},null,8,["label","disable"])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},i_={class:"q-gutter-y-sm"},u_={__name:"SwapLiquidUserInfoTable",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("swap.my_balance"),field:"balance",format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.my_liquidity"),field:"equivalent_liquidity",format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.fees_earned"),field:"fees_earned",format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:m=>(m.fees_earned>0?"text-positive":"")+" dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"fee_level",label:l("swap.fee_level"),field:"fee_level",format:m=>(m*100).toFixed(2),headerStyle:"width: 8%",align:"right",xclasses:"percents"},{label:l("swap.unlock_height"),field:"unlock_height",align:"left"}]),{activeWalletIndex:s}=Xe(),{data:i}=fl(I({index:s})),{data:d,loading:u}=bo(I({id:E(()=>e.address),user:i}),()=>!!i.value),_=v(()=>{if(!d.value)return[];const{balance:m,symbols:c,equivalent_liquidity:p,fees_earned:h,pool_idx:w,unlock_height:k,swap:V}=d.value;return m.map((T,$)=>({balance:m[$].value,equivalent_liquidity:p[$].value,fees_earned:h[$].value,symbol:c[$],fee_level:w>=0?V.fee_rates[w]:void 0,unlock_height:k,pool_idx:w}))});return(m,c)=>{const p=de;return f(),x("div",i_,[a(te,{rows:o(_),columns:o(r),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-fee_level":n(h=>[a(O,{props:h},{default:n(()=>[h.row.pool_idx>=0?(f(),x("div",{key:0,class:se(("getXClasses"in m?m.getXClasses:o(Be))(h))},b(h.value),3)):P("",!0)]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:n(h=>[a(p,{props:h,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},d_={class:"q-gutter-y-sm"},c_={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",d_,[a(u_,{address:t.address},null,8,["address"]),a(r_,{address:t.address},null,8,["address"])]))}},m_=Object.freeze(Object.defineProperty({__proto__:null,default:c_},Symbol.toStringTag,{value:"Module"})),__={class:"q-gutter-y-sm"},p_={__name:"SwapPool",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=v(()=>[{label:l("swap.fee_level"),field:"fee_rate",format:u=>u*100,headerStyle:"width: 5%",classes:"key-cell m-bg-grey",xclasses:"percents"},{label:l("common.balance"),field:"balance0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("common.balance"),field:"balance1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:"Price",field:"price",format:u=>u!=null?parseFloat(u.toPrecision(6)):"N/A",headerStyle:"width: 8%",classes:"text-bold"},{label:l("swap.user_total"),field:"user_total0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.user_total"),field:"user_total1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"}]),{data:s,loading:i}=Bt(I({id:E(()=>e.address)})),d=v(()=>{if(!s.value)return[];const{fee_rates:u,pools:_,symbols:m}=s.value;return u.map((p,h)=>({fee_rate:p,balance0:_[h].balance[0].value,symbol0:s.value.symbols[0],balance1:_[h].balance[1].value,symbol1:s.value.symbols[1],price:_[h].price,user_total0:_[h].user_total[0].value,user_total1:_[h].user_total[1].value}))});return(u,_)=>{const m=de;return f(),x("div",__,[a(te,{rows:o(d),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell":n(c=>[a(O,{props:c},{default:n(()=>[y("div",{class:se(("getXClasses"in u?u.getXClasses:o(Be))(c))},b(c.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(c=>[a(m,{props:c,"row-count":4},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},f_=Object.freeze(Object.defineProperty({__proto__:null,default:p_},Symbol.toStringTag,{value:"Module"})),y_={};function h_(t,e){return f(),g(A,{class:"fullscreen text-center q-pa-md flex flex-center"},{default:n(()=>[y("div",null,[e[0]||(e[0]=y("div",{class:"error-code"},"404",-1)),e[1]||(e[1]=y("div",{class:"error-message"},"Oops. Nothing here...",-1)),a(j,{class:"q-mt-xl",outline:"",unelevated:"",to:"/",label:"Go Home","no-caps":""})])]),_:1})}const g_=pe(y_,[["render",h_],["__scopeId","data-v-293e57be"]]),b_=Object.freeze(Object.defineProperty({__proto__:null,default:g_},Symbol.toStringTag,{value:"Module"})),v_=t=>C.post("/server/login",t,{headers:Sn}),Io=()=>{const t=Ve();return J({mutationFn:({credentials:e})=>v_(e),onSuccess:(e,l)=>{const{credentials:r}=l;t.doLogin(r)}})},w_=()=>C.get("/server/logout").then(t=>t.data),x_=()=>{const t=Ve();return J({mutationFn:()=>w_(),onSettled:()=>{t.doLogout(!0)}})},Po=t=>C.get("/server/session",{signal:t}).then(e=>e.data),k_=()=>{const t=Ve();return Ot({queryKey:["session"],queryFn:({signal:e})=>Po(e),refetchInterval:5.1*st,enabled:t.isLoggedIn})},S_=()=>{const t=G();return J({mutationFn:()=>Po(),onSuccess:e=>{t.setQueryData(["session"],e)}})},$_={class:"fullscreen row justify-center"},q_={class:"row justify-between"},V_={__name:"LoginPage",setup(t){const e=L(""),l=Ve(),{autoLogin:r}=Wt(l),s=Io(),i=et(),d=()=>{i.notify({message:"Login failed!",type:"negative"})},u=()=>{const _={credentials:{user:"mmx-admin",passwd_plain:e.value}};s.mutate(_,{onError:d})};return(_,m)=>(f(),x("div",$_,[a(A,{flat:"",class:"self-center col-xl-4 col-lg-6 col-md-8 col-sm-10 col-xs-12"},{default:n(()=>[a(We,null,{default:n(()=>[a(at,null,{default:n(()=>m[2]||(m[2]=[q(" Login ")])),_:1})]),_:1}),a(B,null,{default:n(()=>[a(sl,{class:"q-gutter-sm",onSubmit:u},{default:n(()=>[a(N,{modelValue:o(e),"onUpdate:modelValue":m[0]||(m[0]=c=>z(e)?e.value=c:null),type:"password",required:"",filled:"",label:_.$t("login.password_label")},{prepend:n(()=>[a(Se,{name:o(Nl)},null,8,["name"])]),_:1},8,["modelValue","label"]),y("div",q_,[a(Ze,{modelValue:o(r),"onUpdate:modelValue":m[1]||(m[1]=c=>z(r)?r.value=c:null),label:"Save in Browser (until Logout)"},null,8,["modelValue"]),a(j,{label:"Login",icon:o(Ma),type:"submit",color:"primary",disable:!o(e)},null,8,["icon","disable"])])]),_:1})]),_:1})]),_:1})]))}},T_=Object.freeze(Object.defineProperty({__proto__:null,default:V_},Symbol.toStringTag,{value:"Module"})),C_={__name:"GeneralSettings",setup(t){const{data:e,loading:l}=$e(),r=L();return fe(()=>r.value=e?.opencl_device_select),ke(r,s=>{e.opencl_device_select=s,e.opencl_platform=null,e.opencl_device=s>=0?e.opencl_device_list_relidx[s].index:-1,e.opencl_device_name=s>=0?e.opencl_device_list_relidx[s].name:null}),(s,i)=>(f(),g(A,{disable:o(l),flat:""},{default:n(()=>[o(l)?(f(),g(pt,{key:0,query:"",class:"absolute-top"})):P("",!0),a(Ze,{modelValue:o(e).timelord,"onUpdate:modelValue":i[0]||(i[0]=d=>o(e).timelord=d),label:s.$t("node_settings.enable_timelord")},null,8,["modelValue","label"]),a(Ze,{modelValue:o(e).open_port,"onUpdate:modelValue":i[1]||(i[1]=d=>o(e).open_port=d),label:s.$t("node_settings.open_port")},null,8,["modelValue","label"]),a(Ze,{modelValue:o(e).allow_remote,"onUpdate:modelValue":i[2]||(i[2]=d=>o(e).allow_remote=d),label:"Allow remote service access (for remote harvesters)"},null,8,["modelValue"]),a(be,{modelValue:o(r),"onUpdate:modelValue":i[3]||(i[3]=d=>z(r)?r.value=d:null),label:s.$t("node_settings.opencl_device"),options:o(e).opencl_device_list,"emit-value":"","map-options":""},null,8,["modelValue","label","options"])]),_:1},8,["disable"]))}},R_=pe(C_,[["__scopeId","data-v-b60b4b20"]]),L_={__name:"RewardSettings",setup(t){const e=L(),l=L(),r=L(),s=L(),{data:i,loading:d}=$e();fe(()=>r.value=i?.farmer_reward_addr),fe(()=>s.value=i?.timelord_reward_addr);const{isLocalNode:u,isFarmer:_}=$e();return(m,c)=>(f(),g(A,{disable:o(d),flat:""},{default:n(()=>[o(d)?(f(),g(pt,{key:0,query:"",class:"absolute-top"})):P("",!0),o(_)?(f(),g(N,{key:1,ref_key:"farmer_reward_addr_ref",ref:e,modelValue:o(r),"onUpdate:modelValue":c[0]||(c[0]=p=>z(r)?r.value=p:null),label:m.$t("node_settings.farmer_reward_address"),placeholder:m.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:c[1]||(c[1]=p=>{o(e).validate(p)&&(o(i).farmer_reward_addr=p.length?p:null)})},null,8,["modelValue","label","placeholder","rules"])):P("",!0),o(u)?(f(),g(N,{key:2,ref_key:"timelord_reward_addr_ref",ref:l,modelValue:o(s),"onUpdate:modelValue":c[2]||(c[2]=p=>z(s)?s.value=p:null),label:m.$t("node_settings.timeLord_reward_address"),placeholder:m.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:c[3]||(c[3]=p=>{o(l).validate(p)&&(o(i).timelord_reward_addr=p.length?p:null)})},null,8,["modelValue","label","placeholder","rules"])):P("",!0)]),_:1},8,["disable"]))}},F_={align:"left"},O_={align:"right"},I_={__name:"HarvesterSettings",setup(t){const e=L(),{data:l,loading:r}=$e(),s=fi(),i=_=>{_?.length&&s.mutate(_,{onSuccess:()=>{e.value=""}})},d=hi(),u=_=>{d.mutate(_)};return(_,m)=>(f(),g(A,{disable:o(r),flat:""},{default:n(()=>[o(r)?(f(),g(pt,{key:0,query:"",class:"absolute-top"})):P("",!0),a(N,{label:"Num. Threads (for lookups, reload)","model-value":o(l).harv_num_threads,rules:[o(Y).number],onChange:m[0]||(m[0]=c=>o(l).harv_num_threads=parseInt(c))},null,8,["model-value","rules"]),a(N,{label:_.$t("harvester_settings.harvester_reload_interval"),"model-value":o(l).reload_interval,rules:[o(Y).number],onChange:m[1]||(m[1]=c=>o(l).reload_interval=parseInt(c))},null,8,["label","model-value","rules"]),a(Ze,{modelValue:o(l).recursive_search,"onUpdate:modelValue":m[2]||(m[2]=c=>o(l).recursive_search=c),label:"Recursive Search"},null,8,["modelValue"]),a(Et,{flat:""},{default:n(()=>[y("thead",null,[y("tr",null,[y("th",F_,b(_.$t("harvester_settings.plot_directory")),1),m[5]||(m[5]=y("th",{width:"20%"},null,-1))])]),y("tbody",null,[(f(!0),x(D,null,ie(o(l).plot_dirs,c=>(f(),x("tr",{key:c},[y("td",null,b(c),1),y("td",O_,[a(j,{label:"Remove",outline:"",onClick:p=>u(c)},null,8,["onClick"])])]))),128))])]),_:1}),a(N,{modelValue:o(e),"onUpdate:modelValue":m[3]||(m[3]=c=>z(e)?e.value=c:null),label:_.$t("harvester_settings.plot_directory")},null,8,["modelValue","label"]),a(j,{outlined:"",disable:!o(e)?.length,color:"primary",class:"q-mt-sm",onClick:m[4]||(m[4]=c=>i(o(e)))},{default:n(()=>[q(b(_.$t("harvester_settings.add_directory")),1)]),_:1},8,["disable"])]),_:1},8,["disable"]))}},P_={__name:"BlockchainSettings",setup(t){const e=L(),l=L(),r=v(()=>!e.value?.validate()||!l.value),{t:s}=M();et();const i=_i(),d=u=>{u=parseInt(u),i.mutate({height:u})};return(u,_)=>(f(),x(D,null,[a(N,{ref_key:"revertHeightRef",ref:e,modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=m=>z(l)?l.value=m:null),label:u.$t("node_settings.revert_db_to_height"),rules:[o(Y).number]},null,8,["modelValue","label","rules"]),a(j,{disable:o(r),outline:"",color:"negative",onClick:_[1]||(_[1]=m=>d(o(l)))},{default:n(()=>[q(b(u.$t("node_settings.revert")),1)]),_:1},8,["disable"])],64))}},A_={align:"left"},E_={align:"left"},D_={align:"left"},j_={key:0},W_={__name:"WalletSettings",setup(t){const e=L(""),l=L(""),{data:r,isPending:s}=ft(),i=v(()=>s.value),d=bi(),u=c=>{d.mutate(c,{onSuccess:()=>{e.value=""}})},_=wi(),m=c=>{_.mutate(c)};return(c,p)=>{const h=le("RouterLink");return f(),g(A,{disable:o(i),flat:""},{default:n(()=>[o(i)?(f(),g(pt,{key:0,query:"",class:"absolute-top"})):P("",!0),a(Et,{flat:""},{default:n(()=>[y("thead",null,[y("tr",null,[y("th",A_,b(c.$t("wallet_settings.name")),1),y("th",E_,b(c.$t("wallet_settings.symbol")),1),y("th",D_,b(c.$t("wallet_settings.contract")),1),p[2]||(p[2]=y("th",{align:"left"},null,-1))])]),y("tbody",null,[(f(!0),x(D,null,ie(o(r),w=>(f(),x(D,{key:w.currency},[w.is_native?P("",!0):(f(),x("tr",j_,[y("td",null,b(w.name),1),y("td",null,b(w.symbol),1),y("td",null,[a(h,{to:"/explore/address/"+w.currency,class:"text-primary mono"},{default:n(()=>[q(b(w.currency),1)]),_:2},1032,["to"])]),y("td",null,[a(j,{outline:"",onClick:k=>m(w.currency)},{default:n(()=>[q(b(c.$t("common.remove")),1)]),_:2},1032,["onClick"])])]))],64))),128))])]),_:1}),a(N,{ref_key:"newTokenTextField",ref:l,modelValue:o(e),"onUpdate:modelValue":p[0]||(p[0]=w=>z(e)?e.value=w:null),label:c.$t("wallet_settings.token_address"),placeholder:"mmx1...",rules:[o(Y).address]},null,8,["modelValue","label","rules"]),a(j,{label:c.$t("wallet_settings.add_token"),disable:o(e).length==0||o(l).hasError,outline:"",color:"primary",onClick:p[1]||(p[1]=w=>u(o(e)))},null,8,["label","disable"])]),_:1},8,["disable"])}}},M_={__name:"UISettings",setup(t){const{t:e}=M(),l=ve(),r=v(()=>[{value:!1,label:e("node_settings.light")},{value:!0,label:e("node_settings.dark")}]);return(s,i)=>(f(),x(D,null,[a(be,{modelValue:o(l).locale,"onUpdate:modelValue":i[0]||(i[0]=d=>o(l).locale=d),"emit-value":"","map-options":"",label:s.$t("node_settings.language"),options:o(ml)},null,8,["modelValue","label","options"]),a(be,{modelValue:o(l).isDarkTheme,"onUpdate:modelValue":i[1]||(i[1]=d=>o(l).isDarkTheme=d),"emit-value":"","map-options":"",label:s.$t("node_settings.theme"),options:o(r)},null,8,["modelValue","label","options"])],64))}},B_=t=>C.get("https://api.github.com/repos/madMAx43v3r/mmx-node/tags",{signal:t}).then(e=>e.data),N_=t=>Ot({queryKey:["externalBuildInfo"],queryFn:({signal:e})=>B_(e),refetchInterval:60*60*st,staleTime:1/0,select:t}),U_=()=>N_(e=>{for(let l of e)if(l&&l.name.length&&l.name[0]==="v")return l}),Ao=()=>{const{data:t}=$e(),{data:e}=U_(),l=v(()=>t.version?.split("-",1)[0]),r=v(()=>e.value?.name);return{isNewVersionAvailable:v(()=>!!(l.value&&r.value&&l.value!==r.value)),latestVersion:r,latestRelease:e,version:l}},K_={class:"text-h6"},Q_={class:"q-gutter-y-sm"},z_={__name:"BuildVersionInfo",setup(t){const{data:e,loading:l}=$e(),{t:r}=M(),s=v(()=>[{label:r("build_version.version"),field:"version"},{label:r("build_version.commit"),field:"commit"}]),{isNewVersionAvailable:i,latestVersion:d,version:u}=Ao();return(_,m)=>{const c=rt;return f(),g(A,{flat:""},{default:n(()=>[a(B,null,{default:n(()=>[y("div",K_,[a(ca,{icon:o(Ba)},null,8,["icon"]),q(" "+b(_.$t("build_version.build")),1)]),y("div",Q_,[a(c,{rows:o(s),data:o(e),loading:o(l)},null,8,["rows","data","loading"]),o(i)?(f(),g(tl,{key:0,rounded:"","inline-actions":"",class:"bg-warning"},{default:n(()=>[q(" This build is "+b(o(u))+", compared to "+b(o(d))+" at madMAx43v3r:master ",1)]),_:1})):P("",!0)])]),_:1})]),_:1})}}},H_={class:"q-gutter-y-sm"},ut="text-h6",X_={__name:"index",setup(t){const e=ve(),l=ot(),r=St(),s=r.query.state||"general",i=v(()=>{const m={};return m[s]=!0,m}),d=L(i.value);ke(d,m=>{var c=Object.keys(m);m?l.push({path:r.path,query:{state:c.filter(p=>m[p])[0]},replace:!0}):l.push({path:r.path,replace:!0})},{deep:!0});const{isLocalNode:u,isFarmer:_}=$e();return(m,c)=>(f(),g(lt,{padding:""},{default:n(()=>[y("div",H_,[a(ma,{bordered:"",class:"rounded-borders"},{default:n(()=>[o(u)?(f(),g(it,{key:0,modelValue:o(d).general,"onUpdate:modelValue":c[0]||(c[0]=p=>o(d).general=p),"expand-separator":"",label:m.$t("node_settings.general"),icon:o(Na),"header-class":ut,group:"expansionGroup"},{default:n(()=>[a(A,null,{default:n(()=>[a(B,null,{default:n(()=>[a(o(R_))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"])):P("",!0),o(u)||o(_)?(f(),g(it,{key:1,modelValue:o(d).reward,"onUpdate:modelValue":c[1]||(c[1]=p=>o(d).reward=p),"expand-separator":"",label:"Reward",icon:o(Ua),"header-class":ut,group:"expansionGroup"},{default:n(()=>[a(A,null,{default:n(()=>[a(B,null,{default:n(()=>[a(o(L_))]),_:1})]),_:1})]),_:1},8,["modelValue","icon"])):P("",!0),o(_)?(f(),g(it,{key:2,modelValue:o(d).harvester,"onUpdate:modelValue":c[2]||(c[2]=p=>o(d).harvester=p),"expand-separator":"",label:m.$t("harvester_settings.harvester"),icon:o(Ka),"header-class":ut,group:"expansionGroup"},{default:n(()=>[a(A,null,{default:n(()=>[a(B,null,{default:n(()=>[a(o(I_))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"])):P("",!0),o(u)?(f(),g(it,{key:3,modelValue:o(d).blockchain,"onUpdate:modelValue":c[3]||(c[3]=p=>o(d).blockchain=p),"expand-separator":"",label:m.$t("node_settings.blockchain"),icon:o(Qa),"header-class":ut,group:"expansionGroup"},{default:n(()=>[a(A,null,{default:n(()=>[a(B,null,{default:n(()=>[a(o(P_))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"])):P("",!0),a(it,{modelValue:o(d).wallet,"onUpdate:modelValue":c[4]||(c[4]=p=>o(d).wallet=p),"expand-separator":"",label:m.$t("wallet_settings.token_whitelist"),icon:o(za),"header-class":ut,group:"expansionGroup"},{default:n(()=>[a(A,null,{default:n(()=>[a(B,null,{default:n(()=>[a(o(W_))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"]),o(e).isWinGUI?P("",!0):(f(),g(it,{key:4,modelValue:o(d).ui,"onUpdate:modelValue":c[5]||(c[5]=p=>o(d).ui=p),"expand-separator":"",label:m.$t("node_settings.ui"),icon:o(Ha),"header-class":ut,group:"expansionGroup"},{default:n(()=>[a(A,null,{default:n(()=>[a(B,null,{default:n(()=>[a(o(M_))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"]))]),_:1}),a(z_,{class:"q-mt-lg"})])]),_:1}))}},G_=Object.freeze(Object.defineProperty({__proto__:null,default:X_},Symbol.toStringTag,{value:"Module"})),J_={__name:"MenuTabs",props:{tabs:{type:Array,required:!0}},setup(t){return(e,l)=>(f(),g(tt,{"indicator-color":"primary","outside-arrows":"",class:"q-mx-xs"},{default:n(()=>[(f(!0),x(D,null,ie(t.tabs,(r,s)=>(f(),x(D,{key:s},[r.separator?(f(),g(al,{key:0,vertical:"",inset:"",class:"q-mx-md"})):r.space?(f(),g(Wl,{key:1})):r.component?(f(),g(It(r.component),{key:2})):(f(),x(D,{key:3},[r.visible??!0?(f(),g(Ke,{key:0,to:r.to,label:r.label,icon:r.icon,disable:r.disable,onClick:r.click},null,8,["to","label","icon","disable","onClick"])):P("",!0)],64))],64))),128))]),_:1}))}},Y_={__name:"BuildVersion",setup(t){const{isNewVersionAvailable:e,latestVersion:l,version:r}=Ao();return(s,i)=>o(e)?(f(),g(Se,{key:0,name:o(Xa),color:"warning",size:"sm",class:"animate__animated animate__flash animate__delay-1s"},{default:n(()=>[a(Qe,null,{default:n(()=>[q("This build is "+b(o(r))+", compared to "+b(o(l))+" at madMAx43v3r:master",1)]),_:1})]),_:1},8,["name"])):P("",!0)}};function Z_(t=1e4){const l=G().getQueryCache(),r=L(!1),s=L(new Set),i=new Map,d=l.subscribe(u=>{if(u.type==="updated"){const _=u.query,m=JSON.stringify(_.queryKey);if(_.state.fetchStatus==="fetching"){i.has(m)&&(clearTimeout(i.get(m)),i.delete(m));const c=setTimeout(()=>{_.state.fetchStatus==="fetching"&&(s.value.add(m),r.value=!0),i.delete(m)},t);i.set(m,c)}else i.has(m)&&(clearTimeout(i.get(m)),i.delete(m)),s.value.has(m)&&(s.value.delete(m),r.value=s.value.size>0)}});return _a(()=>{d(),i.forEach(u=>clearTimeout(u)),i.clear()}),r}const Oe=Object.freeze({DisconnectedFromNode:Symbol("DisconnectedFromNode"),QueryTakingLong:Symbol("QueryTakingLong"),Connecting:Symbol("Connecting"),Syncing:Symbol("Syncing"),Synced:Symbol("Synced"),None:Symbol("None")}),ep=()=>{const t=Ve(),{isLocalNode:e}=$e(),l=L(0),r=L(0),s=L(1);Z_(1e3);const i=v(()=>l.value<1),d=v(()=>r.value<1||!e.value),u=v(()=>s.value<1),_=S_(),m=()=>{t.isLoggedIn&&_.mutate(null,{onSuccess:$=>{$&&$.user?l.value=0:l.value++},onError:()=>{l.value++}})},c=v(()=>{let $=i.value&&d.value?5e3:1e3;return t.isLoggedIn||($=-1),$});Zt(m,c);const p=ui(),h=()=>p.mutate(null,{onSuccess:()=>{r.value=0},onError:()=>{r.value++}}),w=v(()=>{let $=d.value?5e3:1e3;return i.value||($=-1),$});Zt(h,w);const k=Rn(),V=()=>k.mutate(null,{onSuccess:$=>{$&&$.is_synced?s.value=0:s.value++},onError:()=>{s.value++}}),S=v(()=>{let $=d.value?5e3:1e3;return i.value||($=-1),$});return Zt(V,S),{status:v(()=>{let $=Oe.None;return i.value?($=Oe.Connecting,d.value&&($=Oe.Syncing,u.value&&($=Oe.Synced))):$=Oe.DisconnectedFromNode,$})}},Zt=(t,e)=>{t();const l=pa(t,e);return ke(e,(r,s)=>{Fe(r)<=0&&l.pause(),(Fe(s)<=0&&Fe(r)>0||Fe(s)>0&&Fe(r)<Fe(s))&&(l.resume(),t())}),l},tp={class:"q-px-xs"},lp={__name:"NodeStatus",setup(t){const{t:e}=M(),l={[Oe.DisconnectedFromNode]:{label:e("node_status.disconnected"),icon:en,class:"text-negative animate__animated animate__swing animate__infinite"},[Oe.QueryTakingLong]:{label:"Node response taking too long",icon:Za,class:"text-warning animate__animated animate__flash animate__slow animate__infinite"},[Oe.Connecting]:{label:e("node_status.connecting"),icon:Ya,class:"text-negative animate__animated animate__flash animate__slow animate__infinite"},[Oe.Syncing]:{label:e("node_status.syncing"),icon:Ja,class:"text-warning spin"},[Oe.Synced]:{label:e("node_status.synced"),icon:Ga,class:"text-positive animate__animated animate__bounceIn"}},{status:r}=ep(),s=v(()=>l[r.value]);return(i,d)=>(f(),x("div",tp,[o(s)?(f(),g(Se,{key:0,name:o(s).icon,size:"sm",class:se(o(s).class)},{default:n(()=>[a(Qe,null,{default:n(()=>[q(b(o(s).label),1)]),_:1})]),_:1},8,["name","class"])):P("",!0)]))}},op=pe(lp,[["__scopeId","data-v-5a639f02"]]),ap={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 1170.7 327.595"},np={__name:"SvgLogo",props:{color:{type:String,default:"#fff"}},setup(t){return fa(e=>({"442bc8c4":t.color})),(e,l)=>(f(),x("svg",ap,l[0]||(l[0]=[y("g",{id:"Text_x0020_Black_x0020__x0028_SVG_x0029_"},[y("path",{d:"M19.578 80.542 0 327.595h95.292l6.752-85.204zM258.854 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L132.604 0H25.96L173.5 289.567l91.121-178.834-17.184 216.863h95.292L368.689 0zM454.949 80.542l-19.578 247.053h95.292l6.752-85.204zM694.225 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L567.975 0H461.33l147.54 289.566 91.121-178.834-17.184 216.863H778.1L804.06 0zM918.156 184.837l53.254 104.729-19.377 38.029h-106.47zM908.537 0h69.457l166.918 327.595h-106.643L890.298 37.187C879.835 16.653 888.003.001 908.537.001zM1098.11 142.76l-53.26-104.725L1064.23 0h106.47z",class:"fil0"})],-1)])))}},sp=pe(np,[["__scopeId","data-v-1c7f7bbe"]]),rp={class:"logo"},ip={class:"mono node-height"},up={__name:"index",setup(t){const e=Zl(),l=v(()=>e.height&&e.height.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),r=ve(),s=v(()=>r.isDarkTheme?"#fff":"#000");return(i,d)=>{const u=sp;return f(),x("div",rp,[a(u,{height:"18",color:o(s)},null,8,["color"]),y("div",ip,[(f(),x(D,{key:1},[q(b(o(l)),1)],64))])])}}},dp=pe(up,[["__scopeId","data-v-9901f0bc"]]),cp=()=>{const t=Ve(),{data:e}=k_(),l=()=>{t.doLogout(!1)},r=Io(),s=i=>{const d={credentials:i};r.mutate(d,{onError:l})};ke(e,i=>{i&&i.user||(t.autoLogin?s(t.credentials):t.doLogout(!1))})},mp={__name:"GuiMainMenu",setup(t){const{t:e}=M(),l=ve(),{isWallet:r,isFarmer:s}=$e(),i=v(()=>[{component:dp},{separator:!0},{to:"/node",label:e("main_menu.node")},{to:"/wallet",label:e("main_menu.wallet"),visible:r.value},{to:"/farmer",label:e("main_menu.farmer"),visible:s.value},{to:"/explore",label:e("main_menu.explore")},{to:"/market",label:e("main_menu.market"),visible:r.value},{to:"/swap",label:e("main_menu.swap"),visible:r.value},{space:!0},{component:Y_},{component:op},{to:"/settings",icon:Kl},...l.isGUI?[]:[{icon:tn,click:u}]]),d=x_(),u=()=>d.mutate();return cp(),(_,m)=>{const c=J_;return f(),g(c,{tabs:o(i)},null,8,["tabs"])}}};let Eo;Eo=mp;const _p={class:"row justify-center"},pp={class:"row justify-center"},fp={__name:"default",setup(t){const e=ve(),l=v(()=>({"col-12":!0,"app-max-width":!e.isWinGUI}));return(r,s)=>{const i=Pe;return f(),g(ga,{view:"lhr Lpr lFr"},{default:n(()=>[a(ya,{class:"m-bg-grey"},{default:n(()=>[y("div",_p,[y("div",{class:se(o(l))},[(f(),g(It(o(Eo)),{class:"q-mx-lg"}))],2)])]),_:1}),y("div",pp,[y("div",{class:se(o(l))},[a(ha,null,{default:n(()=>[a(i)]),_:1})],2)])]),_:1})}}},yp=Object.freeze(Object.defineProperty({__proto__:null,default:fp},Symbol.toStringTag,{value:"Module"})),hp={class:"q-gutter-y-sm"},gp={__name:"PromptPassphraseDialog",emits:[..._e.emits],setup(t){const e=L(""),l=L(!1),{dialogRef:r,onDialogHide:s,onDialogOK:i,onDialogCancel:d}=_e(),u=()=>{i({passphrase:e.value})},_=L(null),m=()=>{_.value&&_.value.focus()};return(c,p)=>(f(),g(ze,{ref_key:"dialogRef",ref:r,persistent:"",onHide:o(s),onShow:m},{default:n(()=>[a(A,{class:"q-dialog-plugin"},{default:n(()=>[a(B,null,{default:n(()=>[y("div",hp,[p[2]||(p[2]=y("div",{class:"text-h6"},"Unlock wallet",-1)),a(N,{ref_key:"inputRef",ref:_,modelValue:o(e),"onUpdate:modelValue":p[1]||(p[1]=h=>z(e)?e.value=h:null),hint:c.$t("wallet_common.enter_passphrase"),outlined:"",type:o(l)?"text":"password",autocomplete:"new-password",onKeyup:jl(u,["enter"])},{append:n(()=>[a(Se,{name:o(l)?o(Hl):o(zl),class:"cursor-pointer",onClick:p[0]||(p[0]=h=>l.value=!o(l))},null,8,["name"])]),_:1},8,["modelValue","hint","type"])])]),_:1}),a(rl,{align:"right"},{default:n(()=>[a(j,{label:"Cancel",flat:"",onClick:o(d)},null,8,["onClick"]),a(j,{label:"Unlock",flat:"",icon:o(Ul),onClick:u},null,8,["icon"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},bp=Object.freeze(Object.defineProperty({__proto__:null,default:gp},Symbol.toStringTag,{value:"Module"})),vp={class:"q-gutter-y-sm"},wp={class:"row justify-end q-col-gutter-sm"},xp={class:"row justify-end q-col-gutter-sm"},kp={class:"row"},Sp={class:"col"},$p={class:"col-11"},qp={class:"row justify-end q-gutter-x-sm"},Vp={__name:"OfferDepositDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[..._e.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:i}=_e(),d=async()=>{await F(),s()},u=()=>{m.value&&m.value.onDialogShow()},_={amount:null,feeRatio:null},m=L(null),c=I({..._}),p=v(()=>({index:e.index,amount:c.amount,currency:e.offer.bid_currency,dst_addr:e.offer.address,options:{fee_ratio:c.feeRatio}})),{promptPassphrase:h,isLocked:w}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(m,w),{data:V,isLoading:S,latestError:T}=co(p,k),$=lo(),F=async()=>{const Q=await h(),ae={...p.value,options:{...p.value.options,passphrase:Q}};await $.mutateAsync(ae)},{data:H}=je(I({index:E(()=>e.index),currency:E(()=>e.offer.bid_symbol)}),Q=>Q?Q.spendable:0),K=Q=>Q<=H.value||"Insufficient funds";return(Q,ae)=>{const me=Re,Z=De,ee=Ce,oe=Ee,W=Ae,re=Te;return f(),g(ze,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(re,{ref_key:"formRef",ref:m,data:o(c),"default-data":_,onSubmit:d},{default:n(()=>[a(We,{class:"bg-primary text-white"},{default:n(()=>[a(at,{class:"text-subtitle1"},{default:n(()=>[y("b",null,b(Q.$t("account_offers.deposit_to"))+" "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:n(()=>[y("div",vp,[y("div",wp,[a(N,{"model-value":o(H),label:Q.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(c).amount,"onUpdate:modelValue":ae[0]||(ae[0]=xe=>o(c).amount=xe),modelModifiers:{number:!0},label:Q.$t("common.amount"),"input-class":"amount-input",suffix:t.offer.bid_symbol,rules:[o(Y).required,o(Y).amount,K],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",xp,[a(me,{modelValue:o(c).feeRatio,"onUpdate:modelValue":ae[1]||(ae[1]=xe=>o(c).feeRatio=xe),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(Z,{modelValue:o(V),"onUpdate:modelValue":ae[2]||(ae[2]=xe=>z(V)?V.value=xe:null),loading:o(S),error:o(T),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:n(()=>[y("div",kp,[y("div",Sp,[a(ee)]),y("div",$p,[y("div",qp,[a(oe),a(W,{label:Q.$t("account_offers.deposit")},null,8,["label"]),a(j,{label:Q.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Tp=Object.freeze(Object.defineProperty({__proto__:null,default:Vp},Symbol.toStringTag,{value:"Module"})),Cp={class:"q-gutter-y-sm"},Rp={class:"row justify-end q-col-gutter-sm"},Lp={class:"row"},Fp={class:"col"},Op={class:"col-11"},Ip={class:"row justify-end q-gutter-x-sm"},Pp={__name:"OfferWithdrawDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[..._e.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:i}=_e(),d=async()=>{await F(),s()},u=()=>{m.value&&m.value.onDialogShow()},_={feeRatio:null},m=L(null),c=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:c.feeRatio}})),{promptPassphrase:h,isLocked:w}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(m,w),{data:V,isLoading:S,latestError:T}=zn(p,k),$=Dn(),F=async()=>{const H=await h(),K={...p.value,options:{...p.value.options,passphrase:H}};await $.mutateAsync(K)};return(H,K)=>{const Q=Re,ae=De,me=Ce,Z=Ee,ee=Ae,oe=Te;return f(),g(ze,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(oe,{ref_key:"formRef",ref:m,data:o(c),"default-data":_,onSubmit:d},{default:n(()=>[a(We,{class:"bg-primary text-white"},{default:n(()=>[a(at,{class:"text-subtitle1"},{default:n(()=>[y("b",null,"Withdraw from "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:n(()=>[y("div",Cp,[y("div",Rp,[a(Q,{modelValue:o(c).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=W=>o(c).feeRatio=W),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(V),"onUpdate:modelValue":K[1]||(K[1]=W=>z(V)?V.value=W:null),loading:o(S),error:o(T),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:n(()=>[y("div",Lp,[y("div",Fp,[a(me)]),y("div",Op,[y("div",Ip,[a(Z),a(ee,{label:"Withdraw"}),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Ap=Object.freeze(Object.defineProperty({__proto__:null,default:Pp},Symbol.toStringTag,{value:"Module"})),Ep=t=>{let e=BigInt(t).toString(16);return e.length%2&&(e="0"+e),"0x"+e},Dp={class:"q-gutter-y-sm"},jp={class:"row justify-end col-3"},Wp={class:"row justify-end q-col-gutter-sm"},Mp={class:"row"},Bp={class:"col"},Np={class:"col-11"},Up={class:"row justify-end q-gutter-x-sm"},Kp={__name:"OfferUpdateDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[..._e.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:i}=_e(),d=async()=>{await H(),s()},u=()=>{m.value&&m.value.onDialogShow()},_={amount:null,feeRatio:null},m=L(null),c=I({..._}),p=v(()=>c.amount*Math.pow(2,64)*Math.pow(10,e.offer.bid_decimals-e.offer.ask_decimals)),h=v(()=>({index:e.index,address:e.offer.address,method:"set_price",args:[Ep(p.value??0)],options:{user:e.offer.owner,fee_ratio:c.feeRatio}})),{promptPassphrase:w,isLocked:k}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:V}=Le(m,k),{data:S,isLoading:T,latestError:$}=Kn(h,V),F=An(),H=async()=>{const K=await w(),Q={...h.value,options:{...h.value.options,passphrase:K}};await F.mutateAsync(Q)};return(K,Q)=>{const ae=Re,me=De,Z=Ce,ee=Ee,oe=Ae,W=Te;return f(),g(ze,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(W,{ref_key:"formRef",ref:m,data:o(c),"default-data":_,onSubmit:d},{default:n(()=>[a(We,{class:"bg-primary text-white"},{default:n(()=>[a(at,{class:"text-subtitle1"},{default:n(()=>[y("b",null," Update "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:n(()=>[y("div",Dp,[y("div",jp,[a(N,{modelValue:o(c).amount,"onUpdate:modelValue":Q[0]||(Q[0]=re=>o(c).amount=re),modelModifiers:{number:!0},label:"New Price","input-class":"amount-input",suffix:t.offer.bid_symbol+" / "+t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","suffix","rules"])]),y("div",Wp,[a(ae,{modelValue:o(c).feeRatio,"onUpdate:modelValue":Q[1]||(Q[1]=re=>o(c).feeRatio=re),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(S),"onUpdate:modelValue":Q[2]||(Q[2]=re=>z(S)?S.value=re:null),loading:o(T),error:o($),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:n(()=>[y("div",Mp,[y("div",Bp,[a(Z)]),y("div",Np,[y("div",Up,[a(ee),a(oe,{label:"Update"}),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Qp=Object.freeze(Object.defineProperty({__proto__:null,default:Kp},Symbol.toStringTag,{value:"Module"})),zp={class:"q-gutter-y-sm"},Hp={class:"row justify-end q-col-gutter-sm"},Xp={class:"row"},Gp={class:"col"},Jp={class:"col-11"},Yp={class:"row justify-end q-gutter-x-sm"},Zp={__name:"OfferCancelDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[..._e.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:i}=_e(),d=async()=>{await F(),s()},u=()=>{m.value&&m.value.onDialogShow()},_={feeRatio:null},m=L(null),c=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:c.feeRatio}})),{promptPassphrase:h,isLocked:w}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(m,w),{data:V,isLoading:S,latestError:T}=Hn(p,k),$=jn(),F=async()=>{const H=await h(),K={...p.value,options:{...p.value.options,passphrase:H}};await $.mutateAsync(K)};return(H,K)=>{const Q=Re,ae=De,me=Ce,Z=Ee,ee=Ae,oe=Te;return f(),g(ze,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(oe,{ref_key:"formRef",ref:m,data:o(c),"default-data":_,onSubmit:d},{default:n(()=>[a(We,{class:"bg-primary text-white"},{default:n(()=>[a(at,{class:"text-subtitle1"},{default:n(()=>[y("b",null,b(H.$t("account_offers.revoke"))+" — "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:n(()=>[y("div",zp,[y("div",Hp,[a(Q,{modelValue:o(c).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=W=>o(c).feeRatio=W),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(V),"onUpdate:modelValue":K[1]||(K[1]=W=>z(V)?V.value=W:null),loading:o(S),error:o(T),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,{class:"q-mt-md"},{default:n(()=>[y("div",Xp,[y("div",Gp,[a(me)]),y("div",Jp,[y("div",Yp,[a(Z),a(ee,{label:H.$t("account_offers.revoke")},null,8,["label"]),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},ef=Object.freeze(Object.defineProperty({__proto__:null,default:Zp},Symbol.toStringTag,{value:"Module"})),tf={class:"q-gutter-y-sm"},lf={__name:"ShowSeedDialog",props:{seed:{type:String,required:!0},withPassphrase:{type:Boolean,required:!1,default:!1},fingerPrint:{type:String,required:!1,default:null}},emits:[..._e.emits],setup(t){const{dialogRef:e,onDialogHide:l,onDialogOK:r}=_e();return(s,i)=>{const d=Co;return f(),g(ze,{ref_key:"dialogRef",ref:e,persistent:"",onHide:o(l)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(B,null,{default:n(()=>[y("div",tf,[a(d,{"model-value":t.seed,readonly:""},null,8,["model-value"]),t.withPassphrase?(f(),g(N,{key:0,"model-value":t.fingerPrint,label:"Fingerprint (needed to verify passphrase)","input-class":"text-bold",readonly:""},null,8,["model-value"])):P("",!0)])]),_:1}),a(rl,{align:"right"},{default:n(()=>[a(o(nl),null,{default:n(({copy:u,copied:_})=>[a(j,{label:"Copy",flat:"",icon:o(ul),onClick:m=>u(t.seed)},{default:n(()=>[a(Qe,{"model-value":_===!0,"no-parent-event":""},{default:n(()=>i[0]||(i[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon","onClick"])]),_:1}),a(j,{label:"Ok",flat:"",onClick:o(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}}},of=Object.freeze(Object.defineProperty({__proto__:null,default:lf},Symbol.toStringTag,{value:"Module"})),af={class:"q-gutter-y-sm"},nf={class:"row justify-end q-col-gutter-sm"},sf={class:"row justify-end q-col-gutter-sm"},rf={class:"row justify-end q-col-gutter-sm"},uf={class:"row"},df={class:"col"},cf={class:"col-11"},mf={class:"row justify-end q-gutter-x-sm"},_f={__name:"OfferTradeDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[..._e.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:i}=_e(),d=async()=>{await me(),s()},u=()=>{m.value&&m.value.onDialogShow()},_={amount:null,feeRatio:null},m=L(null),c=I({..._}),{promptPassphrase:p,isLocked:h}=we(I({index:E(()=>e.index)})),{isValidConfirmed:w,isValidConfirmedUnlocked:k}=Le(m,h),{data:V}=sr(I({id:E(()=>e.offer.address),amount:v(()=>c.amount||0)})),S=v(()=>V.value?.trade.value??null),T=v(()=>V.value?.next_input.value??null),$=()=>{c.amount=parseFloat(T.value)},F=v(()=>({index:e.index,address:e.offer.address,amount:c.amount,price:V.value?.inv_price??e.offer.inv_price,options:{fee_ratio:c.feeRatio}})),{data:H,isLoading:K,latestError:Q}=Xn(F,k),ae=Wn(),me=async()=>{const W=await p(),re={...F.value,options:{...F.value.options,passphrase:W}};await ae.mutateAsync(re)},{data:Z}=je(I({index:E(()=>e.index),currency:E(()=>e.offer.ask_currency)}),W=>W?W.spendable:0),ee=W=>W<=Z.value||"Insufficient funds",oe=v(()=>{const W=V.value?parseFloat(V.value.trade.amount):0;return w.value&&c.amount>0&&c.amount<=Z.value&&W>0&&W<=e.offer.bid_balance});return(W,re)=>{const xe=Re,ht=De,gt=Ce,bt=Ee,ye=Ae,Ht=Te;return f(),g(ze,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(Ht,{ref_key:"formRef",ref:m,data:o(c),"default-data":_,onSubmit:d},{default:n(()=>[a(We,{class:"bg-primary text-white"},{default:n(()=>[a(at,{class:"text-subtitle1"},{default:n(()=>[y("b",null,"Trade — "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:n(()=>[y("div",af,[y("div",nf,[a(N,{"model-value":o(Z),label:W.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(c).amount,"onUpdate:modelValue":re[0]||(re[0]=Ge=>o(c).amount=Ge),modelModifiers:{number:!0},debounce:200,label:W.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount,ee],class:"col-md-4 col-sm-5 col-xs-6"},{append:n(()=>[a(j,{icon:o(ln),color:"secondary",round:"",outline:"",dense:"",onClick:$},{default:n(()=>[a(Qe,null,{default:n(()=>[q(b(W.$t("market_offers.increase")),1)]),_:1})]),_:1},8,["icon"])]),_:1},8,["modelValue","label","suffix","rules"])]),y("div",sf,[a(N,{"model-value":t.offer.bid_balance_value,label:"They Offer","input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix"]),a(N,{"model-value":o(S),label:W.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",rf,[a(xe,{modelValue:o(c).feeRatio,"onUpdate:modelValue":re[1]||(re[1]=Ge=>o(c).feeRatio=Ge),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ht,{modelValue:o(H),"onUpdate:modelValue":re[2]||(re[2]=Ge=>z(H)?H.value=Ge:null),loading:o(K),error:o(Q),locked:o(h),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:n(()=>[y("div",uf,[y("div",df,[a(gt)]),y("div",cf,[y("div",mf,[a(bt),a(ye,{label:W.$t("market_offers.trade"),disable:!o(oe)},null,8,["label","disable"]),a(j,{label:W.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},pf=Object.freeze(Object.defineProperty({__proto__:null,default:_f},Symbol.toStringTag,{value:"Module"})),ff={class:"q-gutter-y-sm"},yf={class:"row justify-end q-col-gutter-sm"},hf={class:"row justify-end q-col-gutter-sm"},gf={class:"row justify-end q-col-gutter-sm"},bf={class:"row"},vf={class:"col"},wf={class:"col-11"},xf={class:"row justify-end q-gutter-x-sm"},kf={__name:"OfferAcceptDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[..._e.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:i}=_e(),d=async()=>{await F(),s()},u=()=>{m.value&&m.value.onDialogShow()},_={amount:null,feeRatio:null},m=L(null),c=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,price:e.offer.inv_price,options:{fee_ratio:c.feeRatio}})),{promptPassphrase:h,isLocked:w}=we(I({index:E(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(m,w),{data:V,isLoading:S,latestError:T}=Gn(p,k),$=Mn(),F=async()=>{const K=await h(),Q={...p.value,options:{...p.value.options,passphrase:K}};await $.mutateAsync(Q)},{data:H}=je(I({index:E(()=>e.index),currency:E(()=>e.offer.ask_currency)}),K=>K?K.spendable:0);return(K,Q)=>{const ae=Re,me=De,Z=Ce,ee=Ee,oe=Ae,W=Te;return f(),g(ze,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:n(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(W,{ref_key:"formRef",ref:m,data:o(c),"default-data":_,onSubmit:d},{default:n(()=>[a(We,{class:"bg-primary text-white"},{default:n(()=>[a(at,{class:"text-subtitle1"},{default:n(()=>[y("b",null,"Accept — "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:n(()=>[y("div",ff,[y("div",yf,[a(N,{"model-value":o(H),label:K.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{"model-value":t.offer.ask_value,label:K.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",hf,[a(N,{"model-value":t.offer.bid_balance_value,label:K.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",gf,[a(ae,{modelValue:o(c).feeRatio,"onUpdate:modelValue":Q[0]||(Q[0]=re=>o(c).feeRatio=re),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(V),"onUpdate:modelValue":Q[1]||(Q[1]=re=>z(V)?V.value=re:null),loading:o(S),error:o(T),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,{class:"q-mt-md"},{default:n(()=>[y("div",bf,[y("div",vf,[a(Z)]),y("div",wf,[y("div",xf,[a(ee),a(oe,{label:K.$t("market_offers.accept")},null,8,["label"]),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Sf=Object.freeze(Object.defineProperty({__proto__:null,default:kf},Symbol.toStringTag,{value:"Module"}));
