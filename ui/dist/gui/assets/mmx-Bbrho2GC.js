import{f as Mo,D as Bo,N as mt,j as No,k as Oe,P as hl,l as Ze,m as Ot,c as v,r as L,w as Se,p as G,q as J,v as Uo,x as Ko,y as Qo,z as bl,Q as zo,V as Ho,A as Xo,B as Go,a as _e,C as et,E as xt,F as b,G as f,H as s,I as kt,J as it,u as o,K as le,L as a,T as Jo,M as E,n as Yo,O as x,R as Zo,S as D,U as ea,W as B,X as se,Y as g,Z as Ft,_ as y,$ as P,a0 as W,a1 as re,a2 as I,a3 as Qe,a4 as tt,a5 as lt,a6 as ue,a7 as F,a8 as el,a9 as q,aa as ta,e as z,ab as te,ac as j,ad as A,ae as $e,af as la,ag as oa,ah as tl,ai as ze,aj as Il,ak as Pl,al as Ue,am as aa,an as ll,ao as It,ap as St,aq as Ie,ar as ge,as as ot,at as N,au as Ke,av as na,aw as Pt,o as sa,ax as ol,ay as ra,i as Al,t as ut,az as ia,aA as Ct,aB as ua,aC as Jt,aD as At,aE as Et,aF as bt,aG as gt,aH as Yt,aI as El,aJ as We,aK as Dl,aL as da,aM as al,aN as at,aO as ca,aP as ma,aQ as _a,aR as pa,aS as fa,aT as ya,aU as ha,aV as ba,aW as ga,aX as va,aY as pe,aZ as He}from"./quasar-i9XAHRn6.js";import{d as nl,a as jl,k as Me,g as wa,c as xa,H as Wl,j as ka,b as Sa,m as sl,e as Ml,f as Bl,h as Nl,i as $a,l as Ul,n as Kl,o as Ql,p as qa,q as Ta,r as Va,s as Ca,t as Ra,u as zl,v as Hl,w as La,x as gl,y as Oa,z as Fa,A as Ia,B as Pa,C as Aa,D as Ea,E as Da,F as ja,G as Wa,I as Ma,J as Dt,K as rl,L as Ba,M as Na,N as Ua,O as Ka,P as Qa,Q as za,R as Ha,S as Xa,T as Ga,U as Ja,V as Ya,W as Za,X as en,Y as tn,Z as ln,_ as on,$ as an,a0 as nn}from"./modules-BIv2o4Gj.js";import{E as sn,u as rn,i as un,a as dn,b as cn,c as mn,d as _n}from"./echarts-C3aO_6MT.js";import{b as pn,w as fn}from"./@scure-DkhtbgrZ.js";import Zt from"./locales/common.json-CitLrNoC.js";import Xl from"./locales/en-US.json-CoFvze62.js";import yn from"./locales/quasar/en-US.js-CST473Od.js";const hn={config:{dark:!0},plugins:{Notify:mt,Dialog:Bo},iconSet:Mo},bn="modulepreload",gn=function(t,e){return new URL(t,e).href},vl={},R=function(e,l,r){let n=Promise.resolve();if(l&&l.length>0){const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),_=u?.nonce||u?.getAttribute("nonce");n=Promise.allSettled(l.map(d=>{if(d=gn(d,r),d in vl)return;vl[d]=!0;const m=d.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(r)for(let w=c.length-1;w>=0;w--){const k=c[w];if(k.href===d&&(!m||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${p}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":bn,m||(h.as="script"),h.crossOrigin="",h.href=d,_&&h.setAttribute("nonce",_),document.head.appendChild(h),m)return new Promise((w,k)=>{h.addEventListener("load",w),h.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},vn=[{path:"/node",component:()=>R(()=>Promise.resolve().then(()=>li),void 0,import.meta.url),meta:{title:"Node"},children:[{path:"",redirect:"/node/log"},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>ui),void 0,import.meta.url)},{path:"peers",component:()=>R(()=>Promise.resolve().then(()=>Bi),void 0,import.meta.url),meta:{title:"Peers"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>To),void 0,import.meta.url),props:{limit:20},meta:{title:"Blocks"}},{path:"netspace",component:()=>R(()=>Promise.resolve().then(()=>Qi),void 0,import.meta.url),meta:{title:"Netspace"}},{path:"vdf_speed",component:()=>R(()=>Promise.resolve().then(()=>Hi),void 0,import.meta.url),meta:{title:"VDF Speed"},alias:[]},{path:"reward",component:()=>R(()=>Promise.resolve().then(()=>Gi),void 0,import.meta.url),meta:{title:"Block Reward"},alias:[]}]}],wn=[{path:"/wallet",component:()=>R(()=>Promise.resolve().then(()=>Yi),void 0,import.meta.url),children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>cu),void 0,import.meta.url),meta:{title:"Wallets"}},{path:"create",component:()=>R(()=>Promise.resolve().then(()=>$u),void 0,import.meta.url),meta:{title:"Create wallet"}},{path:"account/:index",component:()=>R(()=>Promise.resolve().then(()=>ru),void 0,import.meta.url),props:t=>({index:parseInt(t.params.index)}),meta:{title:t=>`Wallet #${t.params.index}`},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>Ou),void 0,import.meta.url),meta:{title:"Balance"}},{path:"nfts",component:()=>R(()=>Promise.resolve().then(()=>Pu),void 0,import.meta.url),meta:{title:"NFTs"}},{path:"contracts",component:()=>R(()=>Promise.resolve().then(()=>Yu),void 0,import.meta.url),meta:{title:"Contracts"}},{path:"send/:target?",component:()=>R(()=>Promise.resolve().then(()=>Rl),void 0,import.meta.url),props:t=>({target:t.params.target}),meta:{title:"Send"}},{path:"send_from/:source?",component:()=>R(()=>Promise.resolve().then(()=>Rl),void 0,import.meta.url),props:t=>({source:t.params.source}),meta:{title:"Send"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>vd),void 0,import.meta.url),meta:{title:"History"}},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>kd),void 0,import.meta.url),meta:{title:"Log"}},{path:"offer",component:()=>R(()=>Promise.resolve().then(()=>Dd),void 0,import.meta.url),meta:{title:"Offer"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>Md),void 0,import.meta.url),meta:{title:"Liquidity"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>lc),void 0,import.meta.url),meta:{title:"Plot NFTs"}},{path:"details",component:()=>R(()=>Promise.resolve().then(()=>nc),void 0,import.meta.url),meta:{title:"Info"}},{path:"options",component:()=>R(()=>Promise.resolve().then(()=>dc),void 0,import.meta.url),meta:{title:"Options"}}]}]}],xn=[{path:"/farmer",component:()=>R(()=>Promise.resolve().then(()=>fc),void 0,import.meta.url),meta:{title:"Farmer"},children:[{path:"",redirect:"/farmer/plots"},{path:"plots",component:()=>R(()=>Promise.resolve().then(()=>xc),void 0,import.meta.url),meta:{title:"Plots"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>Tc),void 0,import.meta.url),meta:{title:"PlotNFTs"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>Cc),void 0,import.meta.url),meta:{title:"Blocks"}},{path:"proofs",component:()=>R(()=>Promise.resolve().then(()=>Lc),void 0,import.meta.url),meta:{title:"Proofs"}}]}],Gl=(t,e,l)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},il=[{value:"en-US",label:"English"},{value:"id",label:"Bahasa Indonesia"},{value:"de",label:"Deutsch"},{value:"es",label:"Español"},{value:"nl",label:"Nederlands"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"uk",label:"Українська"},{value:"zh-CN",label:"简体中文"}],dt=il[0].value,kn=Object.assign({"/node_modules/quasar/lang/de.js":()=>R(()=>import("./locales/quasar/de.js-CZhuRTys.js"),[],import.meta.url),"/node_modules/quasar/lang/en-US.js":()=>R(()=>import("./locales/quasar/en-US.js-CST473Od.js"),[],import.meta.url),"/node_modules/quasar/lang/es.js":()=>R(()=>import("./locales/quasar/es.js-DWRJyQUs.js"),[],import.meta.url),"/node_modules/quasar/lang/id.js":()=>R(()=>import("./locales/quasar/id.js-B2dhsrB2.js"),[],import.meta.url),"/node_modules/quasar/lang/nl.js":()=>R(()=>import("./locales/quasar/nl.js-oLrlFdwi.js"),[],import.meta.url),"/node_modules/quasar/lang/pt.js":()=>R(()=>import("./locales/quasar/pt.js-SSfO1hmc.js"),[],import.meta.url),"/node_modules/quasar/lang/ru.js":()=>R(()=>import("./locales/quasar/ru.js-Decg_Iy9.js"),[],import.meta.url),"/node_modules/quasar/lang/uk.js":()=>R(()=>import("./locales/quasar/uk.js-CVvo68qz.js"),[],import.meta.url),"/node_modules/quasar/lang/zh-CN.js":()=>R(()=>import("./locales/quasar/zh-CN.js-DnRfOlZ3.js"),[],import.meta.url)}),wl=(t,e)=>{t.mode==="legacy"?t.global.locale=e:t.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)},Sn=async(t,e)=>{const l=Oe($n(e));try{kn[`/node_modules/quasar/lang/${l}.js`]().then(r=>{hl.set(r.default)})}catch(r){console.error(r),hl.set(yn.default)}try{const r=await Gl(Object.assign({"../locales/common.json":()=>R(()=>import("./locales/common.json-CitLrNoC.js"),[],import.meta.url),"../locales/de.json":()=>R(()=>import("./locales/de.json-DZFMEMgc.js"),[],import.meta.url),"../locales/en-US.json":()=>R(()=>import("./locales/en-US.json-CoFvze62.js"),[],import.meta.url),"../locales/es.json":()=>R(()=>import("./locales/es.json-BcfQJ0qc.js"),[],import.meta.url),"../locales/id.json":()=>R(()=>import("./locales/id.json-CeuACP36.js"),[],import.meta.url),"../locales/nl.json":()=>R(()=>import("./locales/nl.json-Bi-8Tzxt.js"),[],import.meta.url),"../locales/pt.json":()=>R(()=>import("./locales/pt.json-kipSuZeO.js"),[],import.meta.url),"../locales/ru.json":()=>R(()=>import("./locales/ru.json-Cb8Yls3y.js"),[],import.meta.url),"../locales/uk.json":()=>R(()=>import("./locales/uk.json-EfLfMENI.js"),[],import.meta.url),"../locales/zh-CN.json":()=>R(()=>import("./locales/zh-CN.json-BcF6vE_W.js"),[],import.meta.url)}),`../locales/${l}.json`,3);t.global.setLocaleMessage(l,wt({},Zt,r)),wl(t,l)}catch{t.global.setLocaleMessage(dt,wt({},Zt,Xl)),wl(t,dt)}},$n=t=>il.some(e=>e.value==Oe(t))?t:dt,Ht=t=>t&&typeof t=="object"&&!Array.isArray(t),wt=(t,...e)=>{if(!e.length)return t;const l=e.shift();if(Ht(t)&&Ht(l))for(const r in l)Ht(l[r])?(t[r]||Object.assign(t,{[r]:{}}),wt(t[r],l[r])):Object.assign(t,{[r]:l[r]});return wt(t,...e)},nt=No({globalInjection:!0,legacy:!1,locale:dt,fallbackLocale:dt,messages:{"en-US":wt({},Zt,Xl)}}),xl=t=>t==null||typeof t=="string"&&t.trim().length===0,kl=typeof window.mmx<"u",Sl=typeof window.mmx_qtgui<"u",we=nl("app",{state:()=>({isDarkTheme:Ze("isDarkTheme",!0),locale:Ze("locale",dt),_wapiBaseUrl:Ze("wapiBaseUrl",null)}),getters:{isWinGUI:()=>kl,isQtGUI:()=>Sl,isGUI:()=>kl||Sl,wapiBaseUrl:t=>typeof __WAPI_URL__<"u"?__WAPI_URL__:null}});jl.defaults.paramsSerializer=t=>{let e="";return Object.keys(t).forEach(l=>{t[l]===void 0||t[l]===null||(e+=`${l}=${encodeURIComponent(t[l])}&`)}),e.substring(0,e.length-1)};const C=jl.create();C.interceptors.request.use(t=>{if(t.url.startsWith("/wapi/")){const e=we();t.baseURL=e.wapiBaseUrl??"/wapi/",t.url=t.url.replace("/wapi/","/")}return t},t=>Promise.reject(t));const U=(...t)=>{const e=Ot(...t),l=v(()=>e.isLoading.value||e.isLoadingError.value),r=v(()=>!l.value&&e.data.value||[]),n=L(!1),i=L(null);Se([e.isError,e.data,e.error],([d,m,p],[h,w,k])=>{h&&(n.value=!0,i.value=k?.request?.response||k.message),m&&!e.isPlaceholderData.value&&(n.value=!1,i.value=null)});const c=v(()=>!e.data.value&&!e.isPending.value||n.value),u=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?i.value:e.error.value?.request?.response||e.error.value?.message),_=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?n.value:e.isError);return{...e,loading:l,rows:r,noData:c,latestError:u,isLatestError:_}},st=1e3,{t:Jl}=nt.global,qn={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},Tn={"Content-Type":"application/json"},jt=t=>{var e=t.value!=null?t.value:"null";mt.create({caption:t.restart?Jl("node_settings.restart_needed"):"",message:`Set '${t.key}' to '${e}'`,type:"positive",group:!1,classes:t.restart?"restart-needed":""})},qe=t=>{mt.create({type:"positive",group:!1,...t})},Vn=t=>{mt.create({type:"negative",group:!1,...t})},ne=t=>{const e=t.response?.data||t.message;mt.create({message:e,type:"negative"})},Xt=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},l=/[&<>"'/]/gi;return t.replace(l,r=>e[r])},Cn=(t,e,l,r)=>{const n=Xt(t),i=Xt(e),c=Xt(l);mt.create({type:"positive",group:!1,...r,message:`${n} <a class="text-primary" href="${i}">${c}</a>`,html:!0})},be=(t,e)=>{const l=pt.resolve({name:"transaction",params:{transactionId:t}});Cn(Jl("common.transaction_has_been_sent"),l.href,t,e)},Rn=t=>({...Oe(t),options:{...Oe(t).options,auto_send:!1}}),Ln=t=>t?parseFloat(t.toFixed(6)):null,On=(t,e)=>e.value?Ln(t?.exec_result?.total_fee_value):null,Xe=(t,e,l,r)=>U({queryKey:["wallet","fee",t,e,l],queryFn:({signal:n})=>r(Rn(e),n),select:n=>On(n,l),enabled:l,staleTime:0,gcTime:0}),Yl=nl("node",{state:()=>({height:null})}),Zl=t=>C.get("/wapi/node/info",{signal:t}).then(e=>e.data),ul=t=>{const e=U({queryKey:["node_info"],queryFn:({signal:n})=>Zl(n),refetchInterval:1.1*st,enabled:!0}),l=Yl(),r=G();return Se(e.data,n=>{if(!n)return;const i=n.height;if(l.height!=i){console.log(`⛰️ New height: ${i}`);const c=l.height;l.height=i,r.invalidateQueries({queryKey:["node"]},{cancelRefetch:!1}),r.invalidateQueries({queryKey:["node_log"]},{cancelRefetch:!1}),r.invalidateQueries({queryKey:["block",{height:c}]}),r.invalidateQueries({queryKey:["block",{height:i-1}]}),r.invalidateQueries({queryKey:["block",{height:i}]}),r.invalidateQueries({queryKey:["transaction"]}),r.invalidateQueries({queryKey:["wallet"]}),r.invalidateQueries({queryKey:["market"]}),r.invalidateQueries({queryKey:["swap"]}),r.invalidateQueries({queryKey:["farm","info"]},{cancelRefetch:!1}),i%3==0&&r.invalidateQueries({queryKey:["farm","blocks"]},{cancelRefetch:!1})}}),e},Fn=()=>{ul();const t=G();return J({mutationFn:()=>Zl(),onSuccess:e=>{t.setQueryData(["node_info"],e)}})},In=(t,e)=>C.get("/wapi/node/log",{params:t,signal:e}).then(l=>l.data),Pn=t=>U({queryKey:["node_log",t],queryFn:({signal:e})=>In(t,e),placeholderData:Me,refetchInterval:2*st}),An=(t,e)=>C.get("/wapi/node/graph/blocks",{params:t,signal:e}).then(l=>l.data),dl=(t,e)=>U({queryKey:["node","graph/blocks",t],queryFn:({signal:l})=>An(t,l),select:e}),{t:If}=nt.global,En=t=>C.post("/wapi/passphrase/validate",t).then(e=>e.data),Dn=()=>J({mutationFn:t=>En(t),onError:t=>{Vn({message:"Wrong passphrase!"})}}),eo=t=>C.post("/wapi/wallet/send",t).then(e=>e.data),to=()=>{const t=G();return J({mutationFn:e=>eo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},lo=t=>C.post("/wapi/wallet/execute",t).then(e=>e.data),jn=()=>{const t=G();return J({mutationFn:e=>lo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},oo=t=>C.post("/wapi/wallet/make_offer",t).then(e=>e.data),Wn=()=>{const t=G();return J({mutationFn:e=>oo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ao=t=>C.post("/wapi/wallet/offer_withdraw",t).then(e=>e.data),Mn=()=>{const t=G();return J({mutationFn:e=>ao(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},no=t=>C.post("/wapi/wallet/cancel_offer",t).then(e=>e.data),Bn=()=>{const t=G();return J({mutationFn:e=>no(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},so=t=>C.post("/wapi/wallet/offer_trade",t).then(e=>e.data),Nn=()=>{const t=G();return J({mutationFn:e=>so(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ro=t=>C.post("/wapi/wallet/accept_offer",t).then(e=>e.data),Un=()=>{const t=G();return J({mutationFn:e=>ro(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},io=t=>C.post("/wapi/wallet/swap/trade",t).then(e=>e.data),Kn=()=>{const t=G();return J({mutationFn:e=>io(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Qn=t=>C.post("/api/wallet/plotnft_create",t).then(e=>e.data),zn=()=>{const t=G();return J({mutationFn:e=>Qn(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Created new PlotNFT: "+l.name})},onError:ne})},uo=(t,e)=>Xe("send",t,e,eo),Hn=(t,e)=>Xe("execute",t,e,lo),Xn=(t,e)=>Xe("offer",t,e,oo),Gn=(t,e)=>Xe("offer_withdraw",t,e,ao),Jn=(t,e)=>Xe("cancel_offer",t,e,no),Yn=(t,e)=>Xe("offer_trade",t,e,so),Zn=(t,e)=>Xe("accept_offer",t,e,ro),es=(t,e)=>Xe("swap/trade",t,e,io),ts=t=>C.post("/wapi/wallet/swap/payout",t).then(e=>e.data),ls=()=>{const t=G();return J({mutationFn:e=>ts(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},os=t=>C.post("/wapi/wallet/swap/switch_pool",t).then(e=>e.data),as=()=>{const t=G();return J({mutationFn:e=>os(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ns=t=>C.post("/wapi/wallet/swap/add_liquid",t).then(e=>e.data),ss=()=>{const t=G();return J({mutationFn:e=>ns(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},rs=t=>C.post("/wapi/wallet/swap/rem_liquid",t).then(e=>e.data),is=()=>{const t=G();return J({mutationFn:e=>rs(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},us=t=>C.post("/wapi/wallet/swap/rem_all_liquid",t).then(e=>e.data),ds=()=>{const t=G();return J({mutationFn:e=>us(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},cs=(t,e)=>C.get("/wapi/wallet/seed",{params:t,signal:e}).then(l=>l.data),ms=()=>J({mutationFn:t=>cs(t),onError:ne}),_s=t=>C.get("/wapi/wallet/accounts",{signal:t}).then(e=>e.data),co=()=>{const t=G();return U({queryKey:["accounts"],queryFn:async({signal:e})=>{const l=await _s(e);return l?.forEach(r=>{t.setQueryData(["accounts","account",{index:r.account}],r)}),l},gcTime:1/0})},ps=(t,e)=>C.get("/wapi/wallet/account",{params:t,signal:e}).then(l=>l.data),$t=(t,e)=>{const l=G();return U({queryKey:["accounts","account",t],queryFn:({signal:n})=>ps(t,n),enabled:()=>{const i=l.getQueryCache().find({queryKey:["accounts"]});return i&&i.observers.length==0},select:e,gcTime:1/0})},fs=(t,e)=>C.get("/wapi/wallet/keys",{params:t,signal:e}).then(l=>l.data),ys=t=>U({queryKey:["wallet","keys",t],queryFn:({signal:e})=>fs(t,e)}),hs=(t,e)=>C.get("/wapi/wallet/address",{params:t,signal:e}).then(l=>l.data),cl=t=>U({queryKey:["wallet","address",t],queryFn:({signal:e})=>hs(t,e)}),bs=(t,e)=>C.get("/wapi/wallet/balance",{params:t,signal:e}).then(l=>l.data),je=(t,e,l)=>U({queryKey:["wallet","balance",t],queryFn:({signal:r})=>bs(t,r),select:r=>e?e(r):r,placeholderData:Me,enabled:l}),gs=(t,e)=>C.get("/wapi/wallet/history",{params:t,signal:e}).then(l=>l.data),vs=(t,e)=>U({queryKey:["wallet","history",t],queryFn:({signal:l})=>gs(t,l),placeholderData:Me,select:l=>l}),ws=t=>C.get("/wapi/wallet/tokens",{signal:t}).then(e=>e.data),_t=()=>U({queryKey:["walletCfg","tokens"],queryFn:({signal:t})=>ws(t)}),xs=(t,e)=>C.get("/wapi/wallet/tx_history",{params:t,signal:e}).then(l=>l.data),ks=t=>U({queryKey:["wallet","tx_history",t],queryFn:({signal:e})=>xs(t,e)}),Ss=(t,e)=>C.get("/wapi/wallet/contracts",{params:t,signal:e}).then(l=>l.data),mo=(t,e)=>U({queryKey:["wallet","contracts",t],queryFn:({signal:l})=>Ss(t,l),enabled:e??!0}),$s=(t,e)=>C.get("/wapi/plotnft",{params:t,signal:e}).then(l=>l.data),qs=t=>U({queryKey:["plotnft",t],queryFn:({signal:e})=>$s(t,e)}),Ts=(t,e)=>C.get("/wapi/wallet/offers",{params:t,signal:e}).then(l=>l.data),_o=t=>U({queryKey:["wallet","offers",t],queryFn:({signal:e})=>Ts(t,e),select:e=>e.sort((l,r)=>r.height-l.height),placeholderData:Me}),Vs=(t,e)=>C.get("/wapi/wallet/swap/liquid",{params:t,signal:e}).then(l=>l.data),Cs=t=>U({queryKey:["wallet","swap","liquid",t],queryFn:({signal:e})=>Vs(t,e)}),Rs=t=>C.get("/wapi/farm/info",{signal:t}).then(e=>e.data),qt=t=>U({queryKey:["farm","info"],queryFn:({signal:e})=>Rs(e),select:e=>t?t(e):e}),Ls=(t,e)=>C.get("/wapi/farm/blocks/summary",{params:t,signal:e}).then(l=>l.data),po=t=>U({queryKey:["farm","blocks","summary",t],queryFn:({signal:e})=>Ls(t,e)}),Os=(t,e)=>C.get("/wapi/farm/blocks",{params:t,signal:e}).then(l=>l.data),Fs=t=>U({queryKey:["farm","blocks",t],queryFn:({signal:e})=>Os(t,e)}),Is=(t,e)=>C.get("/wapi/farm/proofs",{params:t,signal:e}).then(l=>l.data),Ps=t=>U({queryKey:["farm","proofs",t],queryFn:({signal:e})=>Is(t,e)}),As=(t,e)=>C.get("/wapi/headers",{params:t,signal:e}).then(l=>l.data),Es=t=>U({queryKey:["node","headers",t],queryFn:({signal:e})=>As(t,e)}),fo=(t,e)=>C.get("/wapi/block",{params:t,signal:e}).then(l=>l.data),Ds=t=>U({queryKey:["block",t],queryFn:({signal:e})=>fo(t,e),placeholderData:Me}),js=(t,e)=>C.get("/wapi/header",{params:t,signal:e}).then(l=>l.data),Ws=()=>J({mutationFn:t=>js(t)}),$l=(t,e)=>{t.prefetchQuery({queryKey:["block",e],queryFn:({signal:l})=>fo(e,l)})},Ms=(t,e)=>C.get("/wapi/transactions",{params:t,signal:e}).then(l=>l.data),Bs=t=>U({queryKey:["node","transactions",t],queryFn:({signal:e})=>Ms(t,e)}),Ns=(t,e)=>C.get("/wapi/transaction",{params:t,signal:e}).then(l=>l.data),Us=t=>U({queryKey:["transaction",t],queryFn:({signal:e})=>Ns(t,e),select:e=>{for(const l of e.operations)delete l.solution;return e}}),yo=(t,e)=>C.get("/wapi/farmers",{params:t,signal:e}).then(l=>l.data),Ks=t=>U({queryKey:["node","farmers",t],queryFn:({signal:e})=>yo(t,e)}),Qs=(t,e)=>{t.prefetchQuery({queryKey:["node","farmers",e],queryFn:({signal:l})=>yo(e,l),staleTime:st})},zs=(t,e)=>C.get("/wapi/farmer",{params:t,signal:e}).then(l=>l.data),Hs=t=>U({queryKey:["node","farmer",t],queryFn:({signal:e})=>zs(t,e)}),Xs=(t,e)=>C.get("/wapi/farmer/blocks",{params:t,signal:e}).then(l=>l.data),Gs=t=>U({queryKey:["node","farmer","blocks",t],queryFn:({signal:e})=>Xs(t,e)}),Js=(t,e)=>C.get("/wapi/contract",{params:t,signal:e}).then(l=>l.data),Ys=t=>U({queryKey:["node","contract",t],queryFn:({signal:e})=>Js(t,e)}),Zs=(t,e)=>C.get("/wapi/address/history",{params:t,signal:e}).then(l=>l.data),er=t=>U({queryKey:["node","address","history",t],queryFn:({signal:e})=>Zs(t,e)}),tr=(t,e)=>C.get("/wapi/address",{params:t,signal:e}).then(l=>l.data),lr=(t,e)=>U({queryKey:["node","address",t],queryFn:({signal:l})=>tr(t,l),select:l=>e?e(l):l}),or=(t,e)=>C.get("/wapi/balance",{params:t,signal:e}).then(l=>l.data),ho=t=>U({queryKey:["node","balance",t],queryFn:({signal:e})=>or(t,e),select:e=>e.balances}),{t:Pf}=nt.global,ar=(t,e)=>C.get("/wapi/offers",{params:t,signal:e}).then(l=>l.data),nr=t=>U({queryKey:["market","offers",t],queryFn:({signal:e})=>ar(t,e),placeholderData:Me}),sr=(t,e)=>C.get("/wapi/trade_history",{params:t,signal:e}).then(l=>l.data),rr=t=>U({queryKey:["market","offers","trade_history",t],queryFn:({signal:e})=>sr(t,e),placeholderData:Me}),ir=(t,e)=>C.get("/wapi/offer/trade_estimate",{params:t,signal:e}).then(l=>l.data),ur=(t,e)=>U({queryKey:["market","offers","trade_estimate",t,e],queryFn:({signal:l})=>ir(t,l),enabled:e,staleTime:0,gcTime:0}),{t:Af}=nt.global,dr=(t,e)=>C.get("/wapi/swap/list",{params:t,signal:e}).then(l=>l.data),cr=t=>U({queryKey:["swap","list",t],queryFn:({signal:e})=>dr(t,e),placeholderData:Me}),mr=(t,e)=>C.get("/wapi/swap/info",{params:t,signal:e}).then(l=>l.data),Wt=t=>U({queryKey:["swap","info",t],queryFn:({signal:e})=>mr(t,e)}),_r=(t,e)=>C.get("/wapi/swap/history",{params:t,signal:e}).then(l=>l.data),pr=t=>U({queryKey:["swap","history",t],queryFn:({signal:e})=>_r(t,e)}),fr=(t,e)=>C.get("/wapi/swap/user_info",{params:t,signal:e}).then(l=>l.data),bo=(t,e)=>U({queryKey:["swap","user_info",t],queryFn:({signal:l})=>fr(t,l),placeholderData:Me,enabled:e}),yr=(t,e)=>C.get("/wapi/swap/trade_estimate",{params:t,signal:e}).then(l=>l.data),hr=(t,e)=>U({queryKey:["swap","trade_estimate",t,e],queryFn:({signal:l})=>yr(t,l),enabled:e,staleTime:0,gcTime:0}),br=t=>C.get("/wapi/config/get",{signal:t}).then(e=>e.data),gr=()=>U({queryKey:["config"],queryFn:({signal:t})=>br(t)}),vr=t=>C.post("/wapi/config/set",t).then(e=>e.data),wr=()=>{const t=G();return J({mutationFn:({key:e,value:l,tmp_only:r})=>vr({key:e,value:l,tmp_only:r}),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),l.suppressNotification||jt(l)},onError:ne})},xr=t=>C.get("/wapi/chain/info",{signal:t}).then(e=>e.data),go=()=>U({queryKey:["chain","info"],queryFn:({signal:t})=>xr(t)}),{t:Ef}=nt.global,kr=[{path:"/explore",component:()=>R(()=>Promise.resolve().then(()=>Dc),void 0,import.meta.url),meta:{title:"Explore"},children:[{path:"",redirect:"/explore/blocks"},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>To),void 0,import.meta.url),meta:{title:"Blocks",indexPage:!0}},{path:"block/hash/:hash",component:()=>R(()=>Promise.resolve().then(()=>Ll),void 0,import.meta.url),props:t=>({hash:t.params.hash}),meta:{title:t=>`Block #${t.params.hash}`,prefetcher:(t,e)=>{const l={hash:e.params.hash};$l(t,l)}}},{path:"block/height/:height",component:()=>R(()=>Promise.resolve().then(()=>Ll),void 0,import.meta.url),props:t=>({height:parseInt(t.params.height)}),meta:{title:t=>`Block #${t.params.height}`,prefetcher:(t,e)=>{const l={height:parseInt(e.params.height)};$l(t,l)}}},{path:"transactions",component:()=>R(()=>Promise.resolve().then(()=>Nc),void 0,import.meta.url),meta:{title:"Transactions",indexPage:!0}},{name:"transaction",path:"transaction/:transactionId",component:()=>R(()=>Promise.resolve().then(()=>Gc),void 0,import.meta.url),props:t=>({transactionId:t.params.transactionId}),meta:{title:t=>`Transaction #${t.params.transactionId}`}},{path:"farmers",component:()=>R(()=>Promise.resolve().then(()=>lm),void 0,import.meta.url),meta:{title:"Farmers",indexPage:!0,prefetcher:(t,e)=>{Qs(t,{limit:100})}}},{path:"farmer/:farmerKey",component:()=>R(()=>Promise.resolve().then(()=>sm),void 0,import.meta.url),props:t=>({farmerKey:t.params.farmerKey}),meta:{title:t=>`Farmer #${t.params.farmerKey}`}},{name:"address",path:"address/:address",component:()=>R(()=>Promise.resolve().then(()=>mm),void 0,import.meta.url),props:t=>({address:t.params.address}),meta:{title:t=>`Address #${t.params.address}`}}]}],Sr=[{path:"/market",component:()=>R(()=>Promise.resolve().then(()=>ym),void 0,import.meta.url),meta:{title:"Market"},children:[{path:"",redirect:"/market/offers"},{path:"offers",component:()=>R(()=>Promise.resolve().then(()=>wm),void 0,import.meta.url),meta:{title:"Offers"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>Sm),void 0,import.meta.url),meta:{title:"History"}}]}],$r=[{path:"/swap",component:()=>R(()=>Promise.resolve().then(()=>Tm),void 0,import.meta.url),meta:{title:"Swap"},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>Fm),void 0,import.meta.url)},{path:":address",component:()=>R(()=>Promise.resolve().then(()=>Mm),void 0,import.meta.url),props:t=>({address:t.params.address}),children:[{path:"",redirect:{name:"trade"}},{name:"trade",path:"trade",component:()=>R(()=>Promise.resolve().then(()=>t_),void 0,import.meta.url),meta:{title:"Trade"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>o_),void 0,import.meta.url),meta:{title:"History"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>__),void 0,import.meta.url),meta:{title:"Liquid"}},{path:"pool",component:()=>R(()=>Promise.resolve().then(()=>y_),void 0,import.meta.url),meta:{title:"Pool"}}]}]}],qr=[{path:"/:catchAll(.*)*",component:()=>R(()=>Promise.resolve().then(()=>v_),void 0,import.meta.url),meta:{requiresAuth:!1,title:"Page not found"}}],Tr=[...vn,...wn,...xn,...kr,...Sr,...$r,...qr,{path:"/",redirect:"/node"},{path:"/login",name:"login",component:()=>R(()=>Promise.resolve().then(()=>C_),void 0,import.meta.url),meta:{title:"Login",layout:!1,requiresAuth:!1}},{path:"/settings",component:()=>R(()=>Promise.resolve().then(()=>J_),void 0,import.meta.url),meta:{title:"Settings"}}];let vo;vo=Tr;const Vr=vo,Cr=async t=>{if(t.meta.layout===!1){t.meta.layoutComponent="div";return}const e=t.meta.layout??"default",l=await Gl(Object.assign({"../../layouts/default.vue":()=>R(()=>Promise.resolve().then(()=>bp),void 0,import.meta.url)}),`../../layouts/${e}.vue`,4);t.meta.layoutComponent=l.default},Rr=async t=>{var l="MMX Node";t.matched.forEach(r=>{const n=r.meta.title;n&&(n instanceof Function?l+=` — ${n(t)}`:l+=` — ${n}`)}),Uo(l)},ql={read:t=>t!=null?JSON.parse(t):null,write:t=>JSON.stringify(t)},Te=nl("session",{state:()=>({isLoggedIn:Ze("isLoggedIn",!1),credentials:Ze("credentials",null,{serializer:ql}),autoLogin:Ze("autoLogin",!1),activeWalletIndex:Ze("activeWalletIndex",null,{serializer:ql}),market:{menu:{bid:null,ask:null}},swap:{menu:{token:null,currency:null}}}),actions:{doLogin(t){this.autoLogin&&(this.credentials=t),console.log("login"),this.isLoggedIn=!0,this.router.currentRoute.value.query?.redirect?this.router.replace(this.router.currentRoute.value.query.redirect):this.router.replace("/")},doLogout(t){console.log("logout"),t&&(this.credentials=null,this.autoLogin=!1),this.isLoggedIn=!1,!we().isGUI&&(!t&&this.router.currentRoute.value.path!="/login"?this.router.push({path:"/login",query:{redirect:this.router.currentRoute.value.fullPath}}):this.router.push("/login"),this.queryClient.clear(),wa()._s.forEach(l=>l.$reset()))}}}),Lr=async(t,e)=>{const l=we(),r=Te();if(t.matched.some(i=>i.meta.requiresAuth||!Object.hasOwn(i.meta,"requiresAuth"))&&!r.isLoggedIn&&!l.isGUI)return{path:"/login",query:{redirect:t.fullPath}};if(t.name==="login"&&r.isLoggedIn&&!l.isGUI)return{path:"/"}},pt=Ko({history:Qo("./"),routes:Vr});pt.beforeEach(Cr);pt.afterEach(Rr);pt.beforeEach(Lr);const wo=xa();wo.use(({store:t})=>{t.router=bl(pt),t.queryClient=bl(G())});const Or=new zo({defaultOptions:{queries:{retry:!0,networkMode:"always"},mutations:{networkMode:"always"}}}),Fr={queryClient:Or};Wl.registerLanguage("mmx",ka);Wl.registerLanguage("json",Sa);function Ir(t){t.use(Go,hn),t.use(pt),t.use(wo),t.use(nt),t.use(Ho,Fr),t.use(Xo)}const Pr=t=>C.get("./guiBuildInfo.json",{signal:t,headers:qn}).then(e=>e.data),Ar=()=>Ot({queryKey:["guiBuildInfo"],queryFn:({signal:t})=>Pr(t),refetchInterval:5*st}),Er=()=>{const t="185C074F255752",e=L(!1),{data:l}=Ar();_e(()=>{const c=l.value?.id;e.value=c&&t!=c});const r=et(),n=xt(),i=L(!1);return Se([e,()=>n.path],()=>{e.value===!0&&i.value===!1&&(i.value=!0,r.dialog({type:"warning",title:"An update is available",message:"Please refresh the page to apply the update",persistent:!0,cancel:!0,ok:{push:!0,color:"negative",label:"Refresh",tabIndex:0}}).onOk(()=>{window.location.reload()}).onDismiss(()=>{i.value=!1}))}),{updated:e}},Dr={__name:"AppLayout",setup(t){const e=xt();return Er(),(l,r)=>(f(),b(it(o(e).meta.layoutComponent||"div"),null,{default:s(()=>[kt(l.$slots,"default")]),_:3}))}},Pe={__name:"TrRouterView",props:{show:{type:Boolean,default:!0,required:!1}},setup(t){return(e,l)=>{const r=le("RouterView");return f(),b(r,null,{default:s(({Component:n})=>[a(Jo,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn"},{default:s(()=>[t.show?(f(),b(it(n),{key:0})):E("",!0)]),_:2},1024)]),_:1})}}};let Tl;const jr=()=>{const t=et(),e=we();_e(()=>t.dark.set(e.isDarkTheme)),window.mmx?.theme_dark!==void 0&&!Tl&&(Tl=setInterval(()=>{e.isDarkTheme=window.mmx.theme_dark},500))};let Vl;const Wr=()=>{const t=we(),e=async l=>(Sn(nt,l),Yo());_e(()=>e(t.locale)),window.mmx?.locale!==void 0&&!Vl&&(Vl=setInterval(()=>{t.locale=window.mmx.locale},500))},Mr={__name:"App",setup(t){return jr(),Wr(),(e,l)=>{const r=Pe,n=Dr;return f(),x(D,null,[a(n,null,{default:s(()=>[a(r)]),_:1}),a(o(Zo))],64)}}},xo=ea(Mr);Ir(xo);xo.mount("#app");const Br={key:0},Nr={key:0},Ur={key:1},Kr={key:0},Cl="row justify-center",ko={__name:"InfoTile",props:{tile:{type:Object,default:null},rows:{type:[Object],default:null},loading:Boolean},setup(t){const e=t,l=v(()=>{var i;e.tile.field instanceof Function?i=e.tile.field(e.rows):i=e.rows[e.tile.field];const c=e.tile.format;return c?c(i):i}),r=`${Cl} q-pb-sm q-pt-none text-subtitle1`,n=`${Cl} q-pt-sm q-pb-none text-h6`;return(i,c)=>(f(),b(P,{flat:"",bordered:""},{default:s(()=>[a(B,{class:se(n)},{default:s(()=>[e.loading?(f(),b(Ft,{key:1,square:"",width:"50%"})):(f(),x("div",Br,[o(l)!=null?(f(),x("div",Nr,g(o(l)),1)):(f(),x("div",Ur," "))]))]),_:1}),a(B,{class:se(r)},{default:s(()=>[e.tile.label!=null?(f(),x("div",Kr,g(e.tile.label),1)):E("",!0),c[0]||(c[0]=y("div",{else:""}," ",-1))]),_:1})]),_:1}))}},Qr={class:"row q-col-gutter-xs"},zr={__name:"NodeInfo",setup(t){const{rows:e,loading:l}=ul(),{t:r}=W(),n=v(()=>[{field:"is_synced",label:r("node_info.synced"),format:i=>r(i?"common.yes":"common.no")},{field:"height",label:r("node_info.height")},{field:"total_space",label:r("node_info.netspace"),format:i=>`${(i/Math.pow(1e3,2)).toFixed(3)} PB`},{field:"vdf_speed",label:r("node_info.vdf_speed"),format:i=>`${i.toFixed(3)} MH/s`},{field:"address_count",label:r("node_info.no_addresses")},{field:"block_size",label:r("node_info.block_size")},{field:"average_txfee",label:"Avg. TX Fee",format:i=>i.value>1?i.value.toPrecision(6):i.value},{field:"block_reward",label:r("node_info.block_reward"),format:i=>`${i.value.toFixed(3)} MMX`}]);return(i,c)=>{const u=ko;return f(),x("div",null,[y("div",Qr,[(f(!0),x(D,null,re(o(n),_=>(f(),x("div",{key:_.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(u,{tile:_,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},ct={timelord:{name:"timelord",restart:!0,default:!1},open_port:{name:"Router.open_port",restart:!0,default:!1},allow_remote:{name:"allow_remote",restart:!0,default:!1},cuda_enable:{name:"cuda.enable",restart:!0,default:!1},opencl_platform:{name:"opencl.platform",restart:!0,default:null,suppressNotification:!0},opencl_device:{name:"Node.opencl_device",restart:!0,suppressNotification:!0},opencl_device_name:{name:"Node.opencl_device_name",restart:!0},opencl_device_select:{name:"Node.opencl_device_select",restart:!0,default:-1,tmp_only:!0,suppressNotification:!0},opencl_device_list:{default:[]},opencl_device_list_relidx:{default:[]},farmer_reward_addr:{name:"Farmer.reward_addr",restart:!0},timelord_reward_addr:{name:"TimeLord.reward_addr",restart:!0},harv_num_threads:{name:"Harvester.num_threads",restart:!0},reload_interval:{name:"Harvester.reload_interval",restart:!0},recursive_search:{name:"Harvester.recursive_search",restart:!0,default:!1},plot_dirs:{name:"Harvester.plot_dirs",restart:!1},version:{name:"build.version"},commit:{name:"build.commit"}},Hr=()=>{const t={};return Object.keys(ct).forEach(e=>{const{default:l}=ct[e];t[e]=l??null}),t},Xr=Hr(),Gr=(t,e)=>{if(e){Object.keys(ct).forEach(l=>{const{name:r,default:n}=ct[l];r!==void 0&&(t[l]=e?.[r]??n)});{t.opencl_device_list=[],t.opencl_device_list_relidx=[],t.opencl_device_list.push({label:"None",value:-1});let l=e["Node.opencl_device_list"];if(l)for(const[r,n]of l.entries())t.opencl_device_list.push({label:n[0],value:r}),t.opencl_device_list_relidx.push({name:n[0],index:n[1]})}}};function ve(){const t=wr(),{data:e,isPending:l,isError:r}=gr(),n=v(()=>l.value||r.value),i=I({...Xr}),c=[];_e(()=>{Object.keys(c).forEach(m=>c[m]()),Gr(i,e.value),Object.keys(i).forEach(m=>{c[m]=Se(()=>i[m],(p,h)=>{const w=ct[m].name;t.mutate({...ct[m],key:w,value:p})})})});const u=v(()=>{if(!e.value)return!1;const m=e.value?.wallet;return!!(m||m==null)}),_=v(()=>{if(!e.value)return!1;const m=e.value?.farmer;return!!(m||m==null)}),d=v(()=>{if(!e.value)return!1;const m=e.value?.local_node;return!!(m||m==null)});return{data:i,loading:n,isWallet:u,isFarmer:_,isLocalNode:d}}const Jr={__name:"NodeMenu",setup(t){const{isLocalNode:e}=ve(),{t:l}=W(),r=v(()=>[{to:"/node/log",label:l("node_menu.log")},{to:"/node/peers",label:l("node_menu.peers"),visible:e.value},{to:"/node/blocks",label:l("node_menu.blocks")},{to:"/node/netspace",label:l("node_menu.netspace")},{to:"/node/vdf_speed",label:l("node_menu.vdf_speed")},{to:"/node/reward",label:l("node_menu.block_reward")}]);return(n,i)=>(f(),b(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(r),(c,u)=>(f(),x(D,{key:u},[c.visible??!0?(f(),b(Qe,{key:0,to:c.to,exact:c.exact??!1,label:c.label,icon:c.icon},null,8,["to","exact","label","icon"])):E("",!0)],64))),128))]),_:1}))}},Yr={class:"row q-col-gutter-xs"},So={__name:"FarmerInfo",setup(t){const{rows:e,loading:l}=qt(),{rows:r}=po({since:1e4}),{t:n}=W(),i=v(()=>[{field:"total_bytes",label:n("farmer_info.physical_size"),format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TB`},{field:"total_bytes_effective",label:"Effective Size",format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TBe`}]),c=v(()=>[{field:"num_blocks",label:"No. Blocks"},{field:"total_rewards_value",label:"Total Rewards",format:u=>`${(u??0).toFixed(3)} MMX`}]);return(u,_)=>{const d=ko;return f(),x("div",null,[y("div",Yr,[(f(!0),x(D,null,re(o(i),m=>(f(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(d,{tile:m,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128)),(f(!0),x(D,null,re(o(c),m=>(f(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(d,{tile:m,rows:o(r),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},Zr={class:"q-gutter-y-sm"},ei={class:"q-col-gutter-xs"},ti={__name:"index",setup(t){const{isFarmer:e}=ve();return(l,r)=>{const n=Pe;return f(),b(lt,{padding:""},{default:s(()=>[y("div",Zr,[y("div",ei,[a(o(zr)),o(e)?(f(),b(o(So),{key:0})):E("",!0)]),a(P,{flat:""},{default:s(()=>[a(o(Jr)),a(n)]),_:1})])]),_:1})}}},li=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"})),de={__name:"TableBodySkeleton",props:{props:{type:Object,required:!0},rowCount:{type:Number,default:10},loading:Boolean},setup(t){const e=t,l=r=>r instanceof Function?"":r;return(r,n)=>(f(!0),x(D,null,re(e.rowCount,i=>(f(),x("tr",{key:i},[(f(!0),x(D,null,re(e.props.cols,c=>(f(),x("td",{key:c,class:se(l(c.classes))},[a(Ft,{key:"text"})],2))),128))]))),128))}},fe=(t,e)=>{const l=t.__vccOpts||t;for(const[r,n]of e)l[r]=n;return l},oi={key:0,class:"flex"},ai={style:{"font-size":"0px"}},ni=["set"],si={key:0,style:{color:"darkcyan"}},ri={__name:"LogIndex",setup(t){const e=/(?<=\s|^)(\d+(?:\.\d+)?)(?=,|\s|$)/g,{t:l}=W(),r=we(),n=w=>{const k=w.row.level;if(k==1)return"error";if(k==2)return"warning"},i=v(()=>[{label:l("node_log_table.time"),field:"time",align:"left",headerStyle:"width: 6%",format:w=>new Date(w/1e3).toLocaleTimeString()},{label:l("node_log_table.module"),field:"module",align:"right",headerStyle:"width: 8%"},{name:"message",label:l("node_log_table.message"),field:"message",align:"left"}]),c=v(()=>[{value:null,label:l("node_log.terminal")},{value:"Node",label:l("node_log.node")},{value:"Router",label:l("node_log.router")},{value:"Wallet",label:l("node_log.wallet")},{value:"Farmer",label:l("node_log.farmer")},{value:"Harvester",label:l("node_log.harvester")},{value:"TimeLord",label:l("node_log.timelord")}]),u=L(100),_=L(3),d=L(null),{rows:m,loading:p}=Pn(I({limit:u,level:_,module:d})),h=v(()=>Array.isArray(m.value)?m.value.filter(w=>!r.isWinGUI||w.module!="HttpServer"):[]);return(w,k)=>{const T=de;return f(),b(te,{rows:o(h),columns:o(i),loading:o(p),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",dense:""},ue({top:s(()=>[a(ta,{modelValue:o(d),"onUpdate:modelValue":k[0]||(k[0]=S=>z(d)?d.value=S:null),options:o(c),"toggle-color":"primary",color:"grey-6",dense:"",flat:""},null,8,["modelValue","options"])]),"body-cell":s(S=>[a(F,{props:S,class:se(n(S))},{default:s(()=>[S.col.name=="message"?(f(),x(D,{key:0},[S.value.includes("------------")?(f(),x("span",oi,[y("span",ai,g(S.value),1),a(el,{color:"orange",style:{"flex-grow":"1"},class:"q-mr-md"})])):(f(!0),x(D,{key:1},re(S.value.split(e),(V,$)=>(f(),x("span",{key:$,set:w.m=S.value.match(e)},[w.m&&w.m.includes(V)?(f(),x("span",si,g(V),1)):(f(),x(D,{key:1},[q(g(V),1)],64))],8,ni))),128))],64)):(f(),x(D,{key:1},[q(g(S.value),1)],64))]),_:2},1032,["props","class"])]),_:2},[o(p)?{name:"bottom-row",fn:s(S=>[a(T,{props:S,"row-count":o(u)},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},ii=fe(ri,[["__scopeId","data-v-f6314779"]]),ui=Object.freeze(Object.defineProperty({__proto__:null,default:ii},Symbol.toStringTag,{value:"Module"})),$o=t=>C.get("/api/router/get_peer_info",{signal:t}).then(e=>e.data),di=()=>U({queryKey:["peers"],queryFn:({signal:t})=>$o(t),select:t=>t.peers,refetchInterval:5.1*st}),ci=()=>{const t=G();return J({mutationFn:()=>$o(),onSuccess:e=>{t.setQueryData(["peers"],e)}})},mi=t=>C.post("/api/router/kick_peer",{address:t}).then(e=>e.data),_i=()=>{const t=G();return J({mutationFn:e=>mi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["peers"]}),qe({message:"Peer kicked: "+l})}})},pi=t=>C.post("/api/node/revert_sync",t).then(e=>e.data),fi=()=>{const t=G();return J({mutationFn:e=>pi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["node"]}),t.invalidateQueries({queryKey:["config"]}),jt({key:"Node.revert_sync",value:l.height,restart:!1})}})},yi=t=>C.post("/api/harvester/add_plot_dir",{path:t}).then(e=>e.data),hi=()=>{const t=G();return J({mutationFn:e=>yi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),jt({key:"Harvester.plot_dirs",value:"+ "+l,restart:!1})},onError:ne})},bi=t=>C.post("/api/harvester/rem_plot_dir",{path:t}).then(e=>e.data),gi=()=>{const t=G();return J({mutationFn:e=>bi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),jt({key:"Harvester.plot_dirs",value:"- "+l,restart:!1})},onError:ne})},vi=t=>C.post("/api/wallet/add_token",{address:t}).then(e=>e.data),wi=()=>{const t=G();return J({mutationFn:e=>vi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Added token to whitelist: "+l})},onError:ne})},xi=t=>C.post("/api/wallet/rem_token",{address:t}).then(e=>e.data),ki=()=>{const t=G();return J({mutationFn:e=>xi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Removed token from whitelist: "+l})},onError:ne})},Si=()=>C.post("/api/harvester/reload").then(t=>t.data),$i=()=>{const t=G();return J({mutationFn:()=>Si(),onSuccess:()=>{t.invalidateQueries({queryKey:["farm"]}),qe({message:"Plots reloaded"})}})},qi=t=>C.post("/api/wallet/create_wallet",t).then(e=>e.data),Ti=()=>{const t=G();return J({mutationFn:e=>qi(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet created"})},onError:ne})},Vi=t=>C.get("/api/wallet/remove_account",{params:t}).then(e=>e.data),Ci=()=>{const t=G();return J({mutationFn:e=>Vi(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet removed"})},onError:ne})},Ri=t=>C.post("/api/wallet/reset_cache",{index:t}).then(e=>e.data),Li=()=>J({mutationFn:t=>Ri(t),onSuccess:()=>{qe({message:"Cache reset successfully"})},onError:ne}),Oi=t=>C.post("/api/wallet/set_address_count",t).then(e=>e.data),Fi=()=>{const t=G();return J({mutationFn:e=>Oi(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Updated successfully"})},onError:ne})},Ii=(t,e)=>C.get("/api/wallet/is_locked",{params:t,signal:e}).then(l=>l.data),Pi=t=>({queryKey:["wallet","is_locked",t],queryFn:({signal:e})=>Ii(t,e)}),Ai=(t,e)=>U({...Pi(t),enabled:e}),Ei=t=>C.post("/api/wallet/lock",t).then(e=>e.data),Di=t=>{const e=G();return J({mutationFn:()=>Ei(t),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} locked`})},onError:ne})},ji=t=>C.post("/api/wallet/unlock",t).then(e=>e.data),Wi=t=>{const e=G();return J({mutationFn:l=>ji({...t,passphrase:l}),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} unlocked`})},onError:ne})},Mi={__name:"PeersIndex",setup(t){const{t:e}=W(),l=v(()=>[{label:e("node_peers.ip"),field:"address",headerStyle:"width: 10%"},{label:e("node_peers.height"),field:"height",headerStyle:"width: 7%"},{label:e("node_peers.type"),field:"type",headerStyle:"width: 10%"},{label:e("node_peers.version"),field:"version",headerStyle:"width: 5%"},{name:"received",label:e("node_peers.received"),field:"bytes_recv",format:u=>(u/1024/1024).toFixed(1)},{name:"send",label:e("node_peers.send"),field:"bytes_send",format:u=>(u/1024/1024).toFixed(1)},{name:"ping",label:e("node_peers.ping"),field:"ping_ms"},{name:"duration",label:e("node_peers.duration"),field:"connect_time_ms",format:u=>(u/1e3/60).toFixed()},{label:e("node_peers.connection"),field:"is_outbound",format:u=>e(u?"node_peers.outbound":"node_peers.inbound")},{name:"action",label:"Action",field:"action",align:"right"}]),{rows:r,loading:n}=di(),i=_i(),c=u=>{i.mutate(u)};return(u,_)=>{const d=de;return f(),b(te,{rows:o(r),columns:o(l),loading:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-received":s(m=>[a(F,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[0]||(_[0]=q(" MB "))]),_:2},1032,["props"])]),"body-cell-send":s(m=>[a(F,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[1]||(_[1]=q(" MB "))]),_:2},1032,["props"])]),"body-cell-ping":s(m=>[a(F,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[2]||(_[2]=q(" ms "))]),_:2},1032,["props"])]),"body-cell-duration":s(m=>[a(F,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[3]||(_[3]=q(" min "))]),_:2},1032,["props"])]),"body-cell-action":s(m=>[a(F,{props:m},{default:s(()=>[a(j,{label:u.$t("node_peers.kick"),outline:"",color:"secondary",onClick:p=>c(m.row.address)},null,8,["label","onClick"])]),_:2},1032,["props"])]),_:2},[o(n)?{name:"bottom-row",fn:s(m=>[a(d,{props:m,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Bi=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),Mt=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(64-e)),Be=t=>{const e=t.col.xclasses,l=t.value;return e instanceof Function?e(l):e},qo={__name:"BlockTable",props:{rows:{type:Object,required:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("explore_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"VDF",field:"vdf_count",format:n=>`+${n}`,headerStyle:"width: 5%"},{label:l("explore_blocks.tx"),field:"tx_count",headerStyle:"width: 5%"},{label:l("explore_blocks.k"),field:n=>n.ksize,format:n=>`k${n}`,headerStyle:"width: 5%"},{label:l("explore_blocks.score"),field:n=>n.score,headerStyle:"width: 7%"},{label:l("explore_blocks.reward"),field:n=>n.reward_amount.value,format:n=>n.toFixed(3),xclasses:"main-currency",headerStyle:"width: 12%"},{label:"TX Fees",field:n=>n.tx_count?n.tx_fees.value:null,format:n=>n?n.toFixed(3):"",xclasses:n=>n&&"main-currency",headerStyle:"width: 12%"},{label:l("explore_blocks.size"),field:"static_cost_ratio",format:n=>(n*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{label:l("explore_blocks.cost"),field:"total_cost_ratio",format:n=>(n*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{name:"hash",label:l("explore_blocks.hash"),field:"hash",align:"left"}]);return(n,i)=>{const c=de,u=le("RouterLink");return f(),b(te,{rows:t.rows,columns:o(r),loading:t.loading,pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(_=>[a(F,{props:_},{default:s(()=>[a(u,{to:`/explore/block/height/${_.value}`,class:"text-primary"},{default:s(()=>[q(g(_.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-hash":s(_=>[a(F,{props:_},{default:s(()=>[a(u,{to:`/explore/block/hash/${_.value}`,class:"text-primary mono"},{default:s(()=>[q(g(("getShortHash"in n?n.getShortHash:o(Mt))(_.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(_=>[a(F,{props:_},{default:s(()=>[y("div",{class:se(("getXClasses"in n?n.getXClasses:o(Be))(_))},g(_.value),3)]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:s(_=>[a(c,{props:_,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Ni={__name:"BlocksIndex",props:{limit:{type:Number,default:20}},setup(t){const e=t,{rows:l,loading:r}=Es(e);return(n,i)=>{const c=qo;return f(),b(P,{flat:""},{default:s(()=>[a(c,{rows:o(l),loading:o(r)},null,8,["rows","loading"])]),_:1})}}},To=Object.freeze(Object.defineProperty({__proto__:null,default:Ni},Symbol.toStringTag,{value:"Module"})),Ui={__name:"WChart",props:{loading:{type:Boolean,default:!1},option:{type:Object,default:null}},setup(t){return(e,l)=>t.loading?(f(),b(Ft,{key:1,square:"",class:"chart"})):(f(),b(o(sn),{key:0,option:t.option,autoresize:"",class:"chart"},null,8,["option"]))}},ml=fe(Ui,[["__scopeId","data-v-85d4d25c"]]);rn([un,dn,cn,mn,_n]);const Rt=()=>I({title:{left:"center",top:"10px",textStyle:{color:"#1976D2"}},textStyle:{fontFamily:"Roboto Mono Variable",fontWeight:"normal"},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{precision:0}}},xAxis:{type:"value",min:t=>t.min,max:t=>t.max,axisLabel:{showMinLabel:!1,showMaxLabel:!1},allowDecimals:!1},yAxis:{type:"value",axisLabel:{showMinLabel:!1,showMaxLabel:!1},min:t=>Math.max(Math.floor(t.min)-1,0),max:t=>Math.ceil(t.max)+1},grid:{left:"10%",top:"10%",right:"10%",bottom:"10%"},series:[{type:"line",lineStyle:{width:2},showSymbol:!1}]}),Ki={__name:"NetspaceChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=u=>{var _=[];for(const d of u)_.push([d.height,d.netspace]);return _},{data:n,loading:i}=dl(e,r),c=Rt();return c.title.text=l("netspace_graph.title",["PB"]),c.series[0].data=n,(u,_)=>{const d=ml;return f(),b(d,{loading:o(i),option:o(c)},null,8,["loading","option"])}}},Qi=Object.freeze(Object.defineProperty({__proto__:null,default:Ki},Symbol.toStringTag,{value:"Module"})),zi={__name:"VdfSpeedChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=u=>{var _=[];for(const d of u)_.push([d.height,d.vdf_speed]);return _},{data:n,loading:i}=dl(e,r),c=Rt();return c.title.text=l("vdf_speed_graph.title",["MH/s"]),c.series[0].data=n,(u,_)=>{const d=ml;return f(),b(d,{loading:o(i),option:o(c)},null,8,["loading","option"])}}},Hi=Object.freeze(Object.defineProperty({__proto__:null,default:zi},Symbol.toStringTag,{value:"Module"})),Xi={__name:"RewardChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=_=>{var d={reward:[],tx_fees:[]};for(const m of _)d.reward.push([m.height,m.reward]),d.tx_fees.push([m.height,m.tx_fees]);return d},{data:n,loading:i}=dl(e,r),c=Rt();c.title.text=l("block_reward_graph.title",["MMX"]),c.series[0].data=A(()=>n.value.reward);const u=Rt();return u.title.text=l("tx_fees_graph.title",["MMX"]),u.series[0].data=A(()=>n.value.tx_fees),(_,d)=>{const m=ml;return f(),x("div",null,[a(m,{loading:o(i),option:o(c)},null,8,["loading","option"]),a(m,{loading:o(i),option:o(u)},null,8,["loading","option"])])}}},Gi=Object.freeze(Object.defineProperty({__proto__:null,default:Xi},Symbol.toStringTag,{value:"Module"})),Ji={__name:"index",setup(t){return(e,l)=>{const r=Pe;return f(),b(lt,{padding:""},{default:s(()=>[a(r)]),_:1})}}},Yi=Object.freeze(Object.defineProperty({__proto__:null,default:Ji},Symbol.toStringTag,{value:"Module"})),Zi={class:"text-h5 q-mt-sm"},Tt={__name:"EmptyState",props:{icon:{type:String,default:null,required:!1},title:{type:String,default:null,required:!1}},setup(t){const e=t;return(l,r)=>(f(),b(P,{flat:""},{default:s(()=>[a(B,{class:"text-center"},{default:s(()=>[a($e,{name:e.icon,size:"xl"},null,8,["name"]),y("div",Zi,g(t.title),1)]),_:1})]),_:1}))}},eu=new Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:12}),vt=t=>eu.format(t),tu={class:"row vertical-middle justify-between"},lu={class:"self-center"},Bt={__name:"AccountBalanceTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("account_balance.balance"),field:"total",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("account_balance.reserved"),field:"reserved",headerStyle:"width: 7%"},{label:l("account_balance.spendable"),field:"spendable",format:c=>vt(c),style:"font-weight: bold;",headerStyle:"width: 7%"},{label:l("account_balance.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("account_balance.contract"),field:"contract",align:"left"}]),{rows:n,loading:i}=je(I({index:A(()=>e.index)}),c=>c.balances);return(c,u)=>{const _=le("RouterLink");return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"header-cell-contract":s(d=>[a(la,{props:d},{default:s(()=>[y("div",tu,[y("span",lu,g(d.col.label),1)])]),_:2},1032,["props"])]),"body-cell-contract":s(d=>[a(F,{props:d},{default:s(()=>[d.row.is_native?E("",!0):(f(),b(_,{key:0,to:`/explore/address/${d.value}`,class:"text-primary mono"},{default:s(()=>[q(g(d.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])}}},ou={__name:"MChip",props:{copy:{type:Boolean,default:!1}},setup(t){const e=oa(),l=v(()=>e.default?e.default()[0].children:"");return(r,n)=>(f(),b(Il,{square:""},{default:s(()=>[kt(r.$slots,"default",{},void 0,!0),t.copy&&o(l)?(f(),b(o(tl),{key:0},{default:s(({copy:i,copied:c})=>[a(j,{"icon-right":o(sl),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:u=>i(o(l))},{default:s(()=>[a(ze,{"model-value":c===!0,"no-parent-event":""},{default:s(()=>n[0]||(n[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:1})):E("",!0)]),_:3}))}},Ne=fe(ou,[["__scopeId","data-v-dfe8b02d"]]),xe=t=>{G();const{data:e}=$t(t),l=v(()=>e.value?.with_passphrase?e.value.with_passphrase:!1),{data:r}=Ai(t,l),n=v(()=>l.value?r.value??!0:!1),i=async()=>{n.value?w():await d()},c=Wi(t),u=async k=>{await c.mutateAsync(k)},_=Di(t),d=async()=>{await _.mutateAsync()},m=Pl(),p=()=>new Promise((k,T)=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>wp),void 0,import.meta.url))}).onOk(async({passphrase:S})=>{k(S)}).onCancel(()=>{T(new Error("Prompt rejected!"))})}),h=async()=>{if(n.value)return await p()},w=async()=>{if(n.value){const k=await h();await u(k)}};return{isLocked:n,handleToggleLock:i,promptPassphrase:h}},au={__name:"AccountHeader",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=$t(e),{isLocked:r,handleToggleLock:n}=xe(e);return(i,c)=>{const u=Ne;return f(),x("div",null,[a(u,null,{default:s(()=>[q(g(i.$t("account_header.wallet"))+" #"+g(t.index),1)]),_:1}),o(l).address?(f(),b(u,{key:0,copy:""},{default:s(()=>[q(g(o(l).address),1)]),_:1})):E("",!0),o(l).name?(f(),b(u,{key:1},{default:s(()=>[q(g(o(l).name),1)]),_:1})):E("",!0),o(l).with_passphrase?(f(),b(j,{key:2,icon:o(r)?o(Ml):o(Bl),size:"sm",round:"",class:"q-my-auto",onClick:o(n)},null,8,["icon","onClick"])):E("",!0)])}}},nu={__name:"AccountMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{to:`/wallet/account/${e.index}`,exact:!0,label:l("account_menu.balance")},{to:`/wallet/account/${e.index}/contracts`,label:l("account_menu.contracts")},{to:`/wallet/account/${e.index}/send`,label:l("account_menu.send")},{to:`/wallet/account/${e.index}/history`,label:l("account_menu.history")},{to:`/wallet/account/${e.index}/log`,label:l("account_menu.log")},{to:`/wallet/account/${e.index}/offer`,label:l("account_menu.offer"),badge:i.value},{to:`/wallet/account/${e.index}/liquid`,label:l("account_menu.liquidity")},{to:`/wallet/account/${e.index}/plotnfts`,label:"PlotNFTs"},{to:`/wallet/account/${e.index}/details`,label:l("account_menu.info")},{to:`/wallet/account/${e.index}/options`,icon:Nl}]),{rows:n}=_o(I({index:A(()=>e.index),state:!0})),i=v(()=>n.value.reduce((c,u)=>(u.ask_balance>0?1:0)+c,0));return(c,u)=>(f(),b(P,{flat:""},{default:s(()=>[a(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(r),(_,d)=>(f(),b(Qe,{key:d,to:_.to,exact:_.exact??!1,label:_.label,icon:_.icon},{default:s(()=>[_.badge?(f(),b(aa,{key:0,color:"positive",floating:"",transparent:"",rounded:""},{default:s(()=>[q(g(_.badge),1)]),_:2},1024)):E("",!0)]),_:2},1032,["to","exact","label","icon"]))),128))]),_:1})]),_:1}))}},su={key:0},Vo={__name:"index",props:{index:{type:Number,required:!0},useRouterView:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{noData:l}=$t(I({index:e.index})),r=Te();return e.useRouterView&&(r.activeWalletIndex=e.index),(n,i)=>{const c=Bt,u=Pe,_=Tt;return o(l)?(f(),b(_,{key:1,title:"No such wallet",icon:o($a)},null,8,["icon"])):(f(),x("div",su,[a(o(au),{index:t.index},null,8,["index"]),a(o(nu),{index:t.index},null,8,["index"]),t.useRouterView?E("",!0):(f(),b(c,{key:0,index:t.index,class:"q-mt-sm"},null,8,["index"])),a(u,{index:t.index,class:"q-mt-sm"},null,8,["index"])]))}}},ru=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),iu={class:"q-gutter-y-md"},uu={class:"row justify-end"},du={__name:"AccountIndex",setup(t){const{rows:e,loading:l}=co();return(r,n)=>(f(),x("div",null,[o(l)?(f(),b(ll,{key:0,query:"",class:"absolute-top"})):E("",!0),y("div",iu,[(f(!0),x(D,null,re(o(e),(i,c)=>(f(),b(o(Vo),{key:c,index:i.account,"use-router-view":!1},null,8,["index"]))),128)),y("div",uu,[a(j,{to:"/wallet/create",icon:o(Ul),label:r.$t("wallet_summary.new_wallet"),size:"md",outline:"",rounded:"",color:"primary"},null,8,["icon","label"])])])]))}},cu=Object.freeze(Object.defineProperty({__proto__:null,default:du},Symbol.toStringTag,{value:"Module"})),mu=t=>{try{if(pn.decode(t).words.length!=52)return!1}catch{return!1}return!0},Y={number:t=>!t||/^\d+$/.test(t)||"Invalid number",address:t=>!t||mu(t)||"Invalid address",required:t=>!xl(t)||"Field is required",amount:t=>xl(t)||typeof t=="number"&&t>0||"Invalid amount",memo:t=>t&&t.length>64?"Maximum length is 64":!0},_u={__name:"SeedWord",props:It({wordList:{type:Array,required:!0}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,r=L(l.wordList),n=(u,_,d)=>{_(()=>{const m=u.toLowerCase();r.value=l.wordList.filter(p=>p.toLowerCase().indexOf(m)==0)},m=>{u!==""&&m.options.length>0&&m.getOptionIndex()===-1&&(m.moveOptionSelection(1,!0),m.toggleOption(m.options[m.optionIndex],!0))})},i=u=>{e.value=u},c=u=>l.wordList?.includes(u)||"Invalid word";return(u,_)=>(f(),b(ge,Ie({modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=d=>e.value=d)},u.$attrs,{options:o(r),"hide-dropdown-icon":"","fill-input":"","use-input":"","hide-selected":"",outlined:"","input-debounce":"0",rules:[o(Y).required,c],"hide-bottom-space":"","no-error-icon":"","input-class":"text-bold",onFilter:n,onInputValue:i}),null,16,["modelValue","options","rules"]))}},pu=fe(_u,[["__scopeId","data-v-2a2006f5"]]),fu={class:"row q-row-gutter-xs q-col-gutter-xs"},Vt=24,Co={__name:"index",props:It({readonly:{type:Boolean,required:!1,default:!1}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=L(new Array(Vt).fill("")),r=(i,c)=>{i=i.trim();const u=i.split(" ").length;u==1?e.value=l.value.join(" "):u==Vt&&(e.value=i,n())},n=()=>{e.value?l.value=e.value.split(" ").slice(0,Vt):l.value=new Array(Vt).fill("")};return _e(()=>n()),(i,c)=>{const u=pu;return f(),x("div",null,[y("div",fu,[(f(!0),x(D,null,re(o(l),(_,d)=>(f(),b(u,{key:d,modelValue:o(l)[d],"onUpdate:modelValue":[m=>o(l)[d]=m,m=>r(m)],"word-list":o(fn),label:(d+1).toString(),readonly:t.readonly,class:"col-md-2 col-sm-3 col-xs-4"},null,8,["modelValue","onUpdate:modelValue","word-list","label","readonly"]))),128))])])}}},yu={class:"q-gutter-y-sm"},hu={class:"row q-gutter-x-sm"},bu={class:"col-8"},gu={class:"col"},vu={class:"q-gutter-y-sm"},wu={class:"text-subtitle1"},xu={class:"q-gutter-y-sm"},ku={class:"row full-width justify-end"},Su={__name:"WalletCreate",setup(t){const e=L(!1),l=L(!1),r=L(!1),n=L(!1),i=L(""),c=L(1),u=L(),_=L(),d=L(),m=ot(),p=Ti(),h=Dn(),w=()=>{l.value&&r.value&&d.value?T():k()},k=()=>{e.value=!0;const S={config:{name:i.value,numAddresses:c.value},...l.value&&{words:u.value},...r.value&&{passphrase:_.value}};p.mutate(S,{onSuccess:()=>{m.push("/wallet/")},onSettled:()=>{e.value=!1}})},T=()=>{e.value=!0;const S={words:u.value,finger_print:d.value,passphrase:_.value};h.mutate(S,{onSuccess:()=>{k()},onSettled:()=>{e.value=!1}})};return(S,V)=>{const $=Co;return f(),x("div",yu,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",hu,[y("div",bu,[a(N,{modelValue:o(i),"onUpdate:modelValue":V[0]||(V[0]=O=>z(i)?i.value=O:null),label:S.$t("create_wallet.account_name")},null,8,["modelValue","label"])]),y("div",gu,[a(N,{modelValue:o(c),"onUpdate:modelValue":V[1]||(V[1]=O=>z(c)?c.value=O:null),modelModifiers:{number:!0},label:S.$t("create_wallet.number_of_addresses")},null,8,["modelValue","label"])])])]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",vu,[a(Ke,{modelValue:o(l),"onUpdate:modelValue":V[2]||(V[2]=O=>z(l)?l.value=O:null),label:S.$t("create_wallet.use_custom_seed")},null,8,["modelValue","label"]),o(l)?(f(),x(D,{key:0},[y("div",wu,g(S.$t("create_wallet.seed_words")),1),a($,{modelValue:o(u),"onUpdate:modelValue":V[3]||(V[3]=O=>z(u)?u.value=O:null)},null,8,["modelValue"])],64)):E("",!0)])]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",xu,[a(Ke,{modelValue:o(r),"onUpdate:modelValue":V[4]||(V[4]=O=>z(r)?r.value=O:null),label:S.$t("create_wallet.use_passphrase")},null,8,["modelValue","label"]),o(r)?(f(),x(D,{key:0},[a(N,{modelValue:o(_),"onUpdate:modelValue":V[6]||(V[6]=O=>z(_)?_.value=O:null),label:S.$t("create_wallet.passphrase"),outlined:"",type:o(n)?"text":"password",autocomplete:"new-password"},{append:s(()=>[a($e,{name:o(n)?o(Ql):o(Kl),class:"cursor-pointer",onClick:V[5]||(V[5]=O=>n.value=!o(n))},null,8,["name"])]),_:1},8,["modelValue","label","type"]),o(l)?(f(),b(N,{key:0,modelValue:o(d),"onUpdate:modelValue":V[7]||(V[7]=O=>z(d)?d.value=O:null),label:"Fingerprint (optional, to validate passphrase)",outlined:""},null,8,["modelValue"])):E("",!0)],64)):E("",!0)])]),_:1})]),_:1}),y("div",ku,[a(j,{icon:o(Ul),label:S.$t("create_wallet.create_wallet"),loading:o(e),color:"primary",outline:"",onClick:w},null,8,["icon","label","loading"])])])}}},$u=Object.freeze(Object.defineProperty({__proto__:null,default:Su},Symbol.toStringTag,{value:"Module"})),qu=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(62-e)),Ro={__name:"TxTypeLink",props:{id:{type:String,required:!0},type:{type:String,required:!0}},setup(t){const e=t,l=v(()=>{switch(e.type){case"REWARD":case"VDF_REWARD":case"PROJECT_REWARD":return"/explore/block/hash/"+e.id;default:return"/explore/transaction/"+e.id}});return(r,n)=>{const i=le("RouterLink");return f(),b(i,{to:o(l)},{default:s(()=>[kt(r.$slots,"default")]),_:3},8,["to"])}}},Lt=t=>t=="REWARD"?"text-lime-8":t=="RECEIVE"||t=="REWARD"||t=="VDF_REWARD"?"text-positive":t=="SPEND"?"text-negative":t=="TXFEE"?"text-grey":"";function Tu(){const t=Pl(),e=(r,n,i)=>{let c=n!==void 0?n(r,i):r;return c=c==null?"":String(c),c=c.split('"').join('""'),`"${c}"`};return{exportTable:(r,n,i="export.csv")=>{const c=[n.map(_=>e(_.label))].concat(r.map(_=>n.map(d=>e(typeof d.field=="function"?d.field(_):_[d.field===void 0?d.name:d.field],d.format,_)).join(","))).join(`\r
`);na(i,c,"text/csv")!==!0&&t.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}}}const Vu={key:0},Cu={key:0,class:"text-orange"},Lo={__name:"AccountHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!0},memo:{type:String,required:!1,default:null},type:{type:String,required:!1,default:null},currency:{type:String,required:!1,default:null},exportEnabled:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("account_history.height"),field:"height",headerStyle:"width: 7%"},{label:l("account_history.type"),field:"type",headerStyle:"width: 8%",classes:_=>Lt(_.type)},{label:l("account_history.amount"),field:"value",headerClasses:"dense-amount",classes:"dense-amount",headerStyle:"width: 7%",style:"font-weight: bold;",align:"right"},{name:"token",label:l("account_history.token"),field:"symbol",headerClasses:"dense-symbol",classes:"dense-symbol",headerStyle:"width: 5%",align:"left"},{name:"address",label:l("account_history.address"),field:"address",headerStyle:"width: 15%",align:"left"},{label:"Memo",field:"memo",style:"word-break: break-all;",align:"left"},{name:"txid",label:l("account_history.link"),field:"txid",headerStyle:"width: 5%"},{label:l("account_history.time"),field:_=>_,format:_=>_.is_pending?"":new Date(_.time_stamp).toLocaleString(),headerStyle:"width: 15%",classes:"text-no-wrap",align:"left"}]),{rows:n,loading:i}=vs(I({index:A(()=>e.index),limit:A(()=>e.limit),memo:A(()=>e.memo),type:A(()=>e.type),currency:A(()=>e.currency)})),{exportTable:c}=Tu(),u=()=>{c(n.value,r.value)};return(_,d)=>{const m=de,p=le("RouterLink"),h=Ro;return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":s(w=>[a(F,{props:w},{default:s(()=>[w.row.is_pending?(f(),x("i",Vu,"pending")):(f(),b(p,{key:1,to:`/explore/block/height/${w.value}`,class:"text-primary"},{default:s(()=>[q(g(w.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-token":s(w=>[a(F,{props:w},{default:s(()=>[w.row.is_native?(f(),x(D,{key:0},[q(g(w.value),1)],64)):(f(),b(p,{key:1,to:`/explore/address/${w.row.contract}`,class:"text-primary mono"},{default:s(()=>[q(g(w.row.is_nft?"[NFT]":w.row.symbol)+" ",1),w.row.is_validated?E("",!0):(f(),x("span",Cu,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":s(w=>[a(F,{props:w},{default:s(()=>[a(p,{to:`/explore/address/${w.value}`,class:"text-primary mono"},{default:s(()=>[q(g(("getShortAddr"in _?_.getShortAddr:o(qu))(w.value)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":s(w=>[a(F,{props:w},{default:s(()=>[a(h,{id:w.value,type:w.row.type,class:"text-primary"},{default:s(()=>d[0]||(d[0]=[q("TX")])),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(w=>[a(m,{props:w,"row-count":6},null,8,["props"])]),key:"0"}:void 0,t.exportEnabled?{name:"top-right",fn:s(()=>[a(j,{color:"primary","icon-right":o(qa),label:"Export to csv",outline:"",rounded:"","no-caps":"",onClick:u},null,8,["icon-right"])]),key:"1"}:void 0]),1032,["rows","columns","loading"])}}},Ru={class:"q-gutter-y-sm"},Lu={__name:"AccountHome",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Bt,n=Lo;return f(),x("div",Ru,[a(r,{index:t.index},null,8,["index"]),a(n,{index:t.index,limit:50},null,8,["index"])])}}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"})),Fu={class:"q-gutter-y-sm"},Iu={__name:"AccountNFT",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:"NFT",field:"item",align:"left"}]),{rows:n,loading:i}=je(I({index:A(()=>e.index),show_all:!1}),c=>c.nfts);return(c,u)=>{const _=de,d=le("RouterLink");return f(),x("div",Fu,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Pu=Object.freeze(Object.defineProperty({__proto__:null,default:Iu},Symbol.toStringTag,{value:"Module"})),_l={__name:"BalanceTable",props:{address:{type:String,required:!0},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("balance_table.balance"),field:"total",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("balance_table.locked"),field:"locked",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("balance_table.spendable"),field:"spendable",format:c=>vt(c),headerStyle:"width: 7%",style:"font-weight: bold;"},{label:l("balance_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("balance_table.contract"),field:"contract",align:"left"}]),{rows:n,loading:i}=ho(I({id:A(()=>e.address)}));return(c,u)=>{const _=de,d=le("RouterLink");return o(i)||!o(i)&&(o(n)?.length||t.showEmpty)?(f(),b(te,{key:0,rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(g(m.row.is_native?"":m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):E("",!0)}}},Au={key:0},Eu={class:"key-cell m-bg-grey"},Du={class:"textwarp mono"},ju={key:1,class:"hex"},Wu={__name:"ObjectTable",props:{data:{type:Object,default:null}},setup(t){const e=L({}),l=u=>u instanceof Object?JSON.stringify(u,null,4):u,r=u=>typeof u=="string"&&u.startsWith("mmx1")&&u.length==62,n=(u,_)=>u instanceof Object&&Object.keys(u).length>0||_=="source",i=u=>{e.value[u]||(e.value[u]=!1),e.value[u]=!e.value[u]},c=u=>u&&u.length>68&&u.length%2==0&&/^[0-9a-fA-F]+$/.test(u);return(u,_)=>{const d=le("highlightjs"),m=le("RouterLink");return f(),b(Pt,{flat:""},{default:s(()=>[y("tbody",null,[(f(!0),x(D,null,re(t.data,(p,h)=>(f(),x(D,{key:h},[h!="__type"?(f(),x("tr",Au,[y("td",Eu,g(h),1),y("td",Du,[p instanceof Object||h=="source"?(f(),x(D,{key:0},[n(p,h)?(f(),b(j,{key:0,icon:o(e)[h]?o(Va):o(Ta),"fab-mini":"",class:"float-right",onClick:w=>i(h)},null,8,["icon","onClick"])):E("",!0),a(d,{code:l(p),class:se({hljsCode:!0,collapsed:!o(e)[h]})},null,8,["code","class"])],64)):(f(),x(D,{key:1},[r(p)?(f(),b(m,{key:0,to:`/explore/address/${p}`,class:"text-primary mono"},{default:s(()=>[q(g(p),1)]),_:2},1032,["to"])):c(p)?(f(),x("div",ju,g(p),1)):(f(),x(D,{key:2},[q(g(p),1)],64))],64))])])):E("",!0)],64))),128))])]),_:1})}}},Nt=fe(Wu,[["__scopeId","data-v-4d5a1ef0"]]),Oo=()=>{const{rows:t}=go(),{t:e}=W(),l={token_binary:{name:"Token"},offer_binary:{name:"Offer"},swap_binary:{name:"Swap"},nft_binary:{name:"NFT"},plot_nft_binary:{name:"Plot NFT"}},r=v(()=>{const c=Object.entries(t.value).filter(([_,d])=>_.endsWith("_binary")&&typeof d=="string"&&d.startsWith("mmx1"));return Object.fromEntries(c.map(([_,d])=>[_,{address:d,name:l[_]?.name||_}]))}),n=v(()=>Object.fromEntries(Object.entries(r.value).map(([c,u])=>[u.address,{...u,key:c}]))),i=v(()=>{const c=Object.fromEntries(Object.entries(r.value).map(([u,_])=>[_.address,!0]));return c.others=!0,c});return{chainBinaries:r,chainBinariesSwapped:n,filterInit:i}},Mu={class:"q-gutter-y-xs"},Bu={class:"row q-gutter-x-none"},Nu={key:0,class:"row justify-end q-gutter-xs"},Uu={__name:"AccountContractView",props:{data:{type:Object,required:!0}},setup(t){const e=t,{chainBinariesSwapped:l}=Oo(),r=v(()=>l.value[e.data?.binary]);return(n,i)=>{const c=Ne,u=Nt,_=_l;return f(),x("div",Mu,[y("div",null,[y("div",Bu,[a(c,null,{default:s(()=>[q(g(t.data.__type),1)]),_:1}),o(r)?(f(),b(c,{key:0},{default:s(()=>[q(g(o(r).name),1)]),_:1})):E("",!0),a(c,null,{default:s(()=>[q(g(t.data.address),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(u,{data:t.data},null,8,["data"])]),_:1})]),y("div",null,[a(_,{address:t.data.address},null,8,["address"])]),t.data.__type!="mmx.contract.Executable"?(f(),x("div",Nu,[a(j,{label:n.$t("account_contract_summary.deposit"),icon:n.mdiBankTransferIn,outline:"",color:"positive",onClick:i[0]||(i[0]=d=>n.handleDeposit(n.index,t.data.address))},null,8,["label","icon"]),a(j,{label:n.$t("account_contract_summary.withdraw"),icon:n.mdiBankTransferOut,outline:"",color:"negative",onClick:i[1]||(i[1]=d=>n.handleWithdraw(n.index,t.data.address))},null,8,["label","icon"])])):E("",!0)])}}},Ku={class:"q-gutter-y-xs"},Qu={__name:"AccountContractsIndex",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=mo(e),{chainBinariesSwapped:r,filterInit:n}=Oo(),i=L({});_e(()=>{i.value=n.value});const c=v(()=>{const _=Array.from(new Set(l.value.filter(p=>r.value[p.binary]).map(p=>p.binary))),d=Object.fromEntries(Object.entries(r.value).filter(([p,h])=>_.includes(p)));return Object.entries(l.value).some(([p,h])=>typeof d[h.binary]>"u")&&(d.others={name:"Others",address:"others",key:"others"}),d}),u=v(()=>l.value.filter(_=>i.value[_.binary]||i.value.others&&typeof i.value[_.binary]>"u"));return ot(),(_,d)=>(f(),x("div",null,[(f(!0),x(D,null,re(o(c),(m,p)=>(f(),b(Il,{key:p,selected:o(i)[m.address],"onUpdate:selected":h=>o(i)[m.address]=h,outline:"",color:"primary","text-color":"white"},{default:s(()=>[q(g(m.name),1)]),_:2},1032,["selected","onUpdate:selected"]))),128)),y("div",Ku,[(f(!0),x(D,null,re(o(u),(m,p)=>(f(),b(o(Uu),{key:p,data:m},null,8,["data"]))),128))])]))}},zu={class:"q-gutter-y-sm"},Hu={class:"row justify-end"},Xu={__name:"CreateContractMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=L(),r=v(()=>[]),n=ot(),i=()=>{n.push("/wallet/account/"+e.index+"/create/"+l.value)};return(c,u)=>(f(),x("div",null,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",zu,[a(ge,{modelValue:o(l),"onUpdate:modelValue":u[0]||(u[0]=_=>z(l)?l.value=_:null),options:o(r),label:c.$t("create_contract_menu.contract_type"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"]),y("div",Hu,[a(j,{label:c.$t("common.create"),icon:o(Ca),"text-color":"primary",outline:"",disable:!o(l),onClick:i},null,8,["label","icon","disable"])])])]),_:1})]),_:1})]))}},Gu={class:"q-gutter-y-sm q-mt-sm"},Ju={__name:"index",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>(f(),x("div",Gu,[a(Xu,{index:t.index},null,8,["index"]),a(Qu,{index:t.index},null,8,["index"])]))}},Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Ju},Symbol.toStringTag,{value:"Module"})),Fo={__name:"AccountTxHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!1,default:200}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("account_tx_history.height"),field:"height",headerStyle:"width: 7%"},{label:"Type",field:"note",headerStyle:"width: 11%"},{label:"Fee",field:c=>c.height&&c.fee&&c.fee.value,format:c=>c?c.toFixed(3):"...",headerStyle:"width: 12%",xclasses:"main-currency"},{label:l("account_tx_history.confirmed"),field:"confirm",format:c=>c?c>1e3?"> 1000":c:null,headerStyle:"width: 7%"},{label:l("account_tx_history.status"),field:"state",headerStyle:"width: 7%",classes:c=>c.state=="failed"?"text-negative":null},{name:"transaction_id",label:l("account_tx_history.transaction_id"),field:"id",align:"left"},{label:l("account_tx_history.time"),field:"time",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:n,loading:i}=ks(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-transaction_id":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(g(("getShortHash"in c?c.getShortHash:o(Mt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(F,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":6},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Zu=t=>{const e=L([]),l=L([]),r=L(!1),n=()=>{if(t.value){const u=t.value.getValidationComponents().filter(_=>_.rules);e.value=new Array(u.length).fill(!1),u.forEach((_,d)=>{const m=Se(()=>_.modelValue,p=>{const h=_.rules?.every(w=>w(p)===!0)??!1;e.value[d]=h},{deep:!0,immediate:!0});l.value.push(m)}),r.value=!0}},i=v(()=>e.value.some(u=>u===!1)),c=v(()=>r.value?i.value===!1:!1);return sa(()=>{n()}),{isValid:c,setupValidation:n}},ed=(t,e)=>{const l=L(null),r=L(!1),n=v(()=>({...t}));Se(n,(p,h)=>{p.feeRatio===h.feeRatio&&(r.value=!1)}),Se(r,p=>{p&&i()});const i=()=>{l.value.validate()},{isValid:c,setupValidation:u}=Zu(l),_=()=>{u()},d=v(()=>c.value&&r.value);return{formRef:l,confirmed:r,isValid:c,isValidConfirmed:d,reset:()=>{Object.assign(t,e),r.value=!1},validate:i,onDialogShow:_}},Ve={__name:"WForm",props:{data:{type:Object,required:!0},defaultData:{type:Object,required:!0},onSubmit:{type:Function,required:!1,default:()=>{}},onReset:{type:Function,required:!1,default:()=>{}}},setup(t,{expose:e}){const l=t,{formRef:r,confirmed:n,isValid:i,isValidConfirmed:c,reset:u,onDialogShow:_,validate:d}=ed(l.data,l.defaultData),m=()=>{u(),l.onReset()},p=async()=>{n.value=!1,l.onSubmit()},h=async()=>{m()},w=I({confirmed:n,isValid:i,isValidConfirmed:c});return ra("formState",w),e({reset:m,confirmed:n,isValid:i,isValidConfirmed:c,onDialogShow:_,validate:d}),(k,T)=>(f(),b(ol,{ref_key:"formRef",ref:r,onSubmit:p,onReset:h},{default:s(()=>[kt(k.$slots,"default")]),_:3},512))}},Ae={__name:"WBtnSubmit",setup(t){const e=Al("formState"),{confirmed:l,isValid:r,isValidConfirmed:n}=ut(e),i=L(null),c=v(()=>l.value?i.value?.disable?"negative":"positive":"");return(u,_)=>(f(),b(j,{ref_key:"btnRef",ref:i,type:"submit",color:o(c),outline:"",disable:!o(n)},null,8,["color","disable"]))}},Ee={__name:"WToggleConfirmed",setup(t){const e=Al("formState");return(l,r)=>(f(),b(ia,{modelValue:o(e).confirmed,"onUpdate:modelValue":r[0]||(r[0]=n=>o(e).confirmed=n),label:l.$t("common.confirm")},null,8,["modelValue","label"]))}},td={};function ld(t,e){return f(),b(j,{label:"Reset",type:"reset",color:"primary",flat:""})}const Ce=fe(td,[["render",ld]]),od={__name:"TxFeeInput",props:It({error:{type:String,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1},locked:{type:Boolean,required:!1,default:!1}},{modelValue:{type:Number,required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t;return v(()=>l.loading&&l.error===null),(r,n)=>(f(),b(N,Ie({"model-value":e.value},r.$attrs,{label:r.$t("account_history_form.tx_fee"),suffix:"MMX","input-class":"amount-input",readonly:"",class:"col-2"}),{default:s(()=>[a(Ct,{showing:t.loading},{default:s(()=>[a(ua,{color:"grey",size:"2em"})]),_:1},8,["showing"]),a(Ct,{showing:t.locked},{default:s(()=>[a($e,{name:o(Ra),size:"sm",class:"text-warning"},{default:s(()=>[a(ze,null,{default:s(()=>n[0]||(n[0]=[q("Unlock wallet to see estimated fee")])),_:1})]),_:1},8,["name"])]),_:1},8,["showing"]),a(Ct,{showing:t.error!=null},{default:s(()=>[a($e,{name:o(zl),size:"sm",class:"text-warning"},{default:s(()=>[a(ze,null,{default:s(()=>[q(g(t.error),1)]),_:1})]),_:1},8,["name"])]),_:1},8,["showing"])]),_:1},16,["model-value","label"]))}},De=fe(od,[["__scopeId","data-v-1852591f"]]),Re={__name:"TxFeeSelect",props:{modelValue:{type:Number,required:!1,default:1024},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=v(()=>[{label:"1x (min fee)",value:1024},{label:"2x",value:2048},{label:"3x",value:3072},{label:"5x",value:5120},{label:"10x",value:10240},{label:"20x",value:20480}]);return _e(()=>{e.value||(e.value=1024)}),(r,n)=>(f(),b(ge,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=i=>e.value=i),options:o(l),"emit-value":"","map-options":"",label:"TX Fee Ratio"},null,8,["modelValue","options"]))}},Ut={__name:"XSelect",setup(t){return(e,l)=>(f(),b(ge,Ie(e.$attrs,{"emit-value":"","map-options":""}),{"selected-item":s(r=>[a(Jt,Ie(r.itemProps,{class:"q-pb-none",style:{"min-height":"unset"}}),{default:s(()=>[a(bt,{avatar:"",class:"content-end q-pb-none"},{default:s(()=>[a(gt,{class:se({"text-bold":r.opt.value!==null})},{default:s(()=>[q(g(r.opt.label),1)]),_:2},1032,["class"])]),_:2},1024),r.opt.description?(f(),b(bt,{key:0},{default:s(()=>[a(gt,{class:se(r.opt.descriptionClasses)},{default:s(()=>[q(g(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):E("",!0)]),_:2},1040)]),option:s(r=>[a(Jt,At(Et(r.itemProps)),{default:s(()=>[a(bt,{avatar:"",class:"content-end"},{default:s(()=>[a(gt,null,{default:s(()=>[q(g(r.opt.label),1)]),_:2},1024)]),_:2},1024),r.opt.description?(f(),b(bt,{key:0},{default:s(()=>[a(gt,{class:se(r.opt.descriptionClasses)},{default:s(()=>[q(g(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):E("",!0)]),_:2},1040)]),_:1},16))}},Io={__name:"BalanceTokenSelect",props:{index:{type:Number,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.contract,d=c.contract;c.is_native?i.push({label:u,value:_}):i.push({label:u,value:_,description:d,descriptionClasses:"mono"})}),i}),{rows:n}=je(I({index:A(()=>e.index)}),i=>i.balances);return(i,c)=>{const u=Ut;return f(),b(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},ad={__name:"AddressTokenSelect",props:{address:{type:String,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.contract,d=c.decimals||0,m=c.contract,p="mono",h=c.is_native;var w={label:u,value:_,decimals:d};h||(w={...w,description:m,descriptionClasses:p}),i.push(w)}),i}),{rows:n}=lr(I({id:A(()=>e.address)}),i=>i.balances);return(i,c)=>{const u=Ut;return f(),b(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},pl={__name:"WalletSelect",props:It({nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},{modelValue:{type:[Number,Object],required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,{t:r}=W(),n=v(()=>{const c=[];return l.nullItem&&c.push({label:l.nullLabel,value:null}),i.value.map(u=>{const _=`${r("market_menu.wallet")} #${u.account}`,d=u.account,m=u.address,p=u.address;c.push({label:_,value:d,address:m,description:p,descriptionClasses:"mono"})}),c}),{rows:i}=co();return _e(()=>{i.value.length>0&&!e.value&&(e.value=n.value[0].value)}),(c,u)=>{const _=Ut;return f(),b(_,Ie({modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d)},c.$attrs,{options:o(n)}),null,16,["modelValue","options"])}}},nd=t=>{const e=v(()=>t.value?.isValid??!1),l=v(()=>t.value?.isValidConfirmed??!1);return{isValid:e,isValidConfirmed:l}},Le=(t,e)=>{const{isValid:l,isValidConfirmed:r}=nd(t),n=v(()=>l.value&&!e.value),i=v(()=>r.value&&!e.value);return{isValid:l,isValidConfirmed:r,isValidUnlocked:n,isValidConfirmedUnlocked:i}},sd={class:"q-gutter-y-sm"},rd={class:"row q-gutter-x-sm"},id={class:"row justify-end q-col-gutter-sm"},ud={class:"row"},dd={class:"col"},cd={class:"col-11"},md={class:"row justify-end q-gutter-x-sm"},_d={__name:"AccountSendForm",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t,l={destination:null,amount:null,currency:null,memo:null,feeRatio:null},r=L(null),n=I({...l}),i=L(null),c=()=>{e.target?n.destination=e.target:n.destination=i.value&&i.value?.address};_e(()=>{c()});const u=async()=>{i.value=null,c()},_=v(()=>({index:e.index,amount:n.amount,currency:n.currency,...e.source&&{src_addr:e.source},dst_addr:n.destination,options:{...n.memo&&{memo:n.memo},fee_ratio:n.feeRatio}})),{promptPassphrase:d,isLocked:m}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:p}=Le(r,m),{data:h,isLoading:w,latestError:k}=uo(_,p),T=to(),S=async()=>{const V=await d(),$={..._.value,options:{..._.value.options,passphrase:V}};await T.mutateAsync($)};return(V,$)=>{const O=pl,H=ad,K=Io,Q=Re,ae=De,me=Ce,Z=Ee,ee=Ae,oe=Ve;return f(),b(P,{flat:""},{default:s(()=>[a(oe,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onReset:u,onSubmit:S},{default:s(()=>[a(B,null,{default:s(()=>[y("div",sd,[t.source?(f(),b(N,{key:0,"model-value":t.source,label:V.$t("account_send_form.source_address"),readonly:""},null,8,["model-value","label"])):E("",!0),t.target?E("",!0):(f(),b(O,{key:1,modelValue:o(i),"onUpdate:modelValue":$[0]||($[0]=M=>z(i)?i.value=M:null),label:V.$t("account_send_form.destination"),"null-item":"","null-label":V.$t("account_send_form.address_input"),"emit-value":!1,clearable:o(i)?.value!=null,disable:!!t.target},null,8,["modelValue","label","null-label","clearable","disable"])),a(N,{modelValue:o(n).destination,"onUpdate:modelValue":$[1]||($[1]=M=>o(n).destination=M),label:V.$t("account_send_form.destination_address"),placeholder:"mmx1...",rules:[o(Y).required,o(Y).address],"hide-bottom-space":"","input-class":"text-bold",readonly:!!o(i)?.value||!!t.target,clearable:o(n).destination!=null},null,8,["modelValue","label","rules","readonly","clearable"]),y("div",rd,[a(N,{modelValue:o(n).amount,"onUpdate:modelValue":$[2]||($[2]=M=>o(n).amount=M),modelModifiers:{number:!0},label:V.$t("account_send_form.amount"),rules:[o(Y).required,o(Y).amount],"hide-bottom-space":"","input-class":"amount-input",class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),t.source?(f(),b(H,{key:0,modelValue:o(n).currency,"onUpdate:modelValue":$[3]||($[3]=M=>o(n).currency=M),rules:[o(Y).required],address:t.source,label:V.$t("account_send_form.currency"),clearable:o(n).currency!=null,class:"col"},null,8,["modelValue","rules","address","label","clearable"])):(f(),b(K,{key:1,modelValue:o(n).currency,"onUpdate:modelValue":$[4]||($[4]=M=>o(n).currency=M),rules:[o(Y).required],index:t.index,label:V.$t("account_send_form.currency"),clearable:o(n).currency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"]))]),a(N,{modelValue:o(n).memo,"onUpdate:modelValue":$[5]||($[5]=M=>o(n).memo=M),label:"Memo",rules:[o(Y).memo],"_hide-bottom-space":"",clearable:o(n).memo!=null},null,8,["modelValue","rules","clearable"]),y("div",id,[a(Q,{modelValue:o(n).feeRatio,"onUpdate:modelValue":$[6]||($[6]=M=>o(n).feeRatio=M),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(h),"onUpdate:modelValue":$[7]||($[7]=M=>z(h)?h.value=M:null),loading:o(w),error:o(k),locked:o(m),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",ud,[y("div",dd,[a(me)]),y("div",cd,[y("div",md,[a(Z),a(ee,{label:V.$t("account_send_form.send"),icon:o(Hl)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},pd={class:"q-gutter-y-sm"},fd={__name:"index",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t;return(l,r)=>{const n=_l,i=Bt,c=Fo;return f(),x("div",pd,[t.source?(f(),b(n,{key:0,address:t.source,"show-empty":""},null,8,["address"])):(f(),b(i,{key:1,index:t.index},null,8,["index"])),a(_d,At(Et(e)),null,16),a(c,{index:t.index,limit:10},null,8,["index"])])}}},Rl=Object.freeze(Object.defineProperty({__proto__:null,default:fd},Symbol.toStringTag,{value:"Module"})),Kt={__name:"TokenSelect",props:{nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.currency,d=c.decimals,m=c.currency,p="mono",h=c.is_native;var w={label:u,value:_,decimals:d};h||(w={...w,description:m,descriptionClasses:p}),i.push(w)}),i}),{rows:n}=_t();return(i,c)=>{const u=Ut;return f(),b(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},yd={class:"q-gutter-y-sm q-mt-sm"},hd={class:"row"},bd={class:"row q-mt-xs"},gd={__name:"AccountHistory",props:{index:{type:Number,required:!0}},setup(t){const e=L(200),l=L(null),r=L(null),n=L();_e(()=>{n.value?.length>0?l.value="RECEIVE":l.value=null});const{t:i}=W(),c=v(()=>[{label:i("account_history_form.any"),value:null},{label:i("account_history_form.spend"),value:"SPEND"},{label:i("account_history_form.receive"),value:"RECEIVE"},{label:i("account_history_form.reward"),value:"REWARD"},{label:"VDF "+i("account_history_form.reward"),value:"VDF_REWARD"},{label:i("account_history_form.tx_fee"),value:"TXFEE"}]);return(u,_)=>{const d=Kt,m=Lo;return f(),x("div",yd,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",hd,[a(ge,{modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=p=>z(l)?l.value=p:null),options:o(c),"emit-value":"","map-options":"",label:u.$t("account_history.type"),disable:o(n)?.length>0,clearable:o(l)!==null,class:"col-3"},{"selected-item":s(p=>[y("div",{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Lt))(p.opt.value))},g(p.opt.label),3)]),option:s(p=>[a(Jt,At(Et(p.itemProps)),{default:s(()=>[a(bt,null,{default:s(()=>[a(gt,{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Lt))(p.opt.value))},{default:s(()=>[q(g(p.opt.label),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","disable","clearable"]),a(d,{modelValue:o(r),"onUpdate:modelValue":_[1]||(_[1]=p=>z(r)?r.value=p:null),label:u.$t("account_history.token"),"null-item":"","null-label":u.$t("account_history_form.any"),clearable:o(r)!==null,class:"q-ml-md col"},null,8,["modelValue","label","null-label","clearable"])]),y("div",bd,[a(N,{modelValue:o(n),"onUpdate:modelValue":_[2]||(_[2]=p=>z(n)?n.value=p:null),label:"Memo",class:"col",clearable:""},null,8,["modelValue"])])]),_:1})]),_:1}),a(m,{index:t.index,limit:o(e),type:o(l),currency:o(r),memo:o(n),"export-enabled":"",class:"q-mt-sm"},null,8,["index","limit","type","currency","memo"])])}}},vd=Object.freeze(Object.defineProperty({__proto__:null,default:gd},Symbol.toStringTag,{value:"Module"})),wd={class:"q-gutter-y-sm"},xd={__name:"AccountLog",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Fo;return f(),x("div",wd,[a(r,{index:t.index,limit:200},null,8,["index"])])}}},kd=Object.freeze(Object.defineProperty({__proto__:null,default:xd},Symbol.toStringTag,{value:"Module"})),Sd={class:"q-gutter-y-sm"},$d={class:"row q-gutter-x-sm"},qd={class:"row q-gutter-x-sm"},Td={class:"row justify-end q-col-gutter-sm"},Vd={class:"row"},Cd={class:"col"},Rd={class:"col-11"},Ld={class:"row justify-end q-gutter-x-sm"},Od={__name:"AccountOfferForm",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={bidAmount:null,bidCurrency:null,price:null,askCurrency:null,feeRatio:null},r=L(null),n=I({...l}),i=v(()=>{const{bidCurrency:T,askCurrency:S}=n;return T&&S?`${T.label} / ${S.label}`:null}),c=v(()=>({index:e.index,bid:n.bidAmount,bid_currency:n.bidCurrency?.value,price:n.price,ask_currency:n.askCurrency?.value,options:{fee_ratio:n.feeRatio}})),{promptPassphrase:u,isLocked:_}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:d}=Le(r,_),{data:m,isLoading:p,latestError:h}=Xn(c,d),w=Wn(),k=async()=>{const T=await u(),S={...c.value,options:{...c.value.options,passphrase:T}};await w.mutateAsync(S)};return(T,S)=>{const V=Io,$=Kt,O=Re,H=De,K=Ce,Q=Ee,ae=Ae,me=Ve;return f(),b(P,{flat:""},{default:s(()=>[a(me,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onSubmit:k},{default:s(()=>[a(B,null,{default:s(()=>[y("div",Sd,[y("div",$d,[a(N,{modelValue:o(n).bidAmount,"onUpdate:modelValue":S[0]||(S[0]=Z=>o(n).bidAmount=Z),modelModifiers:{number:!0},label:T.$t("account_offer_form.offer_amount"),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),a(V,{modelValue:o(n).bidCurrency,"onUpdate:modelValue":S[1]||(S[1]=Z=>o(n).bidCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:T.$t("account_offer_form.offer_currency"),clearable:o(n).bidCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",qd,[a(N,{modelValue:o(n).price,"onUpdate:modelValue":S[2]||(S[2]=Z=>o(n).price=Z),modelModifiers:{number:!0},label:T.$t("account_offers.price"),suffix:o(i),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"price col-sm-3 col-xs-12"},null,8,["modelValue","label","suffix","rules"]),a($,{modelValue:o(n).askCurrency,"onUpdate:modelValue":S[3]||(S[3]=Z=>o(n).askCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:T.$t("account_offer_form.receive_currency"),clearable:o(n).askCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",Td,[a(O,{modelValue:o(n).feeRatio,"onUpdate:modelValue":S[4]||(S[4]=Z=>o(n).feeRatio=Z),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(H,{modelValue:o(m),"onUpdate:modelValue":S[5]||(S[5]=Z=>z(m)?m.value=Z:null),loading:o(p),error:o(h),locked:o(_),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",Vd,[y("div",Cd,[a(K)]),y("div",Rd,[y("div",Ld,[a(Q),a(ae,{label:T.$t("account_offer_form.offer"),icon:o(La)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Fd=fe(Od,[["__scopeId","data-v-193ab7a4"]]),Id={class:"row justify-end q-gutter-x-xs q-pa-none"},Pd={__name:"AccountOfferTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=L(!0),n=[{label:l("account_offers.any"),value:!1},{label:l("account_offers.open"),value:!0}],i=v(()=>[{label:l("account_offers.offering"),field:"bid_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{field:"bid_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.received"),field:"ask_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:T=>(T.ask_balance_value>0?"text-positive":"")+" dense-amount",align:"right"},{field:"ask_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.price"),field:"display_price",format:T=>parseFloat((1/T).toPrecision(6)),headerStyle:"width: 5%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{name:"price-symbol",field:T=>({symbol1:T.bid_symbol,symbol2:T.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"contract",field:"address",headerStyle:"width: 5%"},{name:"actions"}]),{rows:c,loading:u}=_o(I({index:A(()=>e.index),state:r})),_=L(new Set),d=L(new Set),m=et(),p=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Rp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{_.value.delete(T.address)})},h=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Dp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{d.value.add(T.address)})},w=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Hp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}})},k=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>lf),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{_.value.add(T.address)})};return(T,S)=>{const V=de,$=le("RouterLink");return f(),x(D,null,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(ge,{modelValue:o(r),"onUpdate:modelValue":S[0]||(S[0]=O=>z(r)?r.value=O:null),options:n,"emit-value":"","map-options":"",label:T.$t("account_offers.status")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(te,{rows:o(c),columns:o(i),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-price-symbol":s(O=>[a(F,{props:O},{default:s(()=>[y("span",null,g(O.value.symbol1)+" / "+g(O.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-contract":s(O=>[a(F,{props:O},{default:s(()=>[a($,{to:`/explore/address/${O.value}`,class:"text-primary"},{default:s(()=>S[1]||(S[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":s(O=>[a(F,{props:O},{default:s(()=>[y("div",Id,[a(j,{label:o(l)("account_offers.deposit"),_icon:o(gl),color:"positive",outline:"",onClick:H=>p(O.row)},null,8,["label","_icon","onClick"]),a(j,{disable:!(O.row.ask_balance>0)||o(d).has(O.row.address),label:o(l)("account_contract_summary.withdraw"),_icon:o(Hl),color:"negative",outline:"",onClick:H=>h(O.row)},null,8,["disable","label","_icon","onClick"]),a(el,{vertical:"",inset:""}),a(j,{label:"Update",_icon:o(gl),color:"primary",outline:"",onClick:H=>w(O.row)},null,8,["_icon","onClick"]),a(j,{disable:!(O.row.bid_balance>0)||o(_).has(O.row.address),label:o(l)("account_offers.revoke"),_icon:o(Oa),color:"secondary",outline:"",onClick:H=>k(O.row)},null,8,["disable","label","_icon","onClick"])])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(O=>[a(V,{props:O,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])],64)}}},Ad={class:"q-gutter-y-sm"},Ed={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t;return(l,r)=>{const n=Bt;return f(),x("div",Ad,[a(n,{index:e.index},null,8,["index"]),a(Fd,{index:e.index},null,8,["index"]),a(Pd,{index:e.index},null,8,["index"])])}}},Dd=Object.freeze(Object.defineProperty({__proto__:null,default:Ed},Symbol.toStringTag,{value:"Module"})),jd={class:"q-gutter-y-sm"},Wd={__name:"AccountLiquid",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("common.balance"),field:c=>c.balance.value,headerStyle:"width: 8%",align:"right"},{name:"symbol",label:l("common.symbol"),field:"symbol",headerStyle:"width: 6%",align:"left"},{name:"contract",label:l("common.address"),field:"address",headerStyle:"width: 70%",align:"left"},{name:"actions",align:"right"}]),{rows:n,loading:i}=Cs(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),x("div",jd,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-actions":s(m=>[a(F,{props:m,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(l)("common.manage"),_icon:o(Fa),outline:"",color:"secondary",to:`/swap/${m.row.address}/liquid`},null,8,["label","_icon","to"])]),_:2},1032,["props"])]),"body-cell-symbol":s(m=>[a(F,{props:m},{default:s(()=>[m.value!="MMX"?(f(),b(d,{key:0,to:`/explore/address/${m.row.currency}`,class:"text-primary"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])):(f(),x(D,{key:1},[q(g(m.value),1)],64))]),_:2},1032,["props"])]),"body-cell-contract":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(F,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Md=Object.freeze(Object.defineProperty({__proto__:null,default:Wd},Symbol.toStringTag,{value:"Module"})),Bd={class:"q-gutter-y-sm"},Nd={class:"row justify-end q-col-gutter-sm"},Ud={class:"row"},Kd={class:"col"},Qd={class:"col-11"},zd={class:"row justify-end q-gutter-x-sm"},Hd={__name:"AccountPlotNFTsCreate",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={name:null,feeRatio:null},r=L(null),n=I({...l}),i=v(()=>({index:e.index,name:n.name,options:{fee_ratio:n.feeRatio}})),{promptPassphrase:c,isLocked:u}=xe(I({index:A(()=>e.index)})),{isValidConfirmed:_}=Le(r,u),d=v(()=>_.value?.095:null),m=zn(),p=async()=>{const h=await c(),w={...i.value,options:{...i.value.options,passphrase:h}};await m.mutateAsync(w)};return(h,w)=>{const k=Re,T=De,S=Ce,V=Ee,$=Ae,O=Ve;return f(),b(P,{flat:""},{default:s(()=>[a(O,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onSubmit:p},{default:s(()=>[a(B,null,{default:s(()=>[y("div",Bd,[a(N,{modelValue:o(n).name,"onUpdate:modelValue":w[0]||(w[0]=H=>o(n).name=H),rules:[o(Y).required],label:"New PlotNFT Name"},null,8,["modelValue","rules"])]),y("div",Nd,[a(k,{modelValue:o(n).feeRatio,"onUpdate:modelValue":w[1]||(w[1]=H=>o(n).feeRatio=H),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(T,{modelValue:o(d),"onUpdate:modelValue":w[2]||(w[2]=H=>z(d)?d.value=H:null),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"])])]),_:1}),a(B,null,{default:s(()=>[y("div",Ud,[y("div",Kd,[a(S)]),y("div",Qd,[y("div",zd,[a(V),a($,{label:h.$t("common.create")},null,8,["label"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Xd={key:0},Gd={class:"key-cell m-bg-grey"},rt={__name:"ListTable",props:{rows:{type:Object,required:!0},data:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{rows:l,data:r,loading:n}=ut(e),i=v(()=>e.rows.map(_=>{const d={};if(_.visible?d.visible=u(_.visible,e.data):d.visible=!0,d.visible){d.value=c(_,e.data);const m=Object.keys(_).filter(p=>["visible","field"].indexOf(p)==-1);for(const p in m){const h=m[p];d[h]=u(_[h],e.data)}}return d})),c=(_,d)=>{var m;if(d){if(_.field instanceof Function)try{m=_.field(d)}catch(p){console.debug(p)}else try{m=d[_.field]}catch(p){console.debug(p)}_.format&&(m=_.format(m))}return m},u=(_,d)=>{var m;if(_ instanceof Function){if(d)try{m=_(d)}catch(p){console.debug(p)}}else m=_;return m};return(_,d)=>{const m=le("RouterLink");return f(),b(Pt,{flat:""},{default:s(()=>[y("tbody",null,[(f(!0),x(D,null,re(o(i),(p,h)=>(f(),x(D,{key:h},[p.visible?(f(),x("tr",Xd,[y("td",Gd,g(p.label),1),y("td",null,[kt(_.$slots,`value-${p.name}`,{item:p},()=>[o(n)||p?.loading?(f(),b(Ft,{key:"text"})):p.to?(f(),b(m,{key:1,to:p.to,class:se(`text-primary ${p.classes}`)},{default:s(()=>[q(g(p.value),1)]),_:2},1032,["to","class"])):(f(),x("div",{key:2,class:se(p.classes)},g(p.value),3)),p.copyToClipboard?(f(),b(o(tl),{key:3},{default:s(({copy:w,copied:k})=>[a(j,{"icon-right":o(sl),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:T=>w(p.value)},{default:s(()=>[a(ze,{"model-value":k===!0,"no-parent-event":""},{default:s(()=>d[0]||(d[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:2},1024)):E("",!0)])])])):E("",!0)],64))),128))])]),_:3})}}},Jd={class:"row q-gutter-x-none"},Yd={__name:"AccountPlotNFTsControl",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l,loading:r}=qs(I({id:e.address})),n=v(()=>[{label:"Address",field:i=>i.address,to:i=>`/explore/address/${i.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:i=>i.server_url??"N/A (solo farming)"},{label:"Unlock Height",field:i=>i.unlock_height,visible:i=>i.is_locked}]);return(i,c)=>{const u=Ne,_=rt;return f(),x("div",null,[y("div",Jd,[a(u,null,{default:s(()=>[q(g(o(l)?.name),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(_,{rows:o(n),data:o(l),loading:o(r)},null,8,["rows","data","loading"])]),_:1})])}}},Zd={class:"q-gutter-y-sm q-mt-sm"},ec={class:"q-gutter-y-sm"},tc={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=go(),r=A(()=>l.value?.plot_nft_binary),n=I({index:A(()=>e.index),type_hash:A(()=>r.value),owned:!0}),{rows:i,loading:c}=mo(n,()=>!!r.value);return(u,_)=>(f(),x("div",Zd,[y("div",ec,[o(c)?(f(),b(ll,{key:0,query:""})):E("",!0),(f(!0),x(D,null,re(o(i),d=>(f(),b(Yd,{key:d.address,address:d.address},null,8,["address"]))),128))]),a(Hd,At(Et(e)),null,16)]))}},lc=Object.freeze(Object.defineProperty({__proto__:null,default:tc},Symbol.toStringTag,{value:"Module"})),oc={class:"q-gutter-y-sm q-mt-sm"},ac={__name:"AccountDetails",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=we(),r=v(()=>[{name:"index",label:"Index",field:d=>d,headerClasses:"key-cell",classes:" m-bg-grey",align:"right"},{name:"address",label:"Address",field:d=>d,align:"left"}]),{rows:n}=$t(e,d=>(delete d.is_hidden,d)),{rows:i}=ys(e),{rows:c,loading:u}=cl({...e,limit:1e3}),_=()=>{window.mmx.copyKeysToPlotter(JSON.stringify(i.value))};return(d,m)=>{const p=Nt,h=de,w=le("RouterLink");return f(),x("div",oc,[a(p,{data:o(n)},null,8,["data"]),a(p,{data:o(i)},null,8,["data"]),o(l).isWinGUI&&o(i)?(f(),b(j,{key:0,label:d.$t("account_details.copy_keys_to_plotter"),color:"primary",outline:"",onClick:_},null,8,["label"])):E("",!0),a(te,{rows:o(c),columns:o(r),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":s(k=>[a(F,{props:k},{default:s(()=>[q(g(k.rowIndex),1)]),_:2},1032,["props"])]),"body-cell-address":s(k=>[a(F,{props:k},{default:s(()=>[a(w,{to:`/explore/address/${k.value}`,class:"text-primary mono"},{default:s(()=>[q(g(k.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(k=>[a(h,{props:k,"row-count":o(n).num_addresses??1},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns"])])}}},nc=Object.freeze(Object.defineProperty({__proto__:null,default:ac},Symbol.toStringTag,{value:"Module"})),sc={class:"q-gutter-y-sm q-mt-sm"},rc={class:"row q-gutter-x-sm"},ic={class:"q-mt-md row justify-end"},uc={__name:"AccountOptions",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=et(),n=ot(),{rows:i}=$t(e),c=I({name:"",num_addresses:1});_e(()=>{c.name=i.value.name,c.num_addresses=i.value.num_addresses});const u=Ci(),_=Li(),d=Fi(),m=()=>{d.mutate({index:e.index,count:c.num_addresses})},p=()=>{_.mutate(e.index)},h=ms(),w=async()=>{await h.mutateAsync(e,{onSuccess:S=>{r.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>nf),void 0,import.meta.url)),componentProps:{seed:S.string,withPassphrase:i.value.with_passphrase,fingerPrint:i.value.finger_print}})}})},k=()=>{r.dialog({title:"Remove Wallet",message:"To recover any funds you will need to re-create the wallet from a stored backup!",cancel:!0,persistent:!0,ok:{label:"Remove",color:"negative"}}).onOk(()=>{const S=i.value.key_file,V={index:i.value.account,account:i.value.index};u.mutate(V,{onSuccess:()=>T(S)})})},T=S=>{r.dialog({type:"warning",title:"Wallet removed",message:`Wallet file ${S} needs to be deleted manually`,persistent:!0,cancel:!1}).onOk(()=>{n.push("/wallet/")})};return(S,V)=>(f(),x("div",sc,[a(P,{flat:""},{default:s(()=>[a(B,{class:"q-gutter-x-xs"},{default:s(()=>[a(ol,{onSubmit:m},{default:s(()=>[y("div",rc,[a(N,{modelValue:o(c).name,"onUpdate:modelValue":V[0]||(V[0]=$=>o(c).name=$),label:o(l)("create_wallet.account_name"),readonly:"",class:"col"},null,8,["modelValue","label"]),a(N,{modelValue:o(c).num_addresses,"onUpdate:modelValue":V[1]||(V[1]=$=>o(c).num_addresses=$),modelModifiers:{number:!0},label:o(l)("create_wallet.number_of_addresses"),class:"col-3"},null,8,["modelValue","label"])]),y("div",ic,[a(j,{label:"Update",type:"submit",color:"positive",outline:"",class:"col-2"})])]),_:1})]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,{class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:S.$t("account_actions.reset_cache"),color:"secondary",outline:"",onClick:p},null,8,["label"]),a(j,{label:S.$t("account_actions.show_seed"),color:"secondary",outline:"",onClick:w},null,8,["label"]),t.index>=100?(f(),b(j,{key:0,color:"negative",outline:"",onClick:k},{default:s(()=>V[2]||(V[2]=[q("Remove")])),_:1})):E("",!0)]),_:1})]),_:1})]))}},dc=Object.freeze(Object.defineProperty({__proto__:null,default:uc},Symbol.toStringTag,{value:"Module"})),cc={class:"q-gutter-y-sm"},mc={__name:"FarmerRewards",setup(t){const{t:e}=W(),l=v(()=>[{label:"No. Blocks",field:"num_blocks"},{label:"Last Height",field:"last_height",format:k=>k>0?k:"N/A"},{label:"Total Rewards",field:"total_rewards_value",classes:"main-currency"},{label:"Time to win",field:()=>w,format:k=>`${k.value} (on average)`,loading:m.value}]),r=v(()=>[{label:"Reward",field:k=>k.value,headerStyle:"width: 5%"},{field:k=>"MMX",headerStyle:"width: 5%"},{name:"address",label:e("transaction_view.address"),field:k=>k.address,align:"left"}]),{data:n,loading:i}=po({since:1e4}),{rows:c,loading:u}=ul(),{rows:_,loading:d}=qt(),m=v(()=>i.value||u.value||d.value),p=v(()=>c.value.total_space),h=v(()=>_.value.total_bytes_effective/1e9),w=v(()=>{if(p.value&&h.value){const k=p.value/h.value/6;if(k<=60)return Math.floor(k)+" minutes";const T=k/60;if(T<=24)return Math.floor(T)+" hours and "+Math.floor(k%60)+" minutes";const S=T/24;return Math.floor(S)+" days and "+Math.floor(T%24)+" hours"}return"N/A"});return(k,T)=>{const S=rt,V=le("RouterLink");return f(),x("div",cc,[a(S,{rows:o(l),data:o(n),loading:o(i)},null,8,["rows","data","loading"]),a(te,{rows:o(n)?.rewards??[],columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-address":s($=>[a(F,{props:$},{default:s(()=>[a(V,{to:`/explore/address/${$.value}`,class:"text-primary mono"},{default:s(()=>[q(g($.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},_c={class:"q-gutter-y-sm"},pc={__name:"index",setup(t){return(e,l)=>{const r=Pe;return f(),b(lt,{padding:""},{default:s(()=>[y("div",_c,[a(o(So)),a(o(mc)),a(r)])]),_:1})}}},fc=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"})),Qt={__name:"FarmerMenu",setup(t){const{t:e}=W(),l=v(()=>[{to:"/farmer/plots",label:e("farmer_menu.plots")},{to:"/farmer/plotnfts",label:"NFTs"},{to:"/farmer/blocks",label:e("farmer_menu.blocks")},{to:"/farmer/proofs",label:e("farmer_menu.proofs")}]);return(r,n)=>(f(),b(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(l),(i,c)=>(f(),b(Qe,{key:c,to:i.to,label:i.label},null,8,["to","label"]))),128))]),_:1}))}},yc={__name:"FarmerPlotDirs",setup(t){const{t:e}=W(),l=v(()=>[{label:e("farmer_plot_dirs.path"),field:i=>i,headerStyle:"width: 7%",align:"left"}]),{data:r,loading:n}=qt();return(i,c)=>(f(),b(te,{rows:o(r)?.plot_dirs??[],columns:o(l),loading:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},null,8,["rows","columns","loading"]))}},hc={class:"q-gutter-y-sm"},bc={class:"row q-gutter-x-xs"},gc={class:"row justify-end"},vc={__name:"FarmerPlotsIndex",setup(t){const{t:e}=W(),l=v(()=>[{label:e("farmer_plots.type"),field:"ksize",format:d=>`K${d}`,headerStyle:"width: 20%"},{label:e("farmer_plots.count"),field:"count",align:"left",style:"font-weight: bold;"}]),r=v(()=>[{label:e("common.harvester"),field:"name",headerStyle:"width: 12%"},{label:e("farmer_info.physical_size"),field:"bytes",format:d=>(d/Math.pow(1e3,4)).toFixed(3),xclasses:"physical-size",headerStyle:"width: 20%"},{label:"Effective Size",field:"effective",format:d=>(d/Math.pow(1e3,4)).toFixed(3),xclasses:"effective-size",align:"left"}]),n=d=>{var m={plot_count:[],harvester_bytes:[]};for(const p of d.plot_count)m.plot_count.push({ksize:p[0],count:p[1]});for(const p of d.harvester_bytes)m.harvester_bytes.push({name:p[0],bytes:p[1][0],effective:p[1][1]});return m},{rows:i,loading:c}=qt(n),u=$i(),_=()=>{u.mutate()};return(d,m)=>(f(),x("div",hc,[a(P,{flat:""},{default:s(()=>[a(o(Qt)),y("div",bc,[a(te,{rows:o(i)?.plot_count??[],columns:o(l),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col-4"},null,8,["rows","columns","loading"]),a(te,{rows:o(i)?.harvester_bytes??[],columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col"},{"body-cell":s(p=>[a(F,{props:p},{default:s(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(p))},g(p.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])]),_:1}),a(yc),y("div",gc,[a(j,{label:d.$t("farmer_plots.reload_plots"),icon:o(Ia),size:"md",rounded:"",outline:"",color:"primary",onClick:_},null,8,["label","icon"])])]))}},wc=fe(vc,[["__scopeId","data-v-ea8b456c"]]),xc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),kc={class:"row q-gutter-x-none"},Sc={__name:"PlotNFTInfo",props:{address:{type:String,required:!0},data:{type:Object,required:!0}},setup(t){const e=t,l=v(()=>[{label:"Address",field:r=>e.address,to:r=>`/explore/address/${r.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:r=>r.server_url??"N/A (solo farming)"},{label:"Pool Target",field:r=>r.pool_target,to:r=>`/explore/address/${r.pool_target}`,classes:"mono",visible:r=>r.pool_target},{label:"Partial Difficulty",field:r=>r.partial_diff,visible:r=>r.server_url},{label:"Plot Count",field:r=>r.plot_count}]);return(r,n)=>{const i=Ne,c=rt;return f(),x("div",null,[y("div",null,[y("div",kc,[a(i,null,{default:s(()=>[q(g(t.data.name),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(c,{rows:o(l),data:t.data},null,8,["rows","data"])]),_:1})])])}}},$c={class:"q-pt-sm q-gutter-y-sm"},qc={__name:"FarmerPlotNFTsIndex",setup(t){const{data:e}=qt(),l=v(()=>e.value?.pool_info??[]);return(r,n)=>(f(),b(P,{flat:"",style:{"background-color":"transparent"}},{default:s(()=>[a(o(Qt)),y("div",$c,[(f(!0),x(D,null,re(o(l),i=>(f(),b(Sc,{key:i,address:i[0],data:i[1]},null,8,["address","data"]))),128)),o(l)&&!o(l).length?(f(),x(D,{key:0},[a(Yt,{rounded:""},{avatar:s(()=>[a($e,{name:o(zl),color:"warning"},null,8,["name"])]),default:s(()=>[n[0]||(n[0]=q(" No NFT plots found "))]),_:1}),a(Yt,{rounded:""},{avatar:s(()=>[a($e,{name:o(Pa),color:"info"},null,8,["name"])]),default:s(()=>[n[1]||(n[1]=q(" Need to create a PlotNFT in Wallet first to plot NFT plots "))]),_:1})],64)):E("",!0)])]),_:1}))}},Tc=Object.freeze(Object.defineProperty({__proto__:null,default:qc},Symbol.toStringTag,{value:"Module"})),Vc={__name:"FarmerBlocksIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("farmer_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"TX",field:"tx_count",headerStyle:"width: 7%"},{label:"K",field:"ksize",headerStyle:"width: 7%"},{label:l("farmer_blocks.score"),field:"score",headerStyle:"width: 7%"},{label:l("farmer_blocks.reward"),field:c=>c.reward_amount.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.tx_fees"),field:c=>c.tx_fees.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),align:"left"}]),{rows:n,loading:i}=Fs(e);return(c,u)=>{const _=le("RouterLink");return f(),b(P,{flat:""},{default:s(()=>[a(o(Qt)),a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":s(d=>[a(F,{props:d},{default:s(()=>[a(_,{to:`/explore/block/height/${d.value}`,class:"text-primary"},{default:s(()=>[q(g(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(d=>[a(F,{props:d},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(d))},g(d.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})}}},Cc=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"})),Rc={__name:"FarmerProofsIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:"VDF height",field:"vdf_height",headerStyle:"width: 7%"},{label:l("farmer_proofs.harvester"),field:"harvester",headerStyle:"width: 7%",align:"left"},{label:l("farmer_proofs.score"),field:c=>c.proof.score,headerStyle:"width: 7%"},{label:l("farmer_proofs.sdiff"),field:c=>c.proof.difficulty,headerStyle:"width: 7%"},{label:l("farmer_proofs.time"),field:"lookup_time_ms",headerStyle:"width: 7%",format:c=>(c/1e3).toFixed(3)},{label:l("farmer_proofs.plot_id"),field:c=>c.proof?.plot_id,align:"left",classes:"mono"}]),{rows:n,loading:i}=Ps(e);return(c,u)=>{const _=le("RouterLink");return f(),b(P,{flat:""},{default:s(()=>[a(o(Qt)),a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":s(d=>[a(F,{props:d},{default:s(()=>[a(_,{to:`/explore/block/height/${d.value}`,class:"text-primary"},{default:s(()=>[q(g(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})}}},Lc=Object.freeze(Object.defineProperty({__proto__:null,default:Rc},Symbol.toStringTag,{value:"Module"})),Oc={__name:"ExploreSearchBar",setup(t){const e=ot(),l=xt(),r=v(()=>l.params.height||l.params.hash||l.params.transactionId||l.params.address||l.params.farmerKey||""),n=L(r.value),i=L(!1);_e(()=>n.value=r.value);const c=Ws(),u=()=>{const _=/[0-9A-Fa-f]{64}/g,d=/^\d+$/;i.value=!1,n.value&&(n.value.startsWith("mmx1")?e.push("/explore/address/"+n.value):_.test(n.value)?n.value.length==64?c.mutate({hash:n.value},{onSettled:m=>{m?e.push("/explore/block/hash/"+n.value):e.push("/explore/transaction/"+n.value)}}):n.value.length==66?e.push("/explore/farmer/"+n.value):i.value=!0:d.test(n.value)?e.push("/explore/block/height/"+n.value):i.value=!0)};return(_,d)=>(f(),b(N,{modelValue:o(n),"onUpdate:modelValue":d[0]||(d[0]=m=>z(n)?n.value=m:null),placeholder:_.$t("explore_menu.placeholder"),error:o(i),"hide-bottom-space":"",outlined:"",onKeyup:El(u,["enter"])},{append:s(()=>[a($e,{name:o(Aa),onClick:u},null,8,["name"])]),_:1},8,["modelValue","placeholder","error"]))}};class Fc{constructor(){this.queryClient=G(),this.router=ot()}path(e){if(e){const l=this.router.resolve(e);l.meta?.prefetcher&&l.meta.prefetcher(this.queryClient,l)}return e}}const Ic=()=>new Fc,Pc={__name:"ExploreMenu",setup(t){const e=Ic(),l=i=>{e.path("/explore/farmers")},{t:r}=W(),n=v(()=>[{to:"/explore/blocks",label:r("explore_menu.blocks")},{to:"/explore/transactions",label:r("explore_menu.transactions")},{to:"/explore/farmers",label:r("explore_menu.farmers"),prefetcher:l}]);return(i,c)=>(f(),b(tt,{align:"left","indicator-color":"primary"},{default:s(()=>[a(We,{class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(n),(u,_)=>(f(),b(Qe,{key:_,to:u.to,label:u.label,icon:u.icon,onClick:u.click,onMouseover:d=>u.prefetcher&&u.prefetcher(u.to)},null,8,["to","label","icon","onClick","onMouseover"]))),128))]),_:1})]),_:1}))}},Ac={class:"q-gutter-y-sm"},Ec={__name:"index",setup(t){const e=xt();return(l,r)=>{const n=Pe;return f(),b(lt,{padding:""},{default:s(()=>[y("div",Ac,[a(o(Oc)),a(P,{flat:""},{default:s(()=>[a(o(Pc)),a(n,{show:!!o(e).meta.indexPage},null,8,["show"])]),_:1}),a(n,{show:!o(e).meta.indexPage},null,8,["show"])])]),_:1})}}},Dc=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"})),jc={class:"q-gutter-y-sm"},Wc={class:"row q-gutter-x-none"},Mc={__name:"BlockView",props:{hash:{type:String,required:!1},height:{type:Number,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("block_view.height"),field:"height"},{label:l("block_view.hash"),field:"hash",classes:"mono"},{label:l("block_view.previous"),field:"prev",classes:"mono"},{label:l("block_view.time"),field:"time_stamp",format:p=>new Date(p).toLocaleString()},{label:"Reward Address",field:p=>p.reward_addr,to:p=>`/explore/address/${p.reward_addr}`,classes:"mono",visible:p=>p.reward_addr},{label:"Reward Contract",field:p=>p.reward_contract,to:p=>`/explore/address/${p.reward_contract}`,classes:"mono",visible:p=>p.reward_contract},{label:"Farmer Address",field:p=>p.reward_account,to:p=>`/explore/address/${p.reward_account}`,classes:"mono",visible:p=>p.reward_account},{label:"Block Reward",field:p=>p.reward_amount.value,classes:"main-currency"},{label:"TX Fees",field:p=>p.tx_fees.value,classes:"main-currency"},{label:l("block_view.tx_count"),field:p=>p.tx_count},{label:l("block_view.time_diff"),field:"time_diff"},{label:l("block_view.space_diff"),field:p=>p,format:p=>`${p.space_diff}${p.is_space_fork?"(updated)":""}`},{label:"Reward Vote",field:"reward_vote"},{label:"Reward Vote Sum",field:p=>p,format:p=>`${p.reward_vote_sum} / ${p.reward_vote_count} (${(p.reward_vote_count/(p.height%8640+1)*100).toFixed(1)} %)`},{label:"Base Reward",field:p=>p.base_reward.value,classes:"main-currency"},{label:"Avg. TX Fee",field:p=>p.average_txfee.value,classes:"main-currency"},{label:"VDF Height",field:"vdf_height"},{label:"VDF Count",field:"vdf_count"},{label:l("block_view.vdf_iterations"),field:"vdf_iters"},{name:"vdf_reward_addr",label:"Timelord",field:p=>p.vdf_reward_addr},{label:"Timelord Reward",field:"vdf_reward_payout",to:p=>`/explore/address/${p.vdf_reward_payout}`,visible:p=>p.vdf_reward_payout,classes:"mono"},{label:l("block_view.k_size"),field:p=>p.ksize},{label:l("block_view.proof_score"),field:p=>p.score},{label:"No. Proofs",field:p=>p.proof.length},{label:"Space Fork",field:p=>p,format:p=>`${p.space_fork_proofs} / ${p.space_fork_len}`},{label:l("block_view.plot_id"),field:p=>p.proof[0].plot_id,visible:p=>p.proof[0],classes:"mono"},{label:"Challenge",field:p=>p.proof[0].challenge,visible:p=>p.proof[0]},{label:l("block_view.farmer_key"),field:p=>p.farmer_key,to:p=>`/explore/farmer/${p.farmer_key}`,classes:"mono"}]),n=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("block_view.inputs"),field:p=>p.inputs.length+(p.exec_result?p.exec_result.inputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.outputs"),field:p=>p.outputs.length+(p.exec_result?p.exec_result.outputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.operations"),field:p=>p.execute.length,headerStyle:"width: 7%"},{name:"id",label:l("block_view.transaction_id"),field:p=>p.id,align:"left"}]),{data:i,loading:c,noData:u}=Ds(e),_=v(()=>e.height??i.value?.height??null),d=v(()=>i?.value?`/explore/block/hash/${i.value.prev}`:e.height!=null?`/explore/block/height/${e.height-1}`:null),m=v(()=>i?.value?`/explore/block/height/${i.value.height+1}`:e.height!=null?`/explore/block/height/${e.height+1}`:null);return(p,h)=>{const w=Ne,k=Tt,T=le("RouterLink"),S=rt;return f(),x("div",jc,[y("div",null,[y("div",Wc,[a(w,null,{default:s(()=>[q(g(p.$t("block_view.block")),1)]),_:1}),a(w,null,{default:s(()=>[q(g(o(_)),1)]),_:1}),o(u)?E("",!0):(f(),b(w,{key:0},{default:s(()=>[q(g(o(i)?.hash),1)]),_:1})),a(Dl),a(da,{rounded:""},{default:s(()=>[a(j,{to:o(d),icon:o(Ea),outline:"",disable:o(_)<=0},null,8,["to","icon","disable"]),a(j,{to:o(m),"icon-right":o(Da),outline:"",disable1:o(u)},null,8,["to","icon-right","disable1"])]),_:1})]),a(P,{flat:""},{default:s(()=>[o(u)?(f(),b(k,{key:0,icon:o(ja),title:p.$t("block_view.no_such_block")},null,8,["icon","title"])):(f(),b(S,{key:1,rows:o(r),data:o(i),loading:o(c)},{"value-vdf_reward_addr":s(({item:V})=>[(f(!0),x(D,null,re(V.value,($,O)=>(f(),x("div",{key:$},[y("span",null,"["+g(O)+"] ",1),a(T,{to:`/explore/address/${$}`,class:"text-primary mono"},{default:s(()=>[q(g($),1)]),_:2},1032,["to"])]))),128))]),_:1},8,["rows","data","loading"]))]),_:1})]),o(i)&&o(i).tx_list.length?(f(),b(te,{key:0,rows:o(i).tx_list,columns:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-index":s(V=>[a(F,{props:V},{default:s(()=>[q(" TX["+g(V.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-id":s(V=>[a(F,{props:V},{default:s(()=>[a(T,{to:`/explore/transaction/${V.value}`,class:"text-primary mono"},{default:s(()=>[q(g(V.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):E("",!0)])}}},Ll=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"})),Bc={__name:"TransactionsIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("explore_transactions.height"),field:"height",headerStyle:"width: 7%"},{label:l("explore_transactions.type"),field:"note",headerStyle:"width: 10%"},{label:l("explore_transactions.fee"),field:c=>c.fee.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("explore_transactions.n_in"),field:c=>c.inputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_out"),field:c=>c.outputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_op"),field:c=>c.operations.length,headerStyle:"width: 5%"},{name:"id",label:l("explore_transactions.transaction_id"),field:"id"},{label:l("account_tx_history.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),align:"left"}]),{rows:n,loading:i}=Bs(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(P,{flat:""},{default:s(()=>[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-id":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(g(("getShortHash"in c?c.getShortHash:o(Mt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(F,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Nc=Object.freeze(Object.defineProperty({__proto__:null,default:Bc},Symbol.toStringTag,{value:"Module"})),Ol={__name:"InputOutputTable",props:{rows:{type:Object,required:!0},isInput:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=e.isInput?l("transaction_view.input"):l("transaction_view.output"),n=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("transaction_view.amount"),field:i=>i.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("transaction_view.token"),field:i=>i.symbol,headerStyle:"width: 7%"},{name:"address",label:l("transaction_view.address"),field:i=>i.address,align:"left"},{label:"Memo",field:i=>i.memo,headerStyle:"width: 50%",align:"left"}]);return(i,c)=>{const u=de,_=le("RouterLink");return t.rows.length>0?(f(),b(te,{key:0,rows:t.rows,columns:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":s(d=>[a(F,{props:d},{default:s(()=>[q(g(o(r))+"["+g(d.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-token":s(d=>[a(F,{props:d},{default:s(()=>[d.row.is_native?(f(),x(D,{key:0},[q(g(d.value),1)],64)):(f(),b(_,{key:1,to:`/explore/address/${d.row.contract}`,class:"text-primary"},{default:s(()=>[q(g(d.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":s(d=>[a(F,{props:d},{default:s(()=>[a(_,{to:`/explore/address/${d.value}`,class:"text-primary mono"},{default:s(()=>[q(g(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:s(d=>[a(u,{props:d,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns"])):E("",!0)}}},Uc={class:"q-gutter-y-sm"},Kc={class:"row q-gutter-x-none"},Qc={class:"row q-gutter-x-none"},zc={key:0},Hc={class:"row q-gutter-x-none"},Xc={__name:"index",props:{transactionId:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("transaction_view.height"),field:"height",to:u=>u.height!=null?`/explore/block/height/${u.height}`:null,format:u=>u??l("common.pending"),classes:u=>u.height==null?"text-italic":""},{label:l("transaction_view.message"),field:"message",visible:u=>u.did_fail},{label:l("transaction_view.confirmed"),field:"confirm",visible:u=>u.confirm},{label:l("transaction_view.expires"),field:"expires",visible:u=>u.expires<4294967295},{label:l("transaction_view.note"),field:"note"},{label:l("transaction_view.time"),field:"time_stamp",format:u=>new Date(u).toLocaleString(),visible:u=>u.time},{label:l("transaction_view.address"),field:"address",to:u=>`/explore/address/${u.address}`,visible:u=>u.deployed,classes:"mono"},{label:l("transaction_view.sender"),field:"sender",to:u=>`/explore/address/${u.sender}`,visible:u=>u.sender,classes:"mono"},{label:l("transaction_view.cost"),field:u=>u.cost.value,classes:"main-currency"},{label:l("transaction_view.fee"),field:u=>u.fee.value,classes:"main-currency"}]),{data:n,loading:i,noData:c}=Us(I({id:A(()=>e.transactionId)}));return(u,_)=>{const d=Ne,m=Tt,p=rt,h=Nt;return f(),x("div",Uc,[y("div",null,[y("div",Kc,[a(d,null,{default:s(()=>[q(g(u.$t("transaction_view.transaction")),1)]),_:1}),a(d,null,{default:s(()=>[q(g(t.transactionId),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[o(c)?(f(),b(m,{key:0,icon:o(Wa),title:u.$t("transaction_view.no_such_transaction")},null,8,["icon","title"])):(f(),b(p,{key:1,rows:o(r),data:o(n),loading:o(i)},null,8,["rows","data","loading"]))]),_:1})]),o(n)?(f(),x(D,{key:0},[a(P,{flat:""},{default:s(()=>[a(Ol,{rows:o(n).inputs,"is-input":"",loading:o(i)},null,8,["rows","loading"])]),_:1}),a(P,{flat:""},{default:s(()=>[a(Ol,{rows:o(n).outputs,"is-input":!1,loading:o(i)},null,8,["rows","loading"])]),_:1}),(f(!0),x(D,null,re(o(n).operations,(w,k)=>(f(),x("div",{key:k},[y("div",Qc,[a(d,null,{default:s(()=>[q(" Operation["+g(k)+"] ",1)]),_:2},1024),a(d,null,{default:s(()=>[q(g(w.__type),1)]),_:2},1024)]),a(P,{flat:""},{default:s(()=>[a(h,{data:w},null,8,["data"])]),_:2},1024)]))),128)),o(n).deployed?(f(),x("div",zc,[y("div",Hc,[a(d,null,{default:s(()=>[q(g(o(n).deployed.__type),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(h,{data:o(n).deployed},null,8,["data"])]),_:1})])):E("",!0)],64)):E("",!0)])}}},Gc=Object.freeze(Object.defineProperty({__proto__:null,default:Xc},Symbol.toStringTag,{value:"Module"})),Jc={key:0},Yc={class:"prevent-select"},Zc={style:{"font-size":"0px"}},em={__name:"FarmersIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"place",headerStyle:"width: 5%",align:"center"},{label:l("explore_farmers.no_blocks"),field:"block_count",headerStyle:"width: 5%"},{name:"farmer_key",label:l("explore_farmers.farmer_key"),field:"farmer_key",align:"left"}]),{rows:n,loading:i}=Ks(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(P,{flat:""},{default:s(()=>[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-farmer_key":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/farmer/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-place":s(m=>[a(F,{props:m},{default:s(()=>[m.rowIndex<3?(f(),x("span",Jc,[y("span",Yc,g(["🥇","🥈","🥉"][m.rowIndex]),1),y("span",Zc,g(m.rowIndex+1),1)])):(f(),x(D,{key:1},[q(g(m.rowIndex+1),1)],64))]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},tm=fe(em,[["__scopeId","data-v-30fd88b1"]]),lm=Object.freeze(Object.defineProperty({__proto__:null,default:tm},Symbol.toStringTag,{value:"Module"})),om={class:"q-gutter-y-sm"},am={class:"row q-gutter-x-none"},nm={__name:"FarmerView",props:{farmerKey:{type:String,required:!0},limit:{type:Number,required:!1,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:"No. Blocks",field:"block_count"},{label:"Total Rewards",field:"total_reward_value",classes:"main-currency"}]),n=v(()=>[{label:"Reward",field:"value",headerClasses:"key-cell"},{label:"",field:()=>"MMX",headerStyle:"width: 7%",align:"left"},{name:"address",label:l("transaction_view.address"),field:"address",align:"left"}]),{data:i,loading:c}=Hs(I({id:A(()=>e.farmerKey)})),{rows:u,loading:_}=Gs(I({id:A(()=>e.farmerKey),limit:A(()=>e.limit)}));return(d,m)=>{const p=Ne,h=rt,w=de,k=le("RouterLink"),T=qo;return f(),x("div",om,[y("div",null,[y("div",am,[a(p,null,{default:s(()=>m[0]||(m[0]=[q("Farmer")])),_:1}),a(p,null,{default:s(()=>[q(g(t.farmerKey),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(h,{rows:o(r),data:o(i),loading:o(c)},null,8,["rows","data","loading"])]),_:1})]),a(P,{flat:""},{default:s(()=>[a(te,{rows:o(i)?o(i).rewards:[],columns:o(n),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-address":s(S=>[a(F,{props:S},{default:s(()=>[a(k,{to:`/explore/address/${S.value}`,class:"text-primary mono"},{default:s(()=>[q(g(S.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:s(S=>[a(w,{props:S,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1}),a(P,{flat:""},{default:s(()=>[a(T,{rows:o(u),loading:o(_),class:"q-py-sm"},null,8,["rows","loading"])]),_:1})])}}},sm=Object.freeze(Object.defineProperty({__proto__:null,default:nm},Symbol.toStringTag,{value:"Module"})),rm={__name:"AddressHistoryTable",props:{address:{type:String,required:!0},limit:{type:Number,default:100,required:!1},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("address_history_table.height"),field:"height",headerStyle:"width: 7%"},{label:l("address_history_table.type"),field:"type",headerStyle:"width: 7%",classes:c=>Lt(c.type)},{label:l("address_history_table.amount"),field:c=>c?.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("address_history_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"txid",label:"Transaction ID",field:"txid",headerStyle:"width: 20%"},{label:"Memo",field:"memo",style:"word-break: break-all",align:"left"},{label:l("address_history_table.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 12%",classes:"text-no-wrap",align:"left"}]),{rows:n,loading:i}=er(I({limit:A(()=>e.limit),id:A(()=>e.address)}));return(c,u)=>{const _=de,d=le("RouterLink"),m=Ro;return o(i)||!o(i)&&(o(n)?.length||t.showEmpty)?(f(),b(te,{key:0,rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":s(p=>[a(F,{props:p},{default:s(()=>[a(d,{to:`/explore/block/height/${p.value}`,class:"text-primary"},{default:s(()=>[q(g(p.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-token":s(p=>[a(F,{props:p},{default:s(()=>[p.row.is_native?(f(),x(D,{key:0},[q(g(p.row.is_nft?"[NFT]":p.value),1)],64)):(f(),b(d,{key:1,to:`/explore/address/${p.row.contract}`,class:"text-primary mono"},{default:s(()=>[q(g(p.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-txid":s(p=>[a(F,{props:p},{default:s(()=>[a(m,{id:p.value,type:p.row.type,class:"text-primary mono"},{default:s(()=>[q(g(("getShortHash"in c?c.getShortHash:o(Mt))(p.value)),1)]),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(p=>[a(_,{props:p,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):E("",!0)}}},im={class:"q-gutter-y-sm"},um={class:"row q-gutter-x-none"},dm={key:0},cm={__name:"AddressView",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l}=Ys(I({id:A(()=>e.address)})),{noData:r}=ho(I({id:A(()=>e.address)}));return(n,i)=>{const c=Ne,u=_l,_=Nt,d=rm,m=Tt;return f(),x("div",im,[y("div",null,[y("div",um,[a(c,null,{default:s(()=>[q(g(n.$t("common.address")),1)]),_:1}),a(c,{copy:""},{default:s(()=>[q(g(t.address),1)]),_:1})]),o(r)?E("",!0):(f(),b(P,{key:0,flat:""},{default:s(()=>[a(u,{address:t.address,"show-empty":""},null,8,["address"])]),_:1}))]),o(l)?(f(),x("div",dm,[a(c,null,{default:s(()=>[q(g(o(l).__type),1)]),_:1}),a(P,{flat:""},{default:s(()=>[a(_,{data:o(l)},null,8,["data"])]),_:1})])):E("",!0),o(r)?E("",!0):(f(),b(P,{key:1,flat:""},{default:s(()=>[a(d,{address:t.address,limit:200,"show-empty":!1},null,8,["address"])]),_:1})),o(r)?(f(),b(m,{key:2,icon:o(Ma),title:"Invalid address"},null,8,["icon"])):E("",!0)])}}},mm=Object.freeze(Object.defineProperty({__proto__:null,default:cm},Symbol.toStringTag,{value:"Module"})),fl=()=>{const t=Te(),{market:e}=Dt(t),{menu:l}=ut(e.value),{bid:r,ask:n}=ut(l.value);return{bid:r,ask:n}},Ge=()=>{const t=Te(),{activeWalletIndex:e}=Dt(t);return{activeWalletIndex:e}},_m={__name:"MarketPageMenu",setup(t){const{bid:e,ask:l}=fl(),{activeWalletIndex:r}=Ge();return(n,i)=>{const c=pl,u=Kt;return f(),x(D,null,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(c,{modelValue:o(r),"onUpdate:modelValue":i[0]||(i[0]=_=>z(r)?r.value=_:null),label:n.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(u,{modelValue:o(e),"onUpdate:modelValue":i[1]||(i[1]=_=>z(e)?e.value=_:null),label:n.$t("market_menu.they_offer"),clearable:o(e)!==null,"null-item":"","null-label":n.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"]),a(u,{modelValue:o(l),"onUpdate:modelValue":i[2]||(i[2]=_=>z(l)?l.value=_:null),label:n.$t("market_menu.they_ask"),clearable:o(l)!==null,"null-item":"","null-label":n.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})],64)}}},pm={class:"q-gutter-y-sm"},fm={__name:"index",setup(t){return(e,l)=>{const r=Pe;return f(),b(lt,{padding:""},{default:s(()=>[y("div",pm,[a(_m),a(P,{flat:""},{default:s(()=>[a(tt,{align:"left","indicator-color":"primary",class:"m-bg-grey"},{default:s(()=>[a(Qe,{to:"/market/offers",label:e.$t("market_menu.offers")},null,8,["label"]),a(Qe,{to:"/market/history",label:e.$t("market_menu.history")},null,8,["label"])]),_:1}),a(r)]),_:1})])]),_:1})}}},ym=Object.freeze(Object.defineProperty({__proto__:null,default:fm},Symbol.toStringTag,{value:"Module"})),hm={class:"row"},bm={key:0,class:"text-orange mono"},gm={__name:"MarketPageOffers",setup(t){const e=L(null),{t:l}=W(),r=v(()=>[{label:l("market_offers.they_offer"),field:"bid_balance_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:k=>({symbol:k.bid_symbol,currency:k.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.they_ask"),field:k=>k.bid_balance_value*k.display_price,format:k=>parseFloat(k.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:k=>({symbol:k.ask_symbol,currency:k.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.price"),field:k=>1/k.display_price,format:k=>parseFloat(k.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:k=>({symbol1:k.bid_symbol,symbol2:k.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.time"),field:"time_stamp",format:k=>new Date(k).toLocaleString(),headerStyle:"width: 12%",align:"left"},{name:"address",field:"address",headerStyle:"width: 1%"},{name:"actions",align:"right"}]),{bid:n,ask:i}=fl(),{activeWalletIndex:c}=Ge(),{rows:u}=_t(),{rows:_,loading:d}=nr(I({bid:A(()=>n.value?.value),ask:A(()=>i.value?.value),min_bid:v(()=>n.value?.value&&e.value?e.value*Math.pow(10,n.value.decimals):null),limit:200})),m=et(),p=k=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>yf),void 0,import.meta.url)),componentProps:{index:c.value,offer:k}})},h=L(new Set),w=k=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>qf),void 0,import.meta.url)),componentProps:{index:c.value,offer:k}}).onOk(()=>{h.value.add(k.address)})};return(k,T)=>{const S=de,V=le("RouterLink");return f(),x("div",null,[o(n)?.value?(f(),b(P,{key:0,class:"q-my-xs",flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",hm,[a(N,{modelValue:o(e),"onUpdate:modelValue":T[0]||(T[0]=$=>z(e)?e.value=$:null),modelModifiers:{number:!0},debounce:200,suffix:o(n).label,label:"Minimum Offer",rules:[o(Y).amount],"input-class":"amount-input",clearable:o(e)!=null,class:"col-2"},null,8,["modelValue","suffix","rules","clearable"])])]),_:1})]),_:1})):E("",!0),a(te,{rows:o(_),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s($=>[a(F,{props:$},{default:s(()=>[$.value.symbol=="MMX"?(f(),x(D,{key:0},[q(g($.value.symbol),1)],64)):(f(),b(V,{key:1,to:`/explore/address/${$.value.currency}`,class:"text-primary"},{default:s(()=>[q(g($.value.symbol)+" ",1),o(u).some(O=>O.currency==$.value.currency)?E("",!0):(f(),x("span",bm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s($=>[a(F,{props:$},{default:s(()=>[y("span",null,g($.value.symbol1)+" / "+g($.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-address":s($=>[a(F,{props:$},{default:s(()=>[a(V,{to:`/explore/address/${$.value}`,class:"text-primary"},{default:s(()=>T[1]||(T[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":s($=>[a(F,{props:$,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(l)("market_offers.trade"),_icon:o(rl),outline:"",onClick:O=>p($.row)},null,8,["label","_icon","onClick"]),a(j,{label:o(l)("common.accept"),_icon:o(Ba),color:"positive",outline:"",disable:o(h).has($.row.address),onClick:O=>w($.row)},null,8,["label","_icon","disable","onClick"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:s($=>[a(S,{props:$,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},vm=fe(gm,[["__scopeId","data-v-cd0ebac4"]]),wm=Object.freeze(Object.defineProperty({__proto__:null,default:vm},Symbol.toStringTag,{value:"Module"})),xm={key:0,class:"text-orange mono"},km={__name:"MarketPageHistory",setup(t){const{t:e}=W(),l=v(()=>[{label:e("market_offers.they_offer"),field:"bid_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.bid_symbol,currency:_.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.they_ask"),field:"ask_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.ask_symbol,currency:_.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.price"),field:_=>1/_.display_price,format:_=>parseFloat(_.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.bid_symbol,symbol2:_.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.time"),field:"time_stamp",format:_=>new Date(_).toLocaleString(),headerStyle:"width: 4%",align:"left"},{name:"offer",field:"address",headerStyle:"width: 3%"},{name:"txid",field:"txid",align:"left"}]),{bid:r,ask:n}=fl(),{rows:i}=_t(),{rows:c,loading:u}=rr(I({bid:A(()=>r.value?.value),ask:A(()=>n.value?.value),limit:200}));return(_,d)=>{const m=de,p=le("RouterLink");return f(),b(te,{rows:o(c),columns:o(l),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(h=>[a(F,{props:h},{default:s(()=>[h.value.symbol=="MMX"?(f(),x(D,{key:0},[q(g(h.value.symbol),1)],64)):(f(),b(p,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:s(()=>[q(g(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?E("",!0):(f(),x("span",xm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(h=>[a(F,{props:h},{default:s(()=>[y("span",null,g(h.value.symbol1)+" / "+g(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-offer":s(h=>[a(F,{props:h},{default:s(()=>[a(p,{to:`/explore/address/${h.value}`,class:"text-primary"},{default:s(()=>d[0]||(d[0]=[q("Offer")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":s(h=>[a(F,{props:h},{default:s(()=>[a(p,{to:`/explore/transaction/${h.value}`,class:"text-primary"},{default:s(()=>d[1]||(d[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(m,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:km},Symbol.toStringTag,{value:"Module"})),yl=()=>{const t=Te(),{swap:e}=Dt(t),{menu:l}=ut(e.value),{token:r,currency:n}=ut(l.value);return{token:r,currency:n}},$m={class:"q-gutter-y-sm"},qm={__name:"index",setup(t){yl();const{activeWalletIndex:e}=Ge();return(l,r)=>{const n=pl,i=Pe;return f(),b(lt,{padding:""},{default:s(()=>[y("div",$m,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(n,{modelValue:o(e),"onUpdate:modelValue":r[0]||(r[0]=c=>z(e)?e.value=c:null),label:l.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(i)])]),_:1})}}},Tm=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"})),Vm={class:"q-gutter-y-sm"},Cm={__name:"SwapListMenu",setup(t){const{token:e,currency:l}=yl();return Ge(),(r,n)=>{const i=Kt;return f(),x("div",Vm,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(i,{modelValue:o(e),"onUpdate:modelValue":n[0]||(n[0]=c=>z(e)?e.value=c:null),label:r.$t("common.token"),clearable:o(e)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"]),a(i,{modelValue:o(l),"onUpdate:modelValue":n[1]||(n[1]=c=>z(l)?l.value=c:null),label:r.$t("common.currency"),clearable:o(l)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},Rm={class:"q-gutter-y-sm"},Lm={key:0,class:"text-orange mono"},Om={__name:"index",setup(t){const{token:e,currency:l}=yl();Ge();const{t:r}=W(),n=v(()=>[{label:r("common.name"),field:"name",headerStyle:"width: 15%"},{name:"symbol",label:r("common.token"),field:_=>({symbol:_.symbols[0],currency:_.tokens[0]}),headerStyle:"width: 5%"},{name:"symbol",label:r("common.currency"),field:_=>({symbol:_.symbols[1],currency:_.tokens[1]}),headerStyle:"width: 5%"},{label:r("common.price"),field:"price",format:_=>_?parseFloat(_.toPrecision(6)):"N/A",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.symbols[1],symbol2:_.symbols[0]}),headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[0].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 12%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[0],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[1].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[1],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"actions",align:"right"}]),{rows:i}=_t(),{rows:c,loading:u}=cr(I({token:e,currency:l,limit:200}));return(_,d)=>{const m=de,p=le("RouterLink");return f(),x("div",Rm,[a(Cm),a(te,{rows:o(c),columns:o(n),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(h=>[a(F,{props:h},{default:s(()=>[h.value.symbol=="MMX"?(f(),x(D,{key:0},[q(g(h.value.symbol),1)],64)):(f(),b(p,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:s(()=>[q(g(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?E("",!0):(f(),x("span",Lm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(h=>[a(F,{props:h},{default:s(()=>[y("span",null,g(h.value.symbol1)+" / "+g(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-actions":s(h=>[a(F,{props:h,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(r)("swap.swap"),outline:"",to:`/swap/${h.row.address}`},null,8,["label","to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(m,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Fm=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"})),Im={__name:"SwapViewMenu",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{to:`/swap/${e.address}/trade`,label:l("swap.trade")},{to:`/swap/${e.address}/history`,label:l("swap.history")},{to:`/swap/${e.address}/liquid`,label:l("swap.my_liquidity")},{to:`/swap/${e.address}/pool`,label:l("swap.pool_state")}]);return(n,i)=>(f(),b(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(r),(c,u)=>(f(),b(Qe,{key:u,to:c.to,label:c.label},null,8,["to","label"]))),128))]),_:1}))}},Pm={class:"q-gutter-y-sm"},Am={class:"row q-gutter-x-none"},Em={key:0,class:"text-orange mono"},Dm={key:0},jm={key:1},Wm={__name:"index",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{field:"name",headerStyle:"width: 5%",classes:"key-cell m-bg-grey"},{label:l("swap.pool_balance"),field:"balance",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.24h")})`,field:"volume_1d",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.7d")})`,field:"volume_7d",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.apy")} (${l("swap.24h")})`,field:"avg_apy_1d",format:d=>(d*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"},{label:`${l("swap.apy")} (${l("swap.7d")})`,field:"avg_apy_7d",format:d=>(d*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"}]),{rows:n}=_t(),{data:i,loading:c,noData:u}=Wt(I({id:A(()=>e.address)})),_=v(()=>{if(!i.value)return[];const{balance:d,symbols:m,tokens:p,volume_1d:h,volume_7d:w,avg_apy_1d:k,avg_apy_7d:T}=i.value,S=[{name:l("common.token")},{name:l("common.currency")}];return S.map((V,$)=>{Object.assign(V,{balance:d[$].value,symbol:m[$],token:p[$],volume_1d:h[$].value,volume_7d:w[$].value,avg_apy_1d:k[$],avg_apy_7d:T[$]})}),S});return(d,m)=>{const p=Ne,h=de,w=le("RouterLink"),k=Pe,T=Tt;return f(),x("div",Pm,[y("div",null,[y("div",Am,[a(p,null,{default:s(()=>[q(g(d.$t("swap.swap")),1)]),_:1}),o(i)?(f(),b(p,{key:0},{default:s(()=>[q(g(o(i).price?parseFloat(o(i).price.toPrecision(6)):"N/A")+" "+g(o(i).symbols[1])+" / "+g(o(i).symbols[0]),1)]),_:1})):E("",!0),a(p,null,{default:s(()=>[q(g(t.address),1)]),_:1})]),a(te,{rows:o(_),columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(S=>[a(F,{props:S},{default:s(()=>[S.value.symbol=="MMX"||S.value.link==!1?(f(),x(D,{key:0},[q(g(S.value.symbol),1)],64)):(f(),b(w,{key:1,to:`/explore/address/${S.value.currency}`,class:"text-primary"},{default:s(()=>[q(g(S.value.symbol)+" ",1),o(n).some(V=>V.currency==S.value.currency)?E("",!0):(f(),x("span",Em,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(S=>[a(F,{props:S},{default:s(()=>[y("span",null,g(S.value.symbol1)+" / "+g(S.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell":s(S=>[a(F,{props:S},{default:s(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(S))},g(S.value),3)]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:s(S=>[a(h,{props:S,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),o(u)?(f(),x("div",jm,[a(T,{title:"No such swap",icon:o(rl)},null,8,["icon"])])):(f(),x("div",Dm,[a(Im,{address:t.address},null,8,["address"]),a(k,{address:t.address},null,8,["address"])]))])}}},Mm=Object.freeze(Object.defineProperty({__proto__:null,default:Wm},Symbol.toStringTag,{value:"Module"})),Bm={__name:"SlippageSelect",setup(t){const e=[{label:"0.5 %",value:.995},{label:"1 %",value:.99},{label:"2 %",value:.98},{label:"5 %",value:.95},{label:"10 %",value:.9}];return(l,r)=>(f(),b(ge,Ie(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Max Slippage"}),null,16))}},Nm={__name:"IterSelect",setup(t){const e=[1,5,20,100];return(l,r)=>(f(),b(ge,Ie(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Iterations"}),null,16))}},Um={class:"row justify-end q-col-gutter-x-md"},Km={class:"row justify-end q-col-gutter-x-md"},Qm={class:"row justify-end q-col-gutter-x-md"},zm={class:"row justify-end q-col-gutter-x-md"},Hm={class:"row"},Xm={class:"col"},Gm={class:"col-11"},Jm={class:"row justify-end q-gutter-x-sm"},Fl={__name:"index",props:{address:{type:String,required:!0},buyForm:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{activeWalletIndex:l}=Ge(),r=v(()=>e.buyForm?1:0),n=v(()=>e.buyForm?0:1),i={amount:null,numIter:5,slippage:.98,feeRatio:null},c=L(null),u=I({...i}),{promptPassphrase:_,isLocked:d}=xe(I({index:l})),{isValid:m,isValidConfirmedUnlocked:p}=Le(c,d),h=I({id:A(()=>e.address),index:A(()=>r.value),amount:A(()=>u.amount),iters:A(()=>u.numIter)}),{data:w}=hr(h,m),k=v(()=>w.value?.fee_percent.toFixed(2)),T=v(()=>{const ee=w.value?.avg_price;return ee?parseFloat((r.value===1?1/ee:ee).toPrecision(6)):null}),S=v(()=>w.value?.trade.value),V=v(()=>({wallet:l.value,address:e.address,index:r.value,amount:u.amount,min_trade:u.slippage*S.value,num_iter:u.numIter,options:{fee_ratio:u.feeRatio}})),{data:$}=Wt(I({id:A(()=>e.address)})),{data:O}=je(I({index:l,currency:A(()=>$.value?.tokens[r.value])}),ee=>ee?ee.spendable:0,()=>!!$.value?.tokens[r.value]),H=ee=>ee<=O.value||"Insufficient funds",{data:K,isLoading:Q,latestError:ae}=es(V,p),me=Kn(),Z=async()=>{const ee=await _(),oe={...V.value,options:{...V.value.options,passphrase:ee}};await me.mutateAsync(oe)};return(ee,oe)=>{const M=Re,ie=De,ke=Ce,ft=Ee,yt=Ae,ht=Ve;return f(),x("div",null,[a(P,{flat:""},{default:s(()=>[a(ht,{ref_key:"formRef",ref:c,data:o(u),"default-data":i,onSubmit:Z},{default:s(()=>[a(We,{class:se([{"bg-green":t.buyForm,"bg-red":!t.buyForm},"text-white"])},null,8,["class"]),a(B,null,{default:s(()=>[y("div",Um,[a(N,{"model-value":o(O),label:ee.$t("swap.wallet_ballance"),suffix:o($)?.symbols[o(r)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(u).amount,"onUpdate:modelValue":oe[0]||(oe[0]=ye=>o(u).amount=ye),modelModifiers:{number:!0},debounce:200,label:ee.$t("common.amount"),"input-class":"amount-input",suffix:o($)?.symbols[o(r)],rules:[o(Y).required,o(Y).amount,H],class:"col-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",Km,[a(N,{"model-value":o(k),label:ee.$t("swap.trade_fee_estimated"),suffix:"%","input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label"]),a(N,{"model-value":o(S),label:ee.$t("swap.you_receive_estimated"),suffix:o($)?.symbols[o(n)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"])]),y("div",Qm,[a(Nm,{modelValue:o(u).numIter,"onUpdate:modelValue":oe[1]||(oe[1]=ye=>o(u).numIter=ye),class:"col"},null,8,["modelValue"]),a(N,{"model-value":o(T),label:"Trade Price (average, including fee)",suffix:`${o($)?.symbols[o(r)]} / ${o($)?.symbols[o(n)]}`,"input-class":"amount-input",readonly:"",class:"col-8"},null,8,["model-value","suffix"])]),y("div",zm,[a(Bm,{modelValue:o(u).slippage,"onUpdate:modelValue":oe[2]||(oe[2]=ye=>o(u).slippage=ye),class:"col-4"},null,8,["modelValue"]),a(M,{modelValue:o(u).feeRatio,"onUpdate:modelValue":oe[3]||(oe[3]=ye=>o(u).feeRatio=ye),class:"col-4"},null,8,["modelValue"]),a(ie,{modelValue:o(K),"onUpdate:modelValue":oe[4]||(oe[4]=ye=>z(K)?K.value=ye:null),loading:o(Q),error:o(ae),locked:o(d),class:"col-4"},null,8,["modelValue","loading","error","locked"])])]),_:1}),a(B,null,{default:s(()=>[y("div",Hm,[y("div",Xm,[a(ke)]),y("div",Gm,[y("div",Jm,[a(ft),a(yt,{label:"Swap",icon:o(rl)},null,8,["icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},Ym={class:"q-mt-sm"},Zm={class:"row q-col-gutter-sm"},e_={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",Ym,[y("div",Zm,[a(Fl,{address:t.address,"buy-form":!0,class:"col-sm-12 col-md-6"},null,8,["address"]),a(Fl,{address:t.address,"buy-form":!1,class:"col-sm-12 col-md-6"},null,8,["address"])])]))}},t_=Object.freeze(Object.defineProperty({__proto__:null,default:e_},Symbol.toStringTag,{value:"Module"})),l_={__name:"SwapHistory",props:{address:{type:String,required:!0},limit:{type:Number,default:200,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("common.height"),field:"height",headerStyle:"width: 7%"},{label:l("common.type"),field:"type",classes:c=>new Map([["BUY","text-green"],["SELL","text-red"]]).get(c.type)||"",headerStyle:"width: 11%"},{label:l("common.amount"),field:"value",headerStyle:"width: 10%",headerClasses:"dense-amount",classes:"dense-amount text-bold",align:"right"},{field:"symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{name:"address",label:l("common.user"),field:"user",align:"left"},{name:"tx",field:"txid",headerStyle:"width: 1%"},{label:l("common.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:n,loading:i}=pr(I({id:A(()=>e.address),limit:A(()=>e.limit)}));return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-address":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary"},{default:s(()=>[q(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-tx":s(m=>[a(F,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary"},{default:s(()=>u[0]||(u[0]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},o_=Object.freeze(Object.defineProperty({__proto__:null,default:l_},Symbol.toStringTag,{value:"Module"})),a_={class:"row justify-end q-col-gutter-x-md"},n_={class:"row justify-end q-col-gutter-x-md"},s_={class:"row justify-end col-12 q-gutter-x-xs q-gutter-y-sm"},r_={class:"col"},i_={__name:"SwapLiquidForm",props:{address:{type:String,required:!0}},setup(t){const e=t,{activeWalletIndex:l}=Ge(),{data:r}=cl(I({index:l})),{data:n}=bo(I({id:A(()=>e.address),user:r}),()=>!!r.value),i={tokenAmount:null,currencyAmount:null,poolIdx:null,feeRatio:null},c=L(null),u=I({...i}),{promptPassphrase:_,isLocked:d}=xe(I({index:l}));Le(c,d);const{data:m}=Wt(I({id:A(()=>e.address)}));_e(()=>{u.poolIdx=n.value?.pool_idx??-1});const p=()=>{u.poolIdx=n.value?.pool_idx??-1},h=v(()=>{if(m.value){const X=m.value.fee_rates.map((ce,he)=>({label:`${(ce*100).toFixed(2)} %`,value:he}));return[{label:"",value:-1},...X]}else return[]}),{data:w}=je(I({index:l,currency:A(()=>m.value?.tokens[0])}),X=>X?X.spendable:0,()=>!!m.value?.tokens[0]),{data:k}=je(I({index:l,currency:A(()=>m.value?.tokens[1])}),X=>X?X.spendable:0,()=>!!m.value?.tokens[1]),T=X=>X<=w.value||"Insufficient funds",S=X=>X<=k.value||"Insufficient funds",V=v(()=>u.tokenAmount&&u.currencyAmount?parseFloat((u.currencyAmount/u.tokenAmount).toPrecision(6)):null),$=v(()=>!!u.tokenAmount&&!!u.currencyAmount||!u.tokenAmount&&!u.currencyAmount),O=()=>{u.tokenAmount&&!u.currencyAmount?u.currencyAmount=parseFloat((u.tokenAmount*m.value.price).toFixed(m.value.decimals[1])):!u.tokenAmount&&u.currencyAmount&&(u.tokenAmount=parseFloat((u.currencyAmount/m.value.price).toFixed(m.value.decimals[0])))},H=L(!1),K=v(()=>!n.value||H.value||!(n.value.fees_earned[0].amount!=0||n.value.fees_earned[1].amount!=0)),Q=v(()=>u.poolIdx<0||n.value&&(n.value.pool_idx<0||u.poolIdx==n.value.pool_idx||n.value.balance[0].amount==0&&n.value.balance[1].amount==0)),ae=v(()=>!(u.tokenAmount||u.currencyAmount)||u.poolIdx<0),me=v(()=>ae.value||n.value.pool_idx>=0&&u.poolIdx!=n.value.pool_idx&&(n.value.balance[0].amount!=0||n.value.balance[1].amount!=0)),Z=v(()=>ae.value),ee=v(()=>!!u.tokenAmount||!!u.currencyAmount||!n.value||!(n.value.balance[0].amount!=0||n.value.balance[1].amount!=0)),oe=ls(),M=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await oe.mutateAsync(he,{onSuccess:()=>{H.value=!0}})},ie=as(),ke=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ie.mutateAsync(he)},ft=ss(),yt=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ft.mutateAsync(he,{onSuccess:()=>{c.value.reset()}})},ht=is(),ye=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ht.mutateAsync(he,{onSuccess:()=>{c.value.reset()}})},zt=ds(),Je=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await zt.mutateAsync(he)};return(X,ce)=>{const he=Re,jo=Ce,Wo=Ve;return f(),x("div",null,[a(P,{flat:""},{default:s(()=>[a(Wo,{ref_key:"formRef",ref:c,data:o(u),"default-data":i,onReset:p},{default:s(()=>[a(B,null,{default:s(()=>[y("div",a_,[a(he,{modelValue:o(u).feeRatio,"onUpdate:modelValue":ce[0]||(ce[0]=Ye=>o(u).feeRatio=Ye),class:"col-sm-3 col-xs-12"},null,8,["modelValue"]),a(N,{"model-value":o(w),label:X.$t("swap.wallet_ballance"),suffix:o(m)?.symbols[0],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{"model-value":o(k),label:X.$t("swap.wallet_ballance"),suffix:o(m)?.symbols[1],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",n_,[a(ge,{modelValue:o(u).poolIdx,"onUpdate:modelValue":ce[1]||(ce[1]=Ye=>o(u).poolIdx=Ye),options:o(h),"emit-value":"","map-options":"",label:X.$t("swap.fee_level"),class:"col-sm-3 col-xs-12"},null,8,["modelValue","options","label"]),a(N,{"model-value":o(V),label:X.$t("common.price"),suffix:`${o(m)?.symbols[1]} / ${o(m)?.symbols[0]}`,"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-12"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(u).tokenAmount,"onUpdate:modelValue":ce[2]||(ce[2]=Ye=>o(u).tokenAmount=Ye),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(m)?.symbols[0],rules:[o(Y).amount,T],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"]),a(N,{modelValue:o(u).currencyAmount,"onUpdate:modelValue":ce[3]||(ce[3]=Ye=>o(u).currencyAmount=Ye),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(m)?.symbols[1],rules:[o(Y).amount,S],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"])])]),_:1}),a(al,null,{default:s(()=>[y("div",s_,[y("div",r_,[a(jo,{class:"items-start"})]),a(j,{label:X.$t("swap.price_match"),outline:"",disable:o($),onClick:O},null,8,["label","disable"]),a(j,{label:X.$t("swap.payout"),outline:"",disable:o(K),onClick:M},null,8,["label","disable"]),a(j,{label:X.$t("swap.switch_fee"),outline:"",disable:o(Q),onClick:ke},null,8,["label","disable"]),a(j,{label:X.$t("swap.add_liquidity"),outline:"",disable:o(me),class:"text-positive",onClick:yt},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_liquidity"),outline:"",disable:o(Z),class:"text-negative",onClick:ye},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_all"),outline:"",disable:o(ee),class:"text-negative",onClick:Je},null,8,["label","disable"])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},u_={class:"q-gutter-y-sm"},d_={__name:"SwapLiquidUserInfoTable",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("swap.my_balance"),field:"balance",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.my_liquidity"),field:"equivalent_liquidity",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.fees_earned"),field:"fees_earned",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:d=>(d.fees_earned>0?"text-positive":"")+" dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"fee_level",label:l("swap.fee_level"),field:"fee_level",format:d=>(d*100).toFixed(2),headerStyle:"width: 8%",align:"right",xclasses:"percents"},{label:l("swap.unlock_height"),field:"unlock_height",align:"left"}]),{activeWalletIndex:n}=Ge(),{data:i}=cl(I({index:n})),{data:c,loading:u}=bo(I({id:A(()=>e.address),user:i}),()=>!!i.value),_=v(()=>{if(!c.value)return[];const{balance:d,symbols:m,equivalent_liquidity:p,fees_earned:h,pool_idx:w,unlock_height:k,swap:T}=c.value;return d.map((V,$)=>({balance:d[$].value,equivalent_liquidity:p[$].value,fees_earned:h[$].value,symbol:m[$],fee_level:w>=0?T.fee_rates[w]:void 0,unlock_height:k,pool_idx:w}))});return(d,m)=>{const p=de;return f(),x("div",u_,[a(te,{rows:o(_),columns:o(r),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-fee_level":s(h=>[a(F,{props:h},{default:s(()=>[h.row.pool_idx>=0?(f(),x("div",{key:0,class:se(("getXClasses"in d?d.getXClasses:o(Be))(h))},g(h.value),3)):E("",!0)]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(p,{props:h,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},c_={class:"q-gutter-y-sm"},m_={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",c_,[a(d_,{address:t.address},null,8,["address"]),a(i_,{address:t.address},null,8,["address"])]))}},__=Object.freeze(Object.defineProperty({__proto__:null,default:m_},Symbol.toStringTag,{value:"Module"})),p_={class:"q-gutter-y-sm"},f_={__name:"SwapPool",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("swap.fee_level"),field:"fee_rate",format:u=>u*100,headerStyle:"width: 5%",classes:"key-cell m-bg-grey",xclasses:"percents"},{label:l("common.balance"),field:"balance0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("common.balance"),field:"balance1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:"Price",field:"price",format:u=>u!=null?parseFloat(u.toPrecision(6)):"N/A",headerStyle:"width: 8%",classes:"text-bold"},{label:l("swap.user_total"),field:"user_total0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.user_total"),field:"user_total1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"}]),{data:n,loading:i}=Wt(I({id:A(()=>e.address)})),c=v(()=>{if(!n.value)return[];const{fee_rates:u,pools:_,symbols:d}=n.value;return u.map((p,h)=>({fee_rate:p,balance0:_[h].balance[0].value,symbol0:n.value.symbols[0],balance1:_[h].balance[1].value,symbol1:n.value.symbols[1],price:_[h].price,user_total0:_[h].user_total[0].value,user_total1:_[h].user_total[1].value}))});return(u,_)=>{const d=de;return f(),x("div",p_,[a(te,{rows:o(c),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell":s(m=>[a(F,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in u?u.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(d,{props:m,"row-count":4},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},y_=Object.freeze(Object.defineProperty({__proto__:null,default:f_},Symbol.toStringTag,{value:"Module"})),h_={};function b_(t,e){return f(),b(P,{class:"fullscreen text-center q-pa-md flex flex-center"},{default:s(()=>[y("div",null,[e[0]||(e[0]=y("div",{class:"error-code"},"404",-1)),e[1]||(e[1]=y("div",{class:"error-message"},"Oops. Nothing here...",-1)),a(j,{class:"q-mt-xl",outline:"",unelevated:"",to:"/",label:"Go Home","no-caps":""})])]),_:1})}const g_=fe(h_,[["render",b_],["__scopeId","data-v-293e57be"]]),v_=Object.freeze(Object.defineProperty({__proto__:null,default:g_},Symbol.toStringTag,{value:"Module"})),w_=t=>C.post("/server/login",t,{headers:Tn}),Po=()=>{const t=Te();return J({mutationFn:({credentials:e})=>w_(e),onSuccess:(e,l)=>{const{credentials:r}=l;t.doLogin(r)}})},x_=()=>C.get("/server/logout").then(t=>t.data),k_=()=>{const t=Te();return J({mutationFn:()=>x_(),onSettled:()=>{t.doLogout(!0)}})},Ao=t=>C.get("/server/session",{signal:t}).then(e=>e.data),S_=()=>{const t=Te();return Ot({queryKey:["session"],queryFn:({signal:e})=>Ao(e),refetchInterval:5.1*st,enabled:t.isLoggedIn})},$_=()=>{const t=G();return J({mutationFn:()=>Ao(),onSuccess:e=>{t.setQueryData(["session"],e)}})},q_={class:"fullscreen row justify-center"},T_={class:"row justify-between"},V_={__name:"LoginPage",setup(t){const e=L(""),l=Te(),{autoLogin:r}=Dt(l),n=Po(),i=et(),c=()=>{i.notify({message:"Login failed!",type:"negative"})},u=()=>{const _={credentials:{user:"mmx-admin",passwd_plain:e.value}};n.mutate(_,{onError:c})};return(_,d)=>(f(),x("div",q_,[a(P,{flat:"",class:"self-center col-xl-4 col-lg-6 col-md-8 col-sm-10 col-xs-12"},{default:s(()=>[a(We,null,{default:s(()=>[a(at,null,{default:s(()=>d[2]||(d[2]=[q(" Login ")])),_:1})]),_:1}),a(B,null,{default:s(()=>[a(ol,{class:"q-gutter-sm",onSubmit:u},{default:s(()=>[a(N,{modelValue:o(e),"onUpdate:modelValue":d[0]||(d[0]=m=>z(e)?e.value=m:null),type:"password",required:"",filled:"",label:_.$t("login.password_label")},{prepend:s(()=>[a($e,{name:o(Ml)},null,8,["name"])]),_:1},8,["modelValue","label"]),y("div",T_,[a(Ke,{modelValue:o(r),"onUpdate:modelValue":d[1]||(d[1]=m=>z(r)?r.value=m:null),label:"Save in Browser (until Logout)"},null,8,["modelValue"]),a(j,{label:"Login",icon:o(Na),type:"submit",color:"primary",disable:!o(e)},null,8,["icon","disable"])])]),_:1})]),_:1})]),_:1})]))}},C_=Object.freeze(Object.defineProperty({__proto__:null,default:V_},Symbol.toStringTag,{value:"Module"})),R_={__name:"NodeSettings",setup(t){const{data:e}=ve(),l=L();return _e(()=>l.value=e?.opencl_device_select),Se(l,r=>{e.opencl_device_select=r,e.opencl_platform=null,e.opencl_device=r>=0?e.opencl_device_list_relidx[r].index:-1,e.opencl_device_name=r>=0?e.opencl_device_list_relidx[r].name:null}),(r,n)=>(f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",null,[a(Ke,{modelValue:o(e).timelord,"onUpdate:modelValue":n[0]||(n[0]=i=>o(e).timelord=i),label:r.$t("node_settings.enable_timelord")},null,8,["modelValue","label"])]),y("div",null,[a(Ke,{modelValue:o(e).open_port,"onUpdate:modelValue":n[1]||(n[1]=i=>o(e).open_port=i),label:r.$t("node_settings.open_port")},null,8,["modelValue","label"])]),y("div",null,[a(Ke,{modelValue:o(e).allow_remote,"onUpdate:modelValue":n[2]||(n[2]=i=>o(e).allow_remote=i),label:"Allow remote service access (for remote harvesters)"},null,8,["modelValue"])]),a(ge,{modelValue:o(l),"onUpdate:modelValue":n[3]||(n[3]=i=>z(l)?l.value=i:null),label:r.$t("node_settings.opencl_device"),options:o(e).opencl_device_list,"emit-value":"","map-options":""},null,8,["modelValue","label","options"])]),_:1})]),_:1}))}},L_={__name:"RewardSettings",setup(t){const e=L(),l=L(),r=L(),n=L(),{data:i}=ve();_e(()=>r.value=i?.farmer_reward_addr),_e(()=>n.value=i?.timelord_reward_addr);const{isLocalNode:c,isFarmer:u}=ve();return(_,d)=>(f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[o(u)?(f(),b(N,{key:0,ref_key:"farmer_reward_addr_ref",ref:e,modelValue:o(r),"onUpdate:modelValue":d[0]||(d[0]=m=>z(r)?r.value=m:null),label:_.$t("node_settings.farmer_reward_address"),placeholder:_.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:d[1]||(d[1]=m=>{o(e).validate(m)&&(o(i).farmer_reward_addr=m.length?m:null)})},null,8,["modelValue","label","placeholder","rules"])):E("",!0),o(c)?(f(),b(N,{key:1,ref_key:"timelord_reward_addr_ref",ref:l,modelValue:o(n),"onUpdate:modelValue":d[2]||(d[2]=m=>z(n)?n.value=m:null),label:_.$t("node_settings.timeLord_reward_address"),placeholder:_.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:d[3]||(d[3]=m=>{o(l).validate(m)&&(o(i).timelord_reward_addr=m.length?m:null)})},null,8,["modelValue","label","placeholder","rules"])):E("",!0)]),_:1})]),_:1}))}},O_={align:"left"},F_={align:"right"},I_={__name:"HarvesterSettings",setup(t){const e=L(),{data:l}=ve(),r=hi(),n=u=>{u?.length&&r.mutate(u,{onSuccess:()=>{e.value=""}})},i=gi(),c=u=>{i.mutate(u)};return(u,_)=>(f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(N,{label:"Num. Threads (for lookups, reload)","model-value":o(l).harv_num_threads,rules:[o(Y).number],onChange:_[0]||(_[0]=d=>o(l).harv_num_threads=parseInt(d))},null,8,["model-value","rules"]),a(N,{label:u.$t("harvester_settings.harvester_reload_interval"),"model-value":o(l).reload_interval,rules:[o(Y).number],onChange:_[1]||(_[1]=d=>o(l).reload_interval=parseInt(d))},null,8,["label","model-value","rules"]),a(Ke,{modelValue:o(l).recursive_search,"onUpdate:modelValue":_[2]||(_[2]=d=>o(l).recursive_search=d),label:"Recursive Search"},null,8,["modelValue"]),a(Pt,{flat:""},{default:s(()=>[y("thead",null,[y("tr",null,[y("th",O_,g(u.$t("harvester_settings.plot_directory")),1),_[5]||(_[5]=y("th",{width:"20%"},null,-1))])]),y("tbody",null,[(f(!0),x(D,null,re(o(l).plot_dirs,d=>(f(),x("tr",{key:d},[y("td",null,g(d),1),y("td",F_,[a(j,{label:"Remove",outline:"",onClick:m=>c(d)},null,8,["onClick"])])]))),128))])]),_:1}),a(N,{modelValue:o(e),"onUpdate:modelValue":_[3]||(_[3]=d=>z(e)?e.value=d:null),label:u.$t("harvester_settings.plot_directory")},null,8,["modelValue","label"]),a(j,{outlined:"",disable:!o(e)?.length,color:"primary",class:"q-mt-sm",onClick:_[4]||(_[4]=d=>n(o(e)))},{default:s(()=>[q(g(u.$t("harvester_settings.add_directory")),1)]),_:1},8,["disable"])]),_:1})]),_:1}))}},P_={__name:"CudaSettings",setup(t){const{data:e,loading:l}=ve();return(r,n)=>(f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[o(l)?(f(),b(ll,{key:0,query:"",class:"absolute-top"})):E("",!0),a(Ke,{modelValue:o(e).cuda_enable,"onUpdate:modelValue":n[0]||(n[0]=i=>o(e).cuda_enable=i),label:"Enable CUDA compute (farming and proof verify)"},null,8,["modelValue"])]),_:1})]),_:1}))}},A_={__name:"BlockchainSettings",setup(t){const e=L(),l=L(),r=v(()=>!e.value?.validate()||!l.value),{t:n}=W();et();const i=fi(),c=u=>{u=parseInt(u),i.mutate({height:u})};return(u,_)=>(f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(N,{ref_key:"revertHeightRef",ref:e,modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=d=>z(l)?l.value=d:null),label:u.$t("node_settings.revert_db_to_height"),rules:[o(Y).number],clearable:""},null,8,["modelValue","label","rules"]),a(j,{disable:o(r),outline:"",color:"negative",onClick:_[1]||(_[1]=d=>c(o(l)))},{default:s(()=>[q(g(u.$t("node_settings.revert")),1)]),_:1},8,["disable"])]),_:1}),a(Ct,{showing:o(i).isPending.value},{default:s(()=>[a(ca,{color:"primary",size:"3em"})]),_:1},8,["showing"])]),_:1}))}},E_={align:"left"},D_={align:"left"},j_={align:"left"},W_={key:0},M_={__name:"WalletSettings",setup(t){const e=L(""),l=L(""),{data:r,isPending:n}=_t();v(()=>n.value);const i=wi(),c=d=>{i.mutate(d,{onSuccess:()=>{e.value=""}})},u=ki(),_=d=>{u.mutate(d)};return(d,m)=>{const p=le("RouterLink");return f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(Pt,{flat:""},{default:s(()=>[y("thead",null,[y("tr",null,[y("th",E_,g(d.$t("wallet_settings.name")),1),y("th",D_,g(d.$t("wallet_settings.symbol")),1),y("th",j_,g(d.$t("wallet_settings.contract")),1),m[2]||(m[2]=y("th",{align:"left"},null,-1))])]),y("tbody",null,[(f(!0),x(D,null,re(o(r),h=>(f(),x(D,{key:h.currency},[h.is_native?E("",!0):(f(),x("tr",W_,[y("td",null,g(h.name),1),y("td",null,g(h.symbol),1),y("td",null,[a(p,{to:"/explore/address/"+h.currency,class:"text-primary mono"},{default:s(()=>[q(g(h.currency),1)]),_:2},1032,["to"])]),y("td",null,[a(j,{outline:"",onClick:w=>_(h.currency)},{default:s(()=>[q(g(d.$t("common.remove")),1)]),_:2},1032,["onClick"])])]))],64))),128))])]),_:1}),a(N,{ref_key:"newTokenTextField",ref:l,modelValue:o(e),"onUpdate:modelValue":m[0]||(m[0]=h=>z(e)?e.value=h:null),label:d.$t("wallet_settings.token_address"),placeholder:"mmx1...",rules:[o(Y).address]},null,8,["modelValue","label","rules"]),a(j,{label:d.$t("wallet_settings.add_token"),disable:o(e).length==0||o(l).hasError,outline:"",color:"primary",onClick:m[1]||(m[1]=h=>c(o(e)))},null,8,["label","disable"])]),_:1})]),_:1})}}},B_={__name:"UISettings",setup(t){const{t:e}=W(),l=we(),r=v(()=>[{value:!1,label:e("node_settings.light")},{value:!0,label:e("node_settings.dark")}]);return(n,i)=>(f(),b(P,null,{default:s(()=>[a(B,null,{default:s(()=>[a(ge,{modelValue:o(l).locale,"onUpdate:modelValue":i[0]||(i[0]=c=>o(l).locale=c),"emit-value":"","map-options":"",label:n.$t("node_settings.language"),options:o(il)},null,8,["modelValue","label","options"]),a(ge,{modelValue:o(l).isDarkTheme,"onUpdate:modelValue":i[1]||(i[1]=c=>o(l).isDarkTheme=c),"emit-value":"","map-options":"",label:n.$t("node_settings.theme"),options:o(r)},null,8,["modelValue","label","options"])]),_:1})]),_:1}))}},N_=t=>C.get("https://api.github.com/repos/madMAx43v3r/mmx-node/tags",{signal:t}).then(e=>e.data),U_=t=>Ot({queryKey:["externalBuildInfo"],queryFn:({signal:e})=>N_(e),refetchInterval:60*60*st,staleTime:1/0,select:t}),K_=()=>U_(e=>{for(let l of e)if(l&&l.name.length&&l.name[0]==="v")return l}),Eo=()=>{const{data:t}=ve(),{data:e}=K_(),l=v(()=>t.version?.split("-",1)[0]),r=v(()=>e.value?.name);return{isNewVersionAvailable:v(()=>!!(l.value&&r.value&&l.value!==r.value)),latestVersion:r,latestRelease:e,version:l}},Q_={class:"text-h6"},z_={class:"q-gutter-y-sm"},H_={__name:"BuildVersionInfo",setup(t){const{data:e,loading:l}=ve(),{t:r}=W(),n=v(()=>[{label:r("build_version.version"),field:"version"},{label:r("build_version.commit"),field:"commit"}]),{isNewVersionAvailable:i,latestVersion:c,version:u}=Eo();return(_,d)=>{const m=rt;return f(),b(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",Q_,[a(ma,{icon:o(Ua)},null,8,["icon"]),q(" "+g(_.$t("build_version.build")),1)]),y("div",z_,[a(m,{rows:o(n),data:o(e),loading:o(l)},null,8,["rows","data","loading"]),o(i)?(f(),b(Yt,{key:0,rounded:"","inline-actions":"",class:"bg-warning"},{default:s(()=>[q(" This build is "+g(o(u))+", compared to "+g(o(c))+" at madMAx43v3r:master ",1)]),_:1})):E("",!0)])]),_:1})]),_:1})}}},X_={class:"q-gutter-y-sm"},G_={__name:"index",setup(t){const e=we(),{isLocalNode:l,isFarmer:r}=ve(),{t:n}=W(),i=[{name:"ui",label:n("node_settings.ui"),icon:Ka,component:B_,visible:!e.isWinGUI},{name:"node",label:"Node",icon:Qa,component:R_,visible:l.value},{name:"reward",label:"Reward",icon:za,component:L_,visible:l.value||r.value},{name:"harvester",label:n("harvester_settings.harvester"),icon:Ha,component:I_,visible:r.value},{name:"cuda",label:"CUDA",icon:Xa,component:P_,visible:r.value||l.value},{name:"blockchain",label:n("node_settings.blockchain"),icon:Ga,component:A_,visible:l.value},{name:"wallet",label:n("wallet_settings.token_whitelist"),icon:Ja,component:M_,visible:!0}],c=v(()=>i.find(p=>p.visible)),u=ot(),_=xt(),d=v(()=>{const p=_.query.state||c.value?.name,h={};return h[p]=!0,h}),m=L(d.value);return Se(m,p=>{var h=Object.keys(p);p?u.push({path:_.path,query:{state:h.filter(w=>p[w])[0]},replace:!0}):u.push({path:_.path,replace:!0})},{deep:!0}),(p,h)=>(f(),b(lt,{padding:""},{default:s(()=>[y("div",X_,[a(_a,{bordered:"",class:"rounded-borders"},{default:s(()=>[(f(),x(D,null,re(i,w=>a(pa,{key:w,modelValue:o(m)[w.name],"onUpdate:modelValue":k=>o(m)[w.name]=k,label:w.label,icon:w.icon,"header-class":"text-h6","expand-separator":"",group:"expansionGroup"},{default:s(()=>[(f(),b(it(w.component)))]),_:2},1032,["modelValue","onUpdate:modelValue","label","icon"])),64))]),_:1}),a(H_,{class:"q-mt-md"})])]),_:1}))}},J_=Object.freeze(Object.defineProperty({__proto__:null,default:G_},Symbol.toStringTag,{value:"Module"})),Y_={key:0,class:"q-tab self-stretch flex flex-center text-center"},Z_={__name:"MenuTabs",props:{tabs:{type:Array,required:!0}},setup(t){return(e,l)=>(f(),b(tt,{"indicator-color":"primary","outside-arrows":"",class:"q-mx-xs"},{default:s(()=>[(f(!0),x(D,null,re(t.tabs,(r,n)=>(f(),x(D,{key:n},[r.separator?(f(),b(el,{key:0,vertical:"",inset:"",class:"q-mx-md"})):r.space?(f(),b(Dl,{key:1})):r.component?(f(),x(D,{key:2},[r.tabTagWrap??!0?(f(),x("div",Y_,[(f(),b(it(r.component)))])):(f(),b(it(r.component),{key:1}))],64)):(f(),x(D,{key:3},[r.visible??!0?(f(),b(Qe,{key:0,to:r.to,label:r.label,icon:r.icon,disable:r.disable,onClick:r.click},null,8,["to","label","icon","disable","onClick"])):E("",!0)],64))],64))),128))]),_:1}))}},ep={__name:"BuildVersion",setup(t){const{isNewVersionAvailable:e,latestVersion:l,version:r}=Eo();return(n,i)=>o(e)?(f(),b($e,{key:0,name:o(Ya),color:"warning",size:"sm",class:"animate__animated animate__flash animate__delay-1s"},{default:s(()=>[a(ze,null,{default:s(()=>[q("This build is "+g(o(r))+", compared to "+g(o(l))+" at madMAx43v3r:master",1)]),_:1})]),_:1},8,["name"])):E("",!0)}};function tp(t=1e4){const l=G().getQueryCache(),r=L(!1),n=L(new Set),i=new Map,c=l.subscribe(u=>{if(u.type==="updated"){const _=u.query,d=JSON.stringify(_.queryKey);if(_.state.fetchStatus==="fetching"){i.has(d)&&(clearTimeout(i.get(d)),i.delete(d));const m=setTimeout(()=>{_.state.fetchStatus==="fetching"&&(n.value.add(d),r.value=!0),i.delete(d)},t);i.set(d,m)}else i.has(d)&&(clearTimeout(i.get(d)),i.delete(d)),n.value.has(d)&&(n.value.delete(d),r.value=n.value.size>0)}});return fa(()=>{c(),i.forEach(u=>clearTimeout(u)),i.clear()}),r}const Fe=Object.freeze({DisconnectedFromNode:Symbol("DisconnectedFromNode"),QueryTakingLong:Symbol("QueryTakingLong"),Connecting:Symbol("Connecting"),Syncing:Symbol("Syncing"),Synced:Symbol("Synced"),None:Symbol("None")}),lp=()=>{const t=Te(),{isLocalNode:e}=ve(),l=L(0),r=L(0),n=L(1);tp(1e3);const i=v(()=>l.value<1),c=v(()=>r.value<1||!e.value),u=v(()=>n.value<1),_=$_(),d=()=>{t.isLoggedIn&&_.mutate(null,{onSuccess:$=>{$&&$.user?l.value=0:l.value++},onError:()=>{l.value++}})},m=v(()=>{let $=i.value&&c.value?5e3:1e3;return t.isLoggedIn||($=-1),$});Gt(d,m);const p=ci(),h=()=>p.mutate(null,{onSuccess:()=>{r.value=0},onError:()=>{r.value++}}),w=v(()=>{let $=c.value?5e3:1e3;return i.value||($=-1),$});Gt(h,w);const k=Fn(),T=()=>k.mutate(null,{onSuccess:$=>{$&&$.is_synced?n.value=0:n.value++},onError:()=>{n.value++}}),S=v(()=>{let $=c.value?5e3:1e3;return i.value||($=-1),$});return Gt(T,S),{status:v(()=>{let $=Fe.None;return i.value?($=Fe.Connecting,c.value&&($=Fe.Syncing,u.value&&($=Fe.Synced))):$=Fe.DisconnectedFromNode,$})}},Gt=(t,e)=>{t();const l=ya(t,e);return Se(e,(r,n)=>{Oe(r)<=0&&l.pause(),(Oe(n)<=0&&Oe(r)>0||Oe(n)>0&&Oe(r)<Oe(n))&&(l.resume(),t())}),l},op={class:"q-px-xs"},ap={__name:"NodeStatus",setup(t){const{t:e}=W(),l={[Fe.DisconnectedFromNode]:{label:e("node_status.disconnected"),icon:on,class:"text-negative animate__animated animate__swing animate__infinite"},[Fe.QueryTakingLong]:{label:"Node response taking too long",icon:ln,class:"text-warning animate__animated animate__flash animate__slow animate__infinite"},[Fe.Connecting]:{label:e("node_status.connecting"),icon:tn,class:"text-negative animate__animated animate__flash animate__slow animate__infinite"},[Fe.Syncing]:{label:e("node_status.syncing"),icon:en,class:"text-warning spin"},[Fe.Synced]:{label:e("node_status.synced"),icon:Za,class:"text-positive animate__animated animate__bounceIn"}},{status:r}=lp(),n=v(()=>l[r.value]);return(i,c)=>(f(),x("div",op,[o(n)?(f(),b($e,{key:0,name:o(n).icon,size:"sm",class:se(o(n).class)},{default:s(()=>[a(ze,null,{default:s(()=>[q(g(o(n).label),1)]),_:1})]),_:1},8,["name","class"])):E("",!0)]))}},np=fe(ap,[["__scopeId","data-v-5a639f02"]]),sp={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 1170.7 327.595"},rp={__name:"SvgLogo",props:{color:{type:String,default:"#fff"}},setup(t){return ha(e=>({"442bc8c4":t.color})),(e,l)=>(f(),x("svg",sp,l[0]||(l[0]=[y("g",{id:"Text_x0020_Black_x0020__x0028_SVG_x0029_"},[y("path",{d:"M19.578 80.542 0 327.595h95.292l6.752-85.204zM258.854 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L132.604 0H25.96L173.5 289.567l91.121-178.834-17.184 216.863h95.292L368.689 0zM454.949 80.542l-19.578 247.053h95.292l6.752-85.204zM694.225 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L567.975 0H461.33l147.54 289.566 91.121-178.834-17.184 216.863H778.1L804.06 0zM918.156 184.837l53.254 104.729-19.377 38.029h-106.47zM908.537 0h69.457l166.918 327.595h-106.643L890.298 37.187C879.835 16.653 888.003.001 908.537.001zM1098.11 142.76l-53.26-104.725L1064.23 0h106.47z",class:"fil0"})],-1)])))}},ip=fe(rp,[["__scopeId","data-v-1c7f7bbe"]]),up={class:"logo"},dp={class:"mono node-height"},cp={__name:"index",setup(t){const e=Yl(),l=v(()=>e.height&&e.height.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),r=we(),n=v(()=>r.isDarkTheme?"#fff":"#000");return(i,c)=>{const u=ip;return f(),x("div",up,[a(u,{height:"18",color:o(n)},null,8,["color"]),y("div",dp,[(f(),x(D,{key:1},[q(g(o(l)),1)],64))])])}}},mp=fe(cp,[["__scopeId","data-v-9901f0bc"]]),_p=()=>{const t=Te(),{data:e}=S_(),l=()=>{t.doLogout(!1)},r=Po(),n=i=>{const c={credentials:i};r.mutate(c,{onError:l})};Se(e,i=>{i&&i.user||(t.autoLogin?n(t.credentials):t.doLogout(!1))})},pp={__name:"GuiMainMenu",setup(t){const{t:e}=W(),l=we(),{isWallet:r,isFarmer:n}=ve(),i=v(()=>[{component:mp},{separator:!0},{to:"/node",label:e("main_menu.node")},{to:"/wallet",label:e("main_menu.wallet"),visible:r.value},{to:"/farmer",label:e("main_menu.farmer"),visible:n.value},{to:"/explore",label:e("main_menu.explore")},{to:"/market",label:e("main_menu.market"),visible:r.value},{to:"/swap",label:e("main_menu.swap"),visible:r.value},{space:!0},{component:ep},{component:np},{to:"/settings",icon:Nl},...l.isGUI?[]:[{icon:an,click:u}]]),c=k_(),u=()=>c.mutate();return _p(),(_,d)=>{const m=Z_;return f(),b(m,{tabs:o(i)},null,8,["tabs"])}}};let Do;Do=pp;const fp={class:"row justify-center"},yp={class:"row justify-center"},hp={__name:"default",setup(t){const e=we(),l=v(()=>({"col-12":!0,"app-max-width":!e.isWinGUI}));return(r,n)=>{const i=Pe;return f(),b(va,{view:"lhr Lpr lFr"},{default:s(()=>[a(ba,{class:"m-bg-grey"},{default:s(()=>[y("div",fp,[y("div",{class:se(o(l))},[(f(),b(it(o(Do)),{class:"q-mx-lg"}))],2)])]),_:1}),y("div",yp,[y("div",{class:se(o(l))},[a(ga,null,{default:s(()=>[a(i)]),_:1})],2)])]),_:1})}}},bp=Object.freeze(Object.defineProperty({__proto__:null,default:hp},Symbol.toStringTag,{value:"Module"})),gp={class:"q-gutter-y-sm"},vp={__name:"PromptPassphraseDialog",emits:[...pe.emits],setup(t){const e=L(""),l=L(!1),{dialogRef:r,onDialogHide:n,onDialogOK:i,onDialogCancel:c}=pe(),u=()=>{i({passphrase:e.value})},_=L(null),d=()=>{_.value&&_.value.focus()};return(m,p)=>(f(),b(He,{ref_key:"dialogRef",ref:r,persistent:"",onHide:o(n),onShow:d},{default:s(()=>[a(P,{class:"q-dialog-plugin"},{default:s(()=>[a(B,null,{default:s(()=>[y("div",gp,[p[2]||(p[2]=y("div",{class:"text-h6"},"Unlock wallet",-1)),a(N,{ref_key:"inputRef",ref:_,modelValue:o(e),"onUpdate:modelValue":p[1]||(p[1]=h=>z(e)?e.value=h:null),hint:m.$t("wallet_common.enter_passphrase"),outlined:"",type:o(l)?"text":"password",autocomplete:"new-password",onKeyup:El(u,["enter"])},{append:s(()=>[a($e,{name:o(l)?o(Ql):o(Kl),class:"cursor-pointer",onClick:p[0]||(p[0]=h=>l.value=!o(l))},null,8,["name"])]),_:1},8,["modelValue","hint","type"])])]),_:1}),a(al,{align:"right"},{default:s(()=>[a(j,{label:"Cancel",flat:"",onClick:o(c)},null,8,["onClick"]),a(j,{label:"Unlock",flat:"",icon:o(Bl),onClick:u},null,8,["icon"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},wp=Object.freeze(Object.defineProperty({__proto__:null,default:vp},Symbol.toStringTag,{value:"Module"})),xp={class:"q-gutter-y-sm"},kp={class:"row justify-end q-col-gutter-sm"},Sp={class:"row justify-end q-col-gutter-sm"},$p={class:"row"},qp={class:"col"},Tp={class:"col-11"},Vp={class:"row justify-end q-gutter-x-sm"},Cp={__name:"OfferDepositDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await O(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),p=v(()=>({index:e.index,amount:m.amount,currency:e.offer.bid_currency,dst_addr:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=uo(p,k),$=to(),O=async()=>{const Q=await h(),ae={...p.value,options:{...p.value.options,passphrase:Q}};await $.mutateAsync(ae)},{data:H}=je(I({index:A(()=>e.index),currency:A(()=>e.offer.bid_symbol)}),Q=>Q?Q.spendable:0),K=Q=>Q<=H.value||"Insufficient funds";return(Q,ae)=>{const me=Re,Z=De,ee=Ce,oe=Ee,M=Ae,ie=Ve;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(ie,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,g(Q.$t("account_offers.deposit_to"))+" "+g(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",xp,[y("div",kp,[a(N,{"model-value":o(H),label:Q.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(m).amount,"onUpdate:modelValue":ae[0]||(ae[0]=ke=>o(m).amount=ke),modelModifiers:{number:!0},label:Q.$t("common.amount"),"input-class":"amount-input",suffix:t.offer.bid_symbol,rules:[o(Y).required,o(Y).amount,K],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",Sp,[a(me,{modelValue:o(m).feeRatio,"onUpdate:modelValue":ae[1]||(ae[1]=ke=>o(m).feeRatio=ke),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(Z,{modelValue:o(T),"onUpdate:modelValue":ae[2]||(ae[2]=ke=>z(T)?T.value=ke:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",$p,[y("div",qp,[a(ee)]),y("div",Tp,[y("div",Vp,[a(oe),a(M,{label:Q.$t("account_offers.deposit")},null,8,["label"]),a(j,{label:Q.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Rp=Object.freeze(Object.defineProperty({__proto__:null,default:Cp},Symbol.toStringTag,{value:"Module"})),Lp={class:"q-gutter-y-sm"},Op={class:"row justify-end q-col-gutter-sm"},Fp={class:"row"},Ip={class:"col"},Pp={class:"col-11"},Ap={class:"row justify-end q-gutter-x-sm"},Ep={__name:"OfferWithdrawDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await O(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={feeRatio:null},d=L(null),m=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=Gn(p,k),$=Mn(),O=async()=>{const H=await h(),K={...p.value,options:{...p.value.options,passphrase:H}};await $.mutateAsync(K)};return(H,K)=>{const Q=Re,ae=De,me=Ce,Z=Ee,ee=Ae,oe=Ve;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(oe,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Withdraw from "+g(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",Lp,[y("div",Op,[a(Q,{modelValue:o(m).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=M=>o(m).feeRatio=M),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(T),"onUpdate:modelValue":K[1]||(K[1]=M=>z(T)?T.value=M:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",Fp,[y("div",Ip,[a(me)]),y("div",Pp,[y("div",Ap,[a(Z),a(ee,{label:"Withdraw"}),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Dp=Object.freeze(Object.defineProperty({__proto__:null,default:Ep},Symbol.toStringTag,{value:"Module"})),jp=t=>{let e=BigInt(t).toString(16);return e.length%2&&(e="0"+e),"0x"+e},Wp={class:"q-gutter-y-sm"},Mp={class:"row justify-end col-3"},Bp={class:"row justify-end q-col-gutter-sm"},Np={class:"row"},Up={class:"col"},Kp={class:"col-11"},Qp={class:"row justify-end q-gutter-x-sm"},zp={__name:"OfferUpdateDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await H(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),p=v(()=>m.amount*Math.pow(2,64)*Math.pow(10,e.offer.bid_decimals-e.offer.ask_decimals)),h=v(()=>({index:e.index,address:e.offer.address,method:"set_price",args:[jp(p.value??0)],options:{user:e.offer.owner,fee_ratio:m.feeRatio}})),{promptPassphrase:w,isLocked:k}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:T}=Le(d,k),{data:S,isLoading:V,latestError:$}=Hn(h,T),O=jn(),H=async()=>{const K=await w(),Q={...h.value,options:{...h.value.options,passphrase:K}};await O.mutateAsync(Q)};return(K,Q)=>{const ae=Re,me=De,Z=Ce,ee=Ee,oe=Ae,M=Ve;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(M,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null," Update "+g(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",Wp,[y("div",Mp,[a(N,{modelValue:o(m).amount,"onUpdate:modelValue":Q[0]||(Q[0]=ie=>o(m).amount=ie),modelModifiers:{number:!0},label:"New Price","input-class":"amount-input",suffix:t.offer.bid_symbol+" / "+t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","suffix","rules"])]),y("div",Bp,[a(ae,{modelValue:o(m).feeRatio,"onUpdate:modelValue":Q[1]||(Q[1]=ie=>o(m).feeRatio=ie),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(S),"onUpdate:modelValue":Q[2]||(Q[2]=ie=>z(S)?S.value=ie:null),loading:o(V),error:o($),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",Np,[y("div",Up,[a(Z)]),y("div",Kp,[y("div",Qp,[a(ee),a(oe,{label:"Update"}),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Hp=Object.freeze(Object.defineProperty({__proto__:null,default:zp},Symbol.toStringTag,{value:"Module"})),Xp={class:"q-gutter-y-sm"},Gp={class:"row justify-end q-col-gutter-sm"},Jp={class:"row"},Yp={class:"col"},Zp={class:"col-11"},ef={class:"row justify-end q-gutter-x-sm"},tf={__name:"OfferCancelDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await O(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={feeRatio:null},d=L(null),m=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=Jn(p,k),$=Bn(),O=async()=>{const H=await h(),K={...p.value,options:{...p.value.options,passphrase:H}};await $.mutateAsync(K)};return(H,K)=>{const Q=Re,ae=De,me=Ce,Z=Ee,ee=Ae,oe=Ve;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(oe,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,g(H.$t("account_offers.revoke"))+" — "+g(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",Xp,[y("div",Gp,[a(Q,{modelValue:o(m).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=M=>o(m).feeRatio=M),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(T),"onUpdate:modelValue":K[1]||(K[1]=M=>z(T)?T.value=M:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,{class:"q-mt-md"},{default:s(()=>[y("div",Jp,[y("div",Yp,[a(me)]),y("div",Zp,[y("div",ef,[a(Z),a(ee,{label:H.$t("account_offers.revoke")},null,8,["label"]),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},lf=Object.freeze(Object.defineProperty({__proto__:null,default:tf},Symbol.toStringTag,{value:"Module"})),of={class:"q-gutter-y-sm"},af={__name:"ShowSeedDialog",props:{seed:{type:String,required:!0},withPassphrase:{type:Boolean,required:!1,default:!1},fingerPrint:{type:String,required:!1,default:null}},emits:[...pe.emits],setup(t){const{dialogRef:e,onDialogHide:l,onDialogOK:r}=pe();return(n,i)=>{const c=Co;return f(),b(He,{ref_key:"dialogRef",ref:e,persistent:"",onHide:o(l)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(B,null,{default:s(()=>[y("div",of,[a(c,{"model-value":t.seed,readonly:""},null,8,["model-value"]),t.withPassphrase?(f(),b(N,{key:0,"model-value":t.fingerPrint,label:"Fingerprint (needed to verify passphrase)","input-class":"text-bold",readonly:""},null,8,["model-value"])):E("",!0)])]),_:1}),a(al,{align:"right"},{default:s(()=>[a(o(tl),null,{default:s(({copy:u,copied:_})=>[a(j,{label:"Copy",flat:"",icon:o(sl),onClick:d=>u(t.seed)},{default:s(()=>[a(ze,{"model-value":_===!0,"no-parent-event":""},{default:s(()=>i[0]||(i[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon","onClick"])]),_:1}),a(j,{label:"Ok",flat:"",onClick:o(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}}},nf=Object.freeze(Object.defineProperty({__proto__:null,default:af},Symbol.toStringTag,{value:"Module"})),sf={class:"q-gutter-y-sm"},rf={class:"row justify-end q-col-gutter-sm"},uf={class:"row justify-end q-col-gutter-sm"},df={class:"row justify-end q-col-gutter-sm"},cf={class:"row"},mf={class:"col"},_f={class:"col-11"},pf={class:"row justify-end q-gutter-x-sm"},ff={__name:"OfferTradeDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await me(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),{promptPassphrase:p,isLocked:h}=xe(I({index:A(()=>e.index)})),{isValidConfirmed:w,isValidConfirmedUnlocked:k}=Le(d,h),{data:T}=ur(I({id:A(()=>e.offer.address),amount:v(()=>m.amount||0)})),S=v(()=>T.value?.trade.value??null),V=v(()=>T.value?.next_input.value??null),$=()=>{m.amount=parseFloat(V.value)},O=v(()=>({index:e.index,address:e.offer.address,amount:m.amount,price:T.value?.inv_price??e.offer.inv_price,options:{fee_ratio:m.feeRatio}})),{data:H,isLoading:K,latestError:Q}=Yn(O,k),ae=Nn(),me=async()=>{const M=await p(),ie={...O.value,options:{...O.value.options,passphrase:M}};await ae.mutateAsync(ie)},{data:Z}=je(I({index:A(()=>e.index),currency:A(()=>e.offer.ask_currency)}),M=>M?M.spendable:0),ee=M=>M<=Z.value||"Insufficient funds",oe=v(()=>{const M=T.value?parseFloat(T.value.trade.amount):0;return w.value&&m.amount>0&&m.amount<=Z.value&&M>0&&M<=e.offer.bid_balance});return(M,ie)=>{const ke=Re,ft=De,yt=Ce,ht=Ee,ye=Ae,zt=Ve;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(zt,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Trade — "+g(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",sf,[y("div",rf,[a(N,{"model-value":o(Z),label:M.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(m).amount,"onUpdate:modelValue":ie[0]||(ie[0]=Je=>o(m).amount=Je),modelModifiers:{number:!0},debounce:200,label:M.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount,ee],class:"col-md-4 col-sm-5 col-xs-6"},{append:s(()=>[a(j,{icon:o(nn),color:"secondary",round:"",outline:"",dense:"",onClick:$},{default:s(()=>[a(ze,null,{default:s(()=>[q(g(M.$t("market_offers.increase")),1)]),_:1})]),_:1},8,["icon"])]),_:1},8,["modelValue","label","suffix","rules"])]),y("div",uf,[a(N,{"model-value":t.offer.bid_balance_value,label:"They Offer","input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix"]),a(N,{"model-value":o(S),label:M.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",df,[a(ke,{modelValue:o(m).feeRatio,"onUpdate:modelValue":ie[1]||(ie[1]=Je=>o(m).feeRatio=Je),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ft,{modelValue:o(H),"onUpdate:modelValue":ie[2]||(ie[2]=Je=>z(H)?H.value=Je:null),loading:o(K),error:o(Q),locked:o(h),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",cf,[y("div",mf,[a(yt)]),y("div",_f,[y("div",pf,[a(ht),a(ye,{label:M.$t("market_offers.trade"),disable:!o(oe)},null,8,["label","disable"]),a(j,{label:M.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},yf=Object.freeze(Object.defineProperty({__proto__:null,default:ff},Symbol.toStringTag,{value:"Module"})),hf={class:"q-gutter-y-sm"},bf={class:"row justify-end q-col-gutter-sm"},gf={class:"row justify-end q-col-gutter-sm"},vf={class:"row justify-end q-col-gutter-sm"},wf={class:"row"},xf={class:"col"},kf={class:"col-11"},Sf={class:"row justify-end q-gutter-x-sm"},$f={__name:"OfferAcceptDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await O(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,price:e.offer.inv_price,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=Zn(p,k),$=Un(),O=async()=>{const K=await h(),Q={...p.value,options:{...p.value.options,passphrase:K}};await $.mutateAsync(Q)},{data:H}=je(I({index:A(()=>e.index),currency:A(()=>e.offer.ask_currency)}),K=>K?K.spendable:0);return(K,Q)=>{const ae=Re,me=De,Z=Ce,ee=Ee,oe=Ae,M=Ve;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(M,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Accept — "+g(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",hf,[y("div",bf,[a(N,{"model-value":o(H),label:K.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{"model-value":t.offer.ask_value,label:K.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",gf,[a(N,{"model-value":t.offer.bid_balance_value,label:K.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",vf,[a(ae,{modelValue:o(m).feeRatio,"onUpdate:modelValue":Q[0]||(Q[0]=ie=>o(m).feeRatio=ie),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(T),"onUpdate:modelValue":Q[1]||(Q[1]=ie=>z(T)?T.value=ie:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,{class:"q-mt-md"},{default:s(()=>[y("div",wf,[y("div",xf,[a(Z)]),y("div",kf,[y("div",Sf,[a(ee),a(oe,{label:K.$t("market_offers.accept")},null,8,["label"]),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},qf=Object.freeze(Object.defineProperty({__proto__:null,default:$f},Symbol.toStringTag,{value:"Module"}));
