import{y as Mo,D as Bo,N as mt,z as No,A as Le,P as bl,B as Ze,C as Ft,c as v,r as F,w as Se,E as G,F as Y,G as Uo,S as gl,H as Ko,I as Qo,q as vl,Q as zo,V as Ho,J as Xo,K as Go,a as _e,L as et,M as xt,O as b,R as f,T as s,U as kt,W as it,u as o,X as le,Y as a,Z as Jo,_ as E,n as Yo,$ as x,a0 as Zo,a1 as D,a2 as ea,a3 as N,a4 as se,a5 as g,a6 as Ot,a7 as y,a8 as A,a9 as W,aa as re,f as I,ab as Qe,ac as tt,ad as lt,ae as ue,af as O,ag as tl,ah as $,ai as ta,e as z,aj as te,ak as j,x as P,al as $e,am as la,an as oa,ao as ll,ap as ze,aq as Il,ar as Al,as as Ue,at as aa,au as ol,av as It,aw as St,ax as Oe,ay as ge,az as ot,aA as B,aB as Ke,aC as na,aD as At,o as sa,aE as al,aF as ra,i as Pl,t as ut,aG as ia,aH as Ct,aI as ua,aJ as Jt,aK as Pt,aL as Et,aM as bt,aN as gt,aO as Yt,aP as El,aQ as We,aR as Dl,aS as da,aT as nl,aU as at,aV as ca,aW as ma,aX as _a,aY as pa,aZ as fa,a_ as ya,a$ as ha,b0 as ba,b1 as ga,b2 as va,b3 as pe,b4 as He}from"./quasar-BKllwTzg.js";import{a0 as sl,a1 as jl,a2 as Me,a3 as wa,a4 as xa,$ as Wl,a5 as ka,a6 as Sa,a7 as rl,a8 as Ml,a9 as Bl,aa as Nl,ab as $a,ac as Ul,ad as Kl,ae as Ql,af as qa,ag as Ta,ah as Va,ai as Ca,aj as Ra,ak as zl,al as Hl,am as La,an as wl,ao as Fa,ap as Oa,aq as Ia,ar as Aa,as as Pa,at as Ea,au as Da,av as ja,aw as Wa,ax as Ma,ay as Dt,az as il,aA as Ba,aB as Na,aC as Ua,aD as Ka,aE as Qa,aF as za,aG as Ha,aH as Xa,aI as Ga,aJ as Ja,aK as Ya,aL as Za,aM as en,aN as tn,aO as ln,aP as on,aQ as an,aR as nn}from"./modules-xXsD48ZK.js";import{E as sn,u as rn,i as un,a as dn,b as cn,c as mn,d as _n}from"./echarts-CA8EylqL.js";import{_ as L}from"./mmx-wallet-Cr1VWjxB.js";import{b as pn,w as fn}from"./@scure-DkhtbgrZ.js";import Zt from"./locales/common.json-CitLrNoC.js";import Xl from"./locales/en-US.json-CoFvze62.js";import yn from"./locales/quasar/en-US.js-CST473Od.js";const hn={config:{dark:!0},plugins:{Notify:mt,Dialog:Bo},iconSet:Mo},bn=[{path:"/node",component:()=>L(()=>Promise.resolve().then(()=>ei),void 0,import.meta.url),meta:{title:"Node"},children:[{path:"",redirect:"/node/log"},{path:"log",component:()=>L(()=>Promise.resolve().then(()=>ri),void 0,import.meta.url)},{path:"peers",component:()=>L(()=>Promise.resolve().then(()=>Wi),void 0,import.meta.url),meta:{title:"Peers"}},{path:"blocks",component:()=>L(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url),props:{limit:20},meta:{title:"Blocks"}},{path:"netspace",component:()=>L(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url),meta:{title:"Netspace"}},{path:"vdf_speed",component:()=>L(()=>Promise.resolve().then(()=>Qi),void 0,import.meta.url),meta:{title:"VDF Speed"},alias:[]},{path:"reward",component:()=>L(()=>Promise.resolve().then(()=>Hi),void 0,import.meta.url),meta:{title:"Block Reward"},alias:[]}]}],gn=[{path:"/wallet",component:()=>L(()=>Promise.resolve().then(()=>Gi),void 0,import.meta.url),children:[{path:"",component:()=>L(()=>Promise.resolve().then(()=>uu),void 0,import.meta.url),meta:{title:"Wallets"}},{path:"create",component:()=>L(()=>Promise.resolve().then(()=>ku),void 0,import.meta.url),meta:{title:"Create wallet"}},{path:"account/:index",component:()=>L(()=>Promise.resolve().then(()=>nu),void 0,import.meta.url),props:t=>({index:parseInt(t.params.index)}),meta:{title:t=>`Wallet #${t.params.index}`},children:[{path:"",component:()=>L(()=>Promise.resolve().then(()=>Ru),void 0,import.meta.url),meta:{title:"Balance"}},{path:"nfts",component:()=>L(()=>Promise.resolve().then(()=>Ou),void 0,import.meta.url),meta:{title:"NFTs"}},{path:"contracts",component:()=>L(()=>Promise.resolve().then(()=>Ju),void 0,import.meta.url),meta:{title:"Contracts"}},{path:"send/:target?",component:()=>L(()=>Promise.resolve().then(()=>Rl),void 0,import.meta.url),props:t=>({target:t.params.target}),meta:{title:"Send"}},{path:"send_from/:source?",component:()=>L(()=>Promise.resolve().then(()=>Rl),void 0,import.meta.url),props:t=>({source:t.params.source}),meta:{title:"Send"}},{path:"history",component:()=>L(()=>Promise.resolve().then(()=>gd),void 0,import.meta.url),meta:{title:"History"}},{path:"log",component:()=>L(()=>Promise.resolve().then(()=>xd),void 0,import.meta.url),meta:{title:"Log"}},{path:"offer",component:()=>L(()=>Promise.resolve().then(()=>Ed),void 0,import.meta.url),meta:{title:"Offer"}},{path:"liquid",component:()=>L(()=>Promise.resolve().then(()=>Wd),void 0,import.meta.url),meta:{title:"Liquidity"}},{path:"plotnfts",component:()=>L(()=>Promise.resolve().then(()=>tc),void 0,import.meta.url),meta:{title:"Plot NFTs"}},{path:"details",component:()=>L(()=>Promise.resolve().then(()=>ac),void 0,import.meta.url),meta:{title:"Info"}},{path:"options",component:()=>L(()=>Promise.resolve().then(()=>uc),void 0,import.meta.url),meta:{title:"Options"}}]}]}],vn=[{path:"/farmer",component:()=>L(()=>Promise.resolve().then(()=>pc),void 0,import.meta.url),meta:{title:"Farmer"},children:[{path:"",redirect:"/farmer/plots"},{path:"plots",component:()=>L(()=>Promise.resolve().then(()=>wc),void 0,import.meta.url),meta:{title:"Plots"}},{path:"plotnfts",component:()=>L(()=>Promise.resolve().then(()=>qc),void 0,import.meta.url),meta:{title:"PlotNFTs"}},{path:"blocks",component:()=>L(()=>Promise.resolve().then(()=>Vc),void 0,import.meta.url),meta:{title:"Blocks"}},{path:"proofs",component:()=>L(()=>Promise.resolve().then(()=>Rc),void 0,import.meta.url),meta:{title:"Proofs"}}]}],Gl=(t,e,l)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},ul=[{value:"en-US",label:"English"},{value:"id",label:"Bahasa Indonesia"},{value:"de",label:"Deutsch"},{value:"es",label:"Español"},{value:"nl",label:"Nederlands"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"uk",label:"Українська"},{value:"zh-CN",label:"简体中文"}],dt=ul[0].value,wn=Object.assign({"/node_modules/quasar/lang/de.js":()=>L(()=>import("./locales/quasar/de.js-CZhuRTys.js"),[],import.meta.url),"/node_modules/quasar/lang/en-US.js":()=>L(()=>import("./locales/quasar/en-US.js-CST473Od.js"),[],import.meta.url),"/node_modules/quasar/lang/es.js":()=>L(()=>import("./locales/quasar/es.js-DWRJyQUs.js"),[],import.meta.url),"/node_modules/quasar/lang/id.js":()=>L(()=>import("./locales/quasar/id.js-B2dhsrB2.js"),[],import.meta.url),"/node_modules/quasar/lang/nl.js":()=>L(()=>import("./locales/quasar/nl.js-oLrlFdwi.js"),[],import.meta.url),"/node_modules/quasar/lang/pt.js":()=>L(()=>import("./locales/quasar/pt.js-SSfO1hmc.js"),[],import.meta.url),"/node_modules/quasar/lang/ru.js":()=>L(()=>import("./locales/quasar/ru.js-Decg_Iy9.js"),[],import.meta.url),"/node_modules/quasar/lang/uk.js":()=>L(()=>import("./locales/quasar/uk.js-CVvo68qz.js"),[],import.meta.url),"/node_modules/quasar/lang/zh-CN.js":()=>L(()=>import("./locales/quasar/zh-CN.js-DnRfOlZ3.js"),[],import.meta.url)}),xl=(t,e)=>{t.mode==="legacy"?t.global.locale=e:t.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)},xn=async(t,e)=>{const l=Le(kn(e));try{wn[`/node_modules/quasar/lang/${l}.js`]().then(r=>{bl.set(r.default)})}catch(r){console.error(r),bl.set(yn.default)}try{const r=await Gl(Object.assign({"../locales/common.json":()=>L(()=>import("./locales/common.json-CitLrNoC.js"),[],import.meta.url),"../locales/de.json":()=>L(()=>import("./locales/de.json-DZFMEMgc.js"),[],import.meta.url),"../locales/en-US.json":()=>L(()=>import("./locales/en-US.json-CoFvze62.js"),[],import.meta.url),"../locales/es.json":()=>L(()=>import("./locales/es.json-BcfQJ0qc.js"),[],import.meta.url),"../locales/id.json":()=>L(()=>import("./locales/id.json-CeuACP36.js"),[],import.meta.url),"../locales/nl.json":()=>L(()=>import("./locales/nl.json-Bi-8Tzxt.js"),[],import.meta.url),"../locales/pt.json":()=>L(()=>import("./locales/pt.json-kipSuZeO.js"),[],import.meta.url),"../locales/ru.json":()=>L(()=>import("./locales/ru.json-Cb8Yls3y.js"),[],import.meta.url),"../locales/uk.json":()=>L(()=>import("./locales/uk.json-EfLfMENI.js"),[],import.meta.url),"../locales/zh-CN.json":()=>L(()=>import("./locales/zh-CN.json-BcF6vE_W.js"),[],import.meta.url)}),`../locales/${l}.json`,3);t.global.setLocaleMessage(l,wt({},Zt,r)),xl(t,l)}catch{t.global.setLocaleMessage(dt,wt({},Zt,Xl)),xl(t,dt)}},kn=t=>ul.some(e=>e.value==Le(t))?t:dt,Ht=t=>t&&typeof t=="object"&&!Array.isArray(t),wt=(t,...e)=>{if(!e.length)return t;const l=e.shift();if(Ht(t)&&Ht(l))for(const r in l)Ht(l[r])?(t[r]||Object.assign(t,{[r]:{}}),wt(t[r],l[r])):Object.assign(t,{[r]:l[r]});return wt(t,...e)},nt=No({globalInjection:!0,legacy:!1,locale:dt,fallbackLocale:dt,messages:{"en-US":wt({},Zt,Xl)}}),kl=t=>t==null||typeof t=="string"&&t.trim().length===0,Sl=typeof window.mmx<"u",$l=typeof window.mmx_qtgui<"u",we=sl("app",{state:()=>({isDarkTheme:Ze("isDarkTheme",!0),locale:Ze("locale",dt),_wapiBaseUrl:Ze("wapiBaseUrl",null)}),getters:{isWinGUI:()=>Sl,isQtGUI:()=>$l,isGUI:()=>Sl||$l,wapiBaseUrl:t=>typeof __WAPI_URL__<"u"?__WAPI_URL__:null}});jl.defaults.paramsSerializer=t=>{let e="";return Object.keys(t).forEach(l=>{t[l]===void 0||t[l]===null||(e+=`${l}=${encodeURIComponent(t[l])}&`)}),e.substring(0,e.length-1)};const R=jl.create();R.interceptors.request.use(t=>{if(t.url.startsWith("/wapi/")){const e=we();t.baseURL=e.wapiBaseUrl??"/wapi/",t.url=t.url.replace("/wapi/","/")}return t},t=>Promise.reject(t));const U=(...t)=>{const e=Ft(...t),l=v(()=>e.isLoading.value||e.isLoadingError.value),r=v(()=>!l.value&&e.data.value||[]),n=F(!1),i=F(null);Se([e.isError,e.data,e.error],([d,m,p],[h,w,S])=>{h&&(n.value=!0,i.value=S?.request?.response||S.message),m&&!e.isPlaceholderData.value&&(n.value=!1,i.value=null)});const c=v(()=>!e.data.value&&!e.isPending.value||n.value),u=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?i.value:e.error.value?.request?.response||e.error.value?.message),_=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?n.value:e.isError);return{...e,loading:l,rows:r,noData:c,latestError:u,isLatestError:_}},st=1e3,{t:Jl}=nt.global,Sn={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},$n={"Content-Type":"application/json"},jt=t=>{var e=t.value!=null?t.value:"null";mt.create({caption:t.restart?Jl("node_settings.restart_needed"):"",message:`Set '${t.key}' to '${e}'`,type:"positive",group:!1,classes:t.restart?"restart-needed":""})},qe=t=>{mt.create({type:"positive",group:!1,...t})},qn=t=>{mt.create({type:"negative",group:!1,...t})},ne=t=>{const e=t.response?.data||t.message;mt.create({message:e,type:"negative"})},Xt=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},l=/[&<>"'/]/gi;return t.replace(l,r=>e[r])},Tn=(t,e,l,r)=>{const n=Xt(t),i=Xt(e),c=Xt(l);mt.create({type:"positive",group:!1,...r,message:`${n} <a class="text-primary" href="${i}">${c}</a>`,html:!0})},be=(t,e)=>{const l=pt.resolve({name:"transaction",params:{transactionId:t}});Tn(Jl("common.transaction_has_been_sent"),l.href,t,e)},Vn=t=>({...Le(t),options:{...Le(t).options,auto_send:!1}}),Cn=t=>t?parseFloat(t.toFixed(6)):null,Rn=(t,e)=>e.value?Cn(t?.exec_result?.total_fee_value):null,Xe=(t,e,l,r)=>U({queryKey:["wallet","fee",t,e,l],queryFn:({signal:n})=>r(Vn(e),n),select:n=>Rn(n,l),enabled:l,staleTime:0,gcTime:0}),Yl=sl("node",{state:()=>({height:null})}),Zl=t=>R.get("/wapi/node/info",{signal:t}).then(e=>e.data),dl=t=>{const e=U({queryKey:["node_info"],queryFn:({signal:l})=>Zl(l),refetchInterval:t?.refreshInterval??1.1*st,enabled:t?.enabled??!0});return eo(e),e},eo=t=>{const e=Yl(),l=G();Se(t.data,r=>{if(!r)return;const n=r.height;if(e.height!=n){console.log(`⛰️ New height: ${n}`);const i=e.height;e.height=n,l.invalidateQueries({queryKey:["node"]},{cancelRefetch:!1}),l.invalidateQueries({queryKey:["node_log"]},{cancelRefetch:!1}),l.invalidateQueries({queryKey:["block",{height:i}]}),l.invalidateQueries({queryKey:["block",{height:n-1}]}),l.invalidateQueries({queryKey:["block",{height:n}]}),l.invalidateQueries({queryKey:["transaction"]}),l.invalidateQueries({queryKey:["wallet"]}),l.invalidateQueries({queryKey:["market"]}),l.invalidateQueries({queryKey:["swap"]}),l.invalidateQueries({queryKey:["farm","info"]},{cancelRefetch:!1}),n%3==0&&l.invalidateQueries({queryKey:["farm","blocks"]},{cancelRefetch:!1})}})},Ln=()=>{eo(dl({enabled:!1}));const t=G();return Y({mutationFn:()=>Zl(),onSuccess:e=>{t.setQueryData(["node_info"],e)}})},Fn=(t,e)=>R.get("/wapi/node/log",{params:t,signal:e}).then(l=>l.data),On=t=>U({queryKey:["node_log",t],queryFn:({signal:e})=>Fn(t,e),placeholderData:Me,refetchInterval:2*st}),In=(t,e)=>R.get("/wapi/node/graph/blocks",{params:t,signal:e}).then(l=>l.data),cl=(t,e)=>U({queryKey:["node","graph/blocks",t],queryFn:({signal:l})=>In(t,l),select:e}),{t:Pf}=nt.global,An=t=>R.post("/wapi/passphrase/validate",t).then(e=>e.data),Pn=()=>Y({mutationFn:t=>An(t),onError:t=>{qn({message:"Wrong passphrase!"})}}),to=t=>R.post("/wapi/wallet/send",t).then(e=>e.data),lo=()=>{const t=G();return Y({mutationFn:e=>to(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},oo=t=>R.post("/wapi/wallet/execute",t).then(e=>e.data),En=()=>{const t=G();return Y({mutationFn:e=>oo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ao=t=>R.post("/wapi/wallet/make_offer",t).then(e=>e.data),Dn=()=>{const t=G();return Y({mutationFn:e=>ao(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},no=t=>R.post("/wapi/wallet/offer_withdraw",t).then(e=>e.data),jn=()=>{const t=G();return Y({mutationFn:e=>no(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},so=t=>R.post("/wapi/wallet/cancel_offer",t).then(e=>e.data),Wn=()=>{const t=G();return Y({mutationFn:e=>so(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ro=t=>R.post("/wapi/wallet/offer_trade",t).then(e=>e.data),Mn=()=>{const t=G();return Y({mutationFn:e=>ro(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},io=t=>R.post("/wapi/wallet/accept_offer",t).then(e=>e.data),Bn=()=>{const t=G();return Y({mutationFn:e=>io(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},uo=t=>R.post("/wapi/wallet/swap/trade",t).then(e=>e.data),Nn=()=>{const t=G();return Y({mutationFn:e=>uo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Un=t=>R.post("/api/wallet/plotnft_create",t).then(e=>e.data),Kn=()=>{const t=G();return Y({mutationFn:e=>Un(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Created new PlotNFT: "+l.name})},onError:ne})},co=(t,e)=>Xe("send",t,e,to),Qn=(t,e)=>Xe("execute",t,e,oo),zn=(t,e)=>Xe("offer",t,e,ao),Hn=(t,e)=>Xe("offer_withdraw",t,e,no),Xn=(t,e)=>Xe("cancel_offer",t,e,so),Gn=(t,e)=>Xe("offer_trade",t,e,ro),Jn=(t,e)=>Xe("accept_offer",t,e,io),Yn=(t,e)=>Xe("swap/trade",t,e,uo),Zn=t=>R.post("/wapi/wallet/swap/payout",t).then(e=>e.data),es=()=>{const t=G();return Y({mutationFn:e=>Zn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ts=t=>R.post("/wapi/wallet/swap/switch_pool",t).then(e=>e.data),ls=()=>{const t=G();return Y({mutationFn:e=>ts(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},os=t=>R.post("/wapi/wallet/swap/add_liquid",t).then(e=>e.data),as=()=>{const t=G();return Y({mutationFn:e=>os(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ns=t=>R.post("/wapi/wallet/swap/rem_liquid",t).then(e=>e.data),ss=()=>{const t=G();return Y({mutationFn:e=>ns(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},rs=t=>R.post("/wapi/wallet/swap/rem_all_liquid",t).then(e=>e.data),is=()=>{const t=G();return Y({mutationFn:e=>rs(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},us=(t,e)=>R.get("/wapi/wallet/seed",{params:t,signal:e}).then(l=>l.data),ds=()=>Y({mutationFn:t=>us(t),onError:ne}),cs=t=>R.get("/wapi/wallet/accounts",{signal:t}).then(e=>e.data),mo=()=>{const t=G();return U({queryKey:["accounts"],queryFn:async({signal:e})=>{const l=await cs(e);return l?.forEach(r=>{t.setQueryData(["accounts","account",{index:r.account}],r)}),l},gcTime:1/0})},ms=(t,e)=>R.get("/wapi/wallet/account",{params:t,signal:e}).then(l=>l.data),$t=(t,e)=>{const l=G();return U({queryKey:["accounts","account",t],queryFn:({signal:n})=>ms(t,n),enabled:()=>{const i=l.getQueryCache().find({queryKey:["accounts"]});return i&&i.observers.length==0},select:e,gcTime:1/0})},_s=(t,e)=>R.get("/wapi/wallet/keys",{params:t,signal:e}).then(l=>l.data),ps=t=>U({queryKey:["wallet","keys",t],queryFn:({signal:e})=>_s(t,e)}),fs=(t,e)=>R.get("/wapi/wallet/address",{params:t,signal:e}).then(l=>l.data),ml=t=>U({queryKey:["wallet","address",t],queryFn:({signal:e})=>fs(t,e)}),ys=(t,e)=>R.get("/wapi/wallet/balance",{params:t,signal:e}).then(l=>l.data),je=(t,e,l)=>U({queryKey:["wallet","balance",t],queryFn:({signal:r})=>ys(t,r),select:r=>e?e(r):r,placeholderData:Me,enabled:l}),hs=(t,e)=>R.get("/wapi/wallet/history",{params:t,signal:e}).then(l=>l.data),bs=(t,e)=>U({queryKey:["wallet","history",t],queryFn:({signal:l})=>hs(t,l),placeholderData:Me,select:l=>l}),gs=t=>R.get("/wapi/wallet/tokens",{signal:t}).then(e=>e.data),_t=()=>U({queryKey:["walletCfg","tokens"],queryFn:({signal:t})=>gs(t)}),vs=(t,e)=>R.get("/wapi/wallet/tx_history",{params:t,signal:e}).then(l=>l.data),ws=t=>U({queryKey:["wallet","tx_history",t],queryFn:({signal:e})=>vs(t,e)}),xs=(t,e)=>R.get("/wapi/wallet/contracts",{params:t,signal:e}).then(l=>l.data),_o=(t,e)=>U({queryKey:["wallet","contracts",t],queryFn:({signal:l})=>xs(t,l),enabled:e??!0}),ks=(t,e)=>R.get("/wapi/plotnft",{params:t,signal:e}).then(l=>l.data),Ss=t=>U({queryKey:["plotnft",t],queryFn:({signal:e})=>ks(t,e)}),$s=(t,e)=>R.get("/wapi/wallet/offers",{params:t,signal:e}).then(l=>l.data),po=t=>U({queryKey:["wallet","offers",t],queryFn:({signal:e})=>$s(t,e),select:e=>e.sort((l,r)=>r.height-l.height),placeholderData:Me}),qs=(t,e)=>R.get("/wapi/wallet/swap/liquid",{params:t,signal:e}).then(l=>l.data),Ts=t=>U({queryKey:["wallet","swap","liquid",t],queryFn:({signal:e})=>qs(t,e)}),Vs=t=>R.get("/wapi/farm/info",{signal:t}).then(e=>e.data),qt=t=>U({queryKey:["farm","info"],queryFn:({signal:e})=>Vs(e),select:e=>t?t(e):e}),Cs=(t,e)=>R.get("/wapi/farm/blocks/summary",{params:t,signal:e}).then(l=>l.data),fo=t=>U({queryKey:["farm","blocks","summary",t],queryFn:({signal:e})=>Cs(t,e)}),Rs=(t,e)=>R.get("/wapi/farm/blocks",{params:t,signal:e}).then(l=>l.data),Ls=t=>U({queryKey:["farm","blocks",t],queryFn:({signal:e})=>Rs(t,e)}),Fs=(t,e)=>R.get("/wapi/farm/proofs",{params:t,signal:e}).then(l=>l.data),Os=t=>U({queryKey:["farm","proofs",t],queryFn:({signal:e})=>Fs(t,e)}),Is=(t,e)=>R.get("/wapi/headers",{params:t,signal:e}).then(l=>l.data),As=t=>U({queryKey:["node","headers",t],queryFn:({signal:e})=>Is(t,e)}),yo=(t,e)=>R.get("/wapi/block",{params:t,signal:e}).then(l=>l.data),Ps=t=>U({queryKey:["block",t],queryFn:({signal:e})=>yo(t,e),placeholderData:Me}),Es=(t,e)=>R.get("/wapi/header",{params:t,signal:e}).then(l=>l.data),Ds=()=>Y({mutationFn:t=>Es(t)}),ql=(t,e)=>{t.prefetchQuery({queryKey:["block",e],queryFn:({signal:l})=>yo(e,l)})},js=(t,e)=>R.get("/wapi/transactions",{params:t,signal:e}).then(l=>l.data),Ws=t=>U({queryKey:["node","transactions",t],queryFn:({signal:e})=>js(t,e)}),Ms=(t,e)=>R.get("/wapi/transaction",{params:t,signal:e}).then(l=>l.data),Bs=t=>U({queryKey:["transaction",t],queryFn:({signal:e})=>Ms(t,e),select:e=>{for(const l of e.operations)delete l.solution;return e}}),ho=(t,e)=>R.get("/wapi/farmers",{params:t,signal:e}).then(l=>l.data),Ns=t=>U({queryKey:["node","farmers",t],queryFn:({signal:e})=>ho(t,e)}),Us=(t,e)=>{t.prefetchQuery({queryKey:["node","farmers",e],queryFn:({signal:l})=>ho(e,l),staleTime:st})},Ks=(t,e)=>R.get("/wapi/farmer",{params:t,signal:e}).then(l=>l.data),Qs=t=>U({queryKey:["node","farmer",t],queryFn:({signal:e})=>Ks(t,e)}),zs=(t,e)=>R.get("/wapi/farmer/blocks",{params:t,signal:e}).then(l=>l.data),Hs=t=>U({queryKey:["node","farmer","blocks",t],queryFn:({signal:e})=>zs(t,e)}),Xs=(t,e)=>R.get("/wapi/contract",{params:t,signal:e}).then(l=>l.data),Gs=t=>U({queryKey:["node","contract",t],queryFn:({signal:e})=>Xs(t,e)}),Js=(t,e)=>R.get("/wapi/address/history",{params:t,signal:e}).then(l=>l.data),Ys=t=>U({queryKey:["node","address","history",t],queryFn:({signal:e})=>Js(t,e)}),Zs=(t,e)=>R.get("/wapi/address",{params:t,signal:e}).then(l=>l.data),er=(t,e)=>U({queryKey:["node","address",t],queryFn:({signal:l})=>Zs(t,l),select:l=>e?e(l):l}),tr=(t,e)=>R.get("/wapi/balance",{params:t,signal:e}).then(l=>l.data),bo=t=>U({queryKey:["node","balance",t],queryFn:({signal:e})=>tr(t,e),select:e=>e.balances}),{t:Ef}=nt.global,lr=(t,e)=>R.get("/wapi/offers",{params:t,signal:e}).then(l=>l.data),or=t=>U({queryKey:["market","offers",t],queryFn:({signal:e})=>lr(t,e),placeholderData:Me}),ar=(t,e)=>R.get("/wapi/trade_history",{params:t,signal:e}).then(l=>l.data),nr=t=>U({queryKey:["market","offers","trade_history",t],queryFn:({signal:e})=>ar(t,e),placeholderData:Me}),sr=(t,e)=>R.get("/wapi/offer/trade_estimate",{params:t,signal:e}).then(l=>l.data),rr=(t,e)=>U({queryKey:["market","offers","trade_estimate",t,e],queryFn:({signal:l})=>sr(t,l),enabled:e,staleTime:0,gcTime:0}),{t:Df}=nt.global,ir=(t,e)=>R.get("/wapi/swap/list",{params:t,signal:e}).then(l=>l.data),ur=t=>U({queryKey:["swap","list",t],queryFn:({signal:e})=>ir(t,e),placeholderData:Me}),dr=(t,e)=>R.get("/wapi/swap/info",{params:t,signal:e}).then(l=>l.data),Wt=t=>U({queryKey:["swap","info",t],queryFn:({signal:e})=>dr(t,e)}),cr=(t,e)=>R.get("/wapi/swap/history",{params:t,signal:e}).then(l=>l.data),mr=t=>U({queryKey:["swap","history",t],queryFn:({signal:e})=>cr(t,e)}),_r=(t,e)=>R.get("/wapi/swap/user_info",{params:t,signal:e}).then(l=>l.data),go=(t,e)=>U({queryKey:["swap","user_info",t],queryFn:({signal:l})=>_r(t,l),placeholderData:Me,enabled:e}),pr=(t,e)=>R.get("/wapi/swap/trade_estimate",{params:t,signal:e}).then(l=>l.data),fr=(t,e)=>U({queryKey:["swap","trade_estimate",t,e],queryFn:({signal:l})=>pr(t,l),enabled:e,staleTime:0,gcTime:0}),yr=t=>R.get("/wapi/config/get",{signal:t}).then(e=>e.data),hr=()=>U({queryKey:["config"],queryFn:({signal:t})=>yr(t),gcTime:1/0}),br=t=>R.post("/wapi/config/set",t).then(e=>e.data),gr=()=>{const t=G();return Y({mutationFn:({key:e,value:l,tmp_only:r})=>br({key:e,value:l,tmp_only:r}),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),l.suppressNotification||jt(l)},onError:ne})},vr=t=>R.get("/wapi/chain/info",{signal:t}).then(e=>e.data),vo=()=>U({queryKey:["chain","info"],queryFn:({signal:t})=>vr(t),gcTime:1/0}),{t:jf}=nt.global,wr=[{path:"/explore",component:()=>L(()=>Promise.resolve().then(()=>Ec),void 0,import.meta.url),meta:{title:"Explore"},children:[{path:"",redirect:"/explore/blocks"},{path:"blocks",component:()=>L(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url),meta:{title:"Blocks",indexPage:!0}},{path:"block/hash/:hash",component:()=>L(()=>Promise.resolve().then(()=>Ll),void 0,import.meta.url),props:t=>({hash:t.params.hash}),meta:{title:t=>`Block #${t.params.hash}`,prefetcher:(t,e)=>{const l={hash:e.params.hash};ql(t,l)}}},{path:"block/height/:height",component:()=>L(()=>Promise.resolve().then(()=>Ll),void 0,import.meta.url),props:t=>({height:parseInt(t.params.height)}),meta:{title:t=>`Block #${t.params.height}`,prefetcher:(t,e)=>{const l={height:parseInt(e.params.height)};ql(t,l)}}},{path:"transactions",component:()=>L(()=>Promise.resolve().then(()=>Bc),void 0,import.meta.url),meta:{title:"Transactions",indexPage:!0}},{name:"transaction",path:"transaction/:transactionId",component:()=>L(()=>Promise.resolve().then(()=>Xc),void 0,import.meta.url),props:t=>({transactionId:t.params.transactionId}),meta:{title:t=>`Transaction #${t.params.transactionId}`}},{path:"farmers",component:()=>L(()=>Promise.resolve().then(()=>tm),void 0,import.meta.url),meta:{title:"Farmers",indexPage:!0,prefetcher:(t,e)=>{Us(t,{limit:100})}}},{path:"farmer/:farmerKey",component:()=>L(()=>Promise.resolve().then(()=>nm),void 0,import.meta.url),props:t=>({farmerKey:t.params.farmerKey}),meta:{title:t=>`Farmer #${t.params.farmerKey}`}},{name:"address",path:"address/:address",component:()=>L(()=>Promise.resolve().then(()=>cm),void 0,import.meta.url),props:t=>({address:t.params.address}),meta:{title:t=>`Address #${t.params.address}`}}]}],xr=[{path:"/market",component:()=>L(()=>Promise.resolve().then(()=>fm),void 0,import.meta.url),meta:{title:"Market"},children:[{path:"",redirect:"/market/offers"},{path:"offers",component:()=>L(()=>Promise.resolve().then(()=>vm),void 0,import.meta.url),meta:{title:"Offers"}},{path:"history",component:()=>L(()=>Promise.resolve().then(()=>km),void 0,import.meta.url),meta:{title:"History"}}]}],kr=[{path:"/swap",component:()=>L(()=>Promise.resolve().then(()=>qm),void 0,import.meta.url),meta:{title:"Swap"},children:[{path:"",component:()=>L(()=>Promise.resolve().then(()=>Fm),void 0,import.meta.url)},{path:":address",component:()=>L(()=>Promise.resolve().then(()=>Wm),void 0,import.meta.url),props:t=>({address:t.params.address}),children:[{path:"",redirect:{name:"trade"}},{name:"trade",path:"trade",component:()=>L(()=>Promise.resolve().then(()=>e_),void 0,import.meta.url),meta:{title:"Trade"}},{path:"history",component:()=>L(()=>Promise.resolve().then(()=>l_),void 0,import.meta.url),meta:{title:"History"}},{path:"liquid",component:()=>L(()=>Promise.resolve().then(()=>m_),void 0,import.meta.url),meta:{title:"Liquid"}},{path:"pool",component:()=>L(()=>Promise.resolve().then(()=>f_),void 0,import.meta.url),meta:{title:"Pool"}}]}]}],Sr=[{path:"/:catchAll(.*)*",component:()=>L(()=>Promise.resolve().then(()=>g_),void 0,import.meta.url),meta:{requiresAuth:!1,title:"Page not found"}}],$r=[...bn,...gn,...vn,...wr,...xr,...kr,...Sr,{path:"/",redirect:"/node"},{path:"/login",name:"login",component:()=>L(()=>Promise.resolve().then(()=>V_),void 0,import.meta.url),meta:{title:"Login",layout:!1,requiresAuth:!1}},{path:"/settings",component:()=>L(()=>Promise.resolve().then(()=>G_),void 0,import.meta.url),meta:{title:"Settings"}}];let wo;wo=$r;const qr=wo,Tr=async t=>{if(t.meta.layout===!1){t.meta.layoutComponent="div";return}const e=t.meta.layout??"default",l=await Gl(Object.assign({"../../layouts/default.vue":()=>L(()=>Promise.resolve().then(()=>hp),void 0,import.meta.url)}),`../../layouts/${e}.vue`,4);t.meta.layoutComponent=l.default},Vr=async t=>{var l="MMX Node";t.matched.forEach(r=>{const n=r.meta.title;n&&(n instanceof Function?l+=` — ${n(t)}`:l+=` — ${n}`)}),Uo(l)},Ie=sl("session",{state:()=>({isLoggedIn:Ze("isLoggedIn",!1),credentials:Ze("credentials",null,{serializer:gl.object}),autoLogin:Ze("autoLogin",!1),activeWalletIndex:Ze("activeWalletIndex",null,{serializer:gl.number}),market:{menu:{bid:null,ask:null}},swap:{menu:{token:null,currency:null}}}),actions:{doLogin(t){this.autoLogin&&(this.credentials=t),console.log("login"),this.isLoggedIn=!0,this.router.currentRoute.value.query?.redirect?this.router.replace(this.router.currentRoute.value.query.redirect):this.router.replace("/")},doLogout(t){console.log("logout"),t&&(this.credentials=null,this.autoLogin=!1),this.isLoggedIn=!1,!we().isGUI&&(!t&&this.router.currentRoute.value.path!="/login"?this.router.push({path:"/login",query:{redirect:this.router.currentRoute.value.fullPath}}):this.router.push("/login"),this.queryClient.clear(),wa()._s.forEach(l=>l.$reset()))}}}),Cr=async(t,e)=>{const l=we(),r=Ie();if(t.matched.some(i=>i.meta.requiresAuth||!Object.hasOwn(i.meta,"requiresAuth"))&&!r.isLoggedIn&&!l.isGUI)return{path:"/login",query:{redirect:t.fullPath}};if(t.name==="login"&&r.isLoggedIn&&!l.isGUI)return{path:"/"}},pt=Ko({history:Qo("./"),routes:qr});pt.beforeEach(Tr);pt.afterEach(Vr);pt.beforeEach(Cr);const xo=xa();xo.use(({store:t})=>{t.router=vl(pt),t.queryClient=vl(G())});const Rr=new zo({defaultOptions:{queries:{retry:!1,networkMode:"always"},mutations:{networkMode:"always"}}}),Lr={queryClient:Rr};Wl.registerLanguage("mmx",ka);Wl.registerLanguage("json",Sa);function Fr(t){t.use(Go,hn),t.use(pt),t.use(xo),t.use(nt),t.use(Ho,Lr),t.use(Xo)}const Or=t=>R.get("./guiBuildInfo.json",{signal:t,headers:Sn}).then(e=>e.data),Ir=()=>Ft({queryKey:["guiBuildInfo"],queryFn:({signal:t})=>Or(t),refetchInterval:5*st}),Ar=()=>{const t="D74FAC9059334",e=F(!1),{data:l}=Ir();_e(()=>{const c=l.value?.id;e.value=c&&t!=c});const r=et(),n=xt(),i=F(!1);return Se([e,()=>n.path],()=>{e.value===!0&&i.value===!1&&(i.value=!0,r.dialog({type:"warning",title:"An update is available",message:"Please refresh the page to apply the update",persistent:!0,cancel:!0,ok:{push:!0,color:"negative",label:"Refresh",tabIndex:0}}).onOk(()=>{window.location.reload()}).onDismiss(()=>{i.value=!1}))}),{updated:e}},Pr={__name:"AppLayout",setup(t){const e=xt();return Ar(),(l,r)=>(f(),b(it(o(e).meta.layoutComponent||"div"),null,{default:s(()=>[kt(l.$slots,"default")]),_:3}))}},Ae={__name:"TrRouterView",props:{show:{type:Boolean,default:!0,required:!1}},setup(t){return(e,l)=>{const r=le("RouterView");return f(),b(r,null,{default:s(({Component:n})=>[a(Jo,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn"},{default:s(()=>[t.show?(f(),b(it(n),{key:0})):E("",!0)]),_:2},1024)]),_:1})}}};let Tl;const Er=()=>{const t=et(),e=we();_e(()=>t.dark.set(e.isDarkTheme)),window.mmx?.theme_dark!==void 0&&!Tl&&(Tl=setInterval(()=>{e.isDarkTheme=window.mmx.theme_dark},500))};let Vl;const Dr=()=>{const t=we(),e=async l=>(xn(nt,l),Yo());_e(()=>e(t.locale)),window.mmx?.locale!==void 0&&!Vl&&(Vl=setInterval(()=>{t.locale=window.mmx.locale},500))},jr={__name:"App",setup(t){return Er(),Dr(),(e,l)=>{const r=Ae,n=Pr;return f(),x(D,null,[a(n,null,{default:s(()=>[a(r)]),_:1}),a(o(Zo))],64)}}},ko=ea(jr);Fr(ko);ko.mount("#app");const Wr={key:0},Mr={key:0},Br={key:1},Nr={key:0},Cl="row justify-center",So={__name:"InfoTile",props:{tile:{type:Object,default:null},rows:{type:[Object],default:null},loading:Boolean},setup(t){const e=t,l=v(()=>{var i;e.tile.field instanceof Function?i=e.tile.field(e.rows):i=e.rows[e.tile.field];const c=e.tile.format;return c?c(i):i}),r=`${Cl} q-pb-sm q-pt-none text-subtitle1`,n=`${Cl} q-pt-sm q-pb-none text-h6`;return(i,c)=>(f(),b(A,{flat:"",bordered:""},{default:s(()=>[a(N,{class:se(n)},{default:s(()=>[e.loading?(f(),b(Ot,{key:1,square:"",width:"50%"})):(f(),x("div",Wr,[o(l)!=null?(f(),x("div",Mr,g(o(l)),1)):(f(),x("div",Br," "))]))]),_:1}),a(N,{class:se(r)},{default:s(()=>[e.tile.label!=null?(f(),x("div",Nr,g(e.tile.label),1)):E("",!0),c[0]||(c[0]=y("div",{else:""}," ",-1))]),_:1})]),_:1}))}},Ur={class:"row q-col-gutter-xs"},Kr={__name:"NodeInfo",setup(t){const{rows:e,loading:l}=dl(),{t:r}=W(),n=v(()=>[{field:"is_synced",label:r("node_info.synced"),format:i=>r(i?"common.yes":"common.no")},{field:"height",label:r("node_info.height")},{field:"total_space",label:r("node_info.netspace"),format:i=>`${(i/Math.pow(1e3,2)).toFixed(3)} PB`},{field:"vdf_speed",label:r("node_info.vdf_speed"),format:i=>`${i.toFixed(3)} MH/s`},{field:"address_count",label:r("node_info.no_addresses")},{field:"block_size",label:r("node_info.block_size")},{field:"average_txfee",label:"Avg. TX Fee",format:i=>i.value>1?i.value.toPrecision(6):i.value},{field:"block_reward",label:r("node_info.block_reward"),format:i=>`${i.value.toFixed(3)} MMX`}]);return(i,c)=>{const u=So;return f(),x("div",null,[y("div",Ur,[(f(!0),x(D,null,re(o(n),_=>(f(),x("div",{key:_.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(u,{tile:_,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},ct={timelord:{name:"timelord",restart:!0,default:!1},open_port:{name:"Router.open_port",restart:!0,default:!1},allow_remote:{name:"allow_remote",restart:!0,default:!1},cuda_enable:{name:"cuda.enable",restart:!0,default:!1},opencl_platform:{name:"opencl.platform",restart:!0,default:null,suppressNotification:!0},opencl_device:{name:"Node.opencl_device",restart:!0,suppressNotification:!0},opencl_device_name:{name:"Node.opencl_device_name",restart:!0},opencl_device_select:{name:"Node.opencl_device_select",restart:!0,default:-1,tmp_only:!0,suppressNotification:!0},opencl_device_list:{default:[]},opencl_device_list_relidx:{default:[]},farmer_reward_addr:{name:"Farmer.reward_addr",restart:!0},timelord_reward_addr:{name:"TimeLord.reward_addr",restart:!0},harv_num_threads:{name:"Harvester.num_threads",restart:!0},reload_interval:{name:"Harvester.reload_interval",restart:!0},recursive_search:{name:"Harvester.recursive_search",restart:!0,default:!1},plot_dirs:{name:"Harvester.plot_dirs",restart:!1},version:{name:"build.version"},commit:{name:"build.commit"}},Qr=()=>{const t={};return Object.keys(ct).forEach(e=>{const{default:l}=ct[e];t[e]=l??null}),t},zr=Qr(),Hr=(t,e)=>{if(e){Object.keys(ct).forEach(l=>{const{name:r,default:n}=ct[l];r!==void 0&&(t[l]=e?.[r]??n)});{t.opencl_device_list=[],t.opencl_device_list_relidx=[],t.opencl_device_list.push({label:"None",value:-1});let l=e["Node.opencl_device_list"];if(l)for(const[r,n]of l.entries())t.opencl_device_list.push({label:n[0],value:r}),t.opencl_device_list_relidx.push({name:n[0],index:n[1]})}}};function ve(){const t=gr(),{data:e,isPending:l,isError:r}=hr(),n=v(()=>l.value||r.value),i=I({...zr}),c=[];_e(()=>{Object.keys(c).forEach(m=>c[m]()),Hr(i,e.value),Object.keys(i).forEach(m=>{c[m]=Se(()=>i[m],(p,h)=>{const w=ct[m].name;t.mutate({...ct[m],key:w,value:p})})})});const u=v(()=>{if(!e.value)return!1;const m=e.value?.wallet;return!!(m||m==null)}),_=v(()=>{if(!e.value)return!1;const m=e.value?.farmer;return!!(m||m==null)}),d=v(()=>{if(!e.value)return!1;const m=e.value?.local_node;return!!(m||m==null)});return{data:i,loading:n,isWallet:u,isFarmer:_,isLocalNode:d}}const Xr={__name:"NodeMenu",setup(t){const{isLocalNode:e}=ve(),{t:l}=W(),r=v(()=>[{to:"/node/log",label:l("node_menu.log")},{to:"/node/peers",label:l("node_menu.peers"),visible:e.value},{to:"/node/blocks",label:l("node_menu.blocks")},{to:"/node/netspace",label:l("node_menu.netspace")},{to:"/node/vdf_speed",label:l("node_menu.vdf_speed")},{to:"/node/reward",label:l("node_menu.block_reward")}]);return(n,i)=>(f(),b(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(r),(c,u)=>(f(),x(D,{key:u},[c.visible??!0?(f(),b(Qe,{key:0,to:c.to,exact:c.exact??!1,label:c.label,icon:c.icon},null,8,["to","exact","label","icon"])):E("",!0)],64))),128))]),_:1}))}},Gr={class:"row q-col-gutter-xs"},$o={__name:"FarmerInfo",setup(t){const{rows:e,loading:l}=qt(),{rows:r}=fo({since:1e4}),{t:n}=W(),i=v(()=>[{field:"total_bytes",label:n("farmer_info.physical_size"),format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TB`},{field:"total_bytes_effective",label:"Effective Size",format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TBe`}]),c=v(()=>[{field:"num_blocks",label:"No. Blocks"},{field:"total_rewards_value",label:"Total Rewards",format:u=>`${(u??0).toFixed(3)} MMX`}]);return(u,_)=>{const d=So;return f(),x("div",null,[y("div",Gr,[(f(!0),x(D,null,re(o(i),m=>(f(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(d,{tile:m,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128)),(f(!0),x(D,null,re(o(c),m=>(f(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(d,{tile:m,rows:o(r),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},Jr={class:"q-gutter-y-sm"},Yr={class:"q-col-gutter-xs"},Zr={__name:"index",setup(t){const{isFarmer:e}=ve();return(l,r)=>{const n=Ae;return f(),b(lt,{padding:""},{default:s(()=>[y("div",Jr,[y("div",Yr,[a(o(Kr)),o(e)?(f(),b(o($o),{key:0})):E("",!0)]),a(A,{flat:""},{default:s(()=>[a(o(Xr)),a(n)]),_:1})])]),_:1})}}},ei=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"})),de={__name:"TableBodySkeleton",props:{props:{type:Object,required:!0},rowCount:{type:Number,default:10},loading:Boolean},setup(t){const e=t,l=r=>r instanceof Function?"":r;return(r,n)=>(f(!0),x(D,null,re(e.rowCount,i=>(f(),x("tr",{key:i},[(f(!0),x(D,null,re(e.props.cols,c=>(f(),x("td",{key:c,class:se(l(c.classes))},[a(Ot,{key:"text"})],2))),128))]))),128))}},fe=(t,e)=>{const l=t.__vccOpts||t;for(const[r,n]of e)l[r]=n;return l},ti={key:0,class:"flex"},li={style:{"font-size":"0px"}},oi=["set"],ai={key:0,style:{color:"darkcyan"}},ni={__name:"LogIndex",setup(t){const e=/(?<=\s|^)(\d+(?:\.\d+)?)(?=,|\s|$)/g,{t:l}=W(),r=we(),n=w=>{const S=w.row.level;if(S==1)return"error";if(S==2)return"warning"},i=v(()=>[{label:l("node_log_table.time"),field:"time",align:"left",headerStyle:"width: 6%",format:w=>new Date(w/1e3).toLocaleTimeString()},{label:l("node_log_table.module"),field:"module",align:"right",headerStyle:"width: 8%"},{name:"message",label:l("node_log_table.message"),field:"message",align:"left"}]),c=v(()=>[{value:null,label:l("node_log.terminal")},{value:"Node",label:l("node_log.node")},{value:"Router",label:l("node_log.router")},{value:"Wallet",label:l("node_log.wallet")},{value:"Farmer",label:l("node_log.farmer")},{value:"Harvester",label:l("node_log.harvester")},{value:"TimeLord",label:l("node_log.timelord")}]),u=F(100),_=F(3),d=F(null),{rows:m,loading:p}=On(I({limit:u,level:_,module:d})),h=v(()=>Array.isArray(m.value)?m.value.filter(w=>!r.isWinGUI||w.module!="HttpServer"):[]);return(w,S)=>{const T=de;return f(),b(te,{rows:o(h),columns:o(i),loading:o(p),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",dense:""},ue({top:s(()=>[a(ta,{modelValue:o(d),"onUpdate:modelValue":S[0]||(S[0]=k=>z(d)?d.value=k:null),options:o(c),"toggle-color":"primary",color:"grey-6",dense:"",flat:""},null,8,["modelValue","options"])]),"body-cell":s(k=>[a(O,{props:k,class:se(n(k))},{default:s(()=>[k.col.name=="message"?(f(),x(D,{key:0},[k.value.includes("------------")?(f(),x("span",ti,[y("span",li,g(k.value),1),a(tl,{color:"orange",style:{"flex-grow":"1"},class:"q-mr-md"})])):(f(!0),x(D,{key:1},re(k.value.split(e),(C,q)=>(f(),x("span",{key:q,set:w.m=k.value.match(e)},[w.m&&w.m.includes(C)?(f(),x("span",ai,g(C),1)):(f(),x(D,{key:1},[$(g(C),1)],64))],8,oi))),128))],64)):(f(),x(D,{key:1},[$(g(k.value),1)],64))]),_:2},1032,["props","class"])]),_:2},[o(p)?{name:"bottom-row",fn:s(k=>[a(T,{props:k,"row-count":o(u)},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},si=fe(ni,[["__scopeId","data-v-f6314779"]]),ri=Object.freeze(Object.defineProperty({__proto__:null,default:si},Symbol.toStringTag,{value:"Module"})),qo=t=>R.get("/api/router/get_peer_info",{signal:t}).then(e=>e.data),ii=()=>U({queryKey:["peers"],queryFn:({signal:t})=>qo(t),select:t=>t.peers,refetchInterval:5.1*st}),ui=()=>{const t=G();return Y({mutationFn:()=>qo(),onSuccess:e=>{t.setQueryData(["peers"],e)}})},di=t=>R.post("/api/router/kick_peer",{address:t}).then(e=>e.data),ci=()=>{const t=G();return Y({mutationFn:e=>di(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["peers"]}),qe({message:"Peer kicked: "+l})}})},mi=t=>R.post("/api/node/revert_sync",t).then(e=>e.data),_i=()=>{const t=G();return Y({mutationFn:e=>mi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["node"]}),t.invalidateQueries({queryKey:["config"]}),jt({key:"Node.revert_sync",value:l.height,restart:!1})}})},pi=t=>R.post("/api/harvester/add_plot_dir",{path:t}).then(e=>e.data),fi=()=>{const t=G();return Y({mutationFn:e=>pi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),jt({key:"Harvester.plot_dirs",value:"+ "+l,restart:!1})},onError:ne})},yi=t=>R.post("/api/harvester/rem_plot_dir",{path:t}).then(e=>e.data),hi=()=>{const t=G();return Y({mutationFn:e=>yi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),jt({key:"Harvester.plot_dirs",value:"- "+l,restart:!1})},onError:ne})},bi=t=>R.post("/api/wallet/add_token",{address:t}).then(e=>e.data),gi=()=>{const t=G();return Y({mutationFn:e=>bi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Added token to whitelist: "+l})},onError:ne})},vi=t=>R.post("/api/wallet/rem_token",{address:t}).then(e=>e.data),wi=()=>{const t=G();return Y({mutationFn:e=>vi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Removed token from whitelist: "+l})},onError:ne})},xi=()=>R.post("/api/harvester/reload").then(t=>t.data),ki=()=>{const t=G();return Y({mutationFn:()=>xi(),onSuccess:()=>{t.invalidateQueries({queryKey:["farm"]}),qe({message:"Plots reloaded"})}})},Si=t=>R.post("/api/wallet/create_wallet",t).then(e=>e.data),$i=()=>{const t=G();return Y({mutationFn:e=>Si(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet created"})},onError:ne})},qi=t=>R.get("/api/wallet/remove_account",{params:t}).then(e=>e.data),Ti=()=>{const t=G();return Y({mutationFn:e=>qi(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet removed"})},onError:ne})},Vi=t=>R.post("/api/wallet/reset_cache",{index:t}).then(e=>e.data),Ci=()=>Y({mutationFn:t=>Vi(t),onSuccess:()=>{qe({message:"Cache reset successfully"})},onError:ne}),Ri=t=>R.post("/api/wallet/set_address_count",t).then(e=>e.data),Li=()=>{const t=G();return Y({mutationFn:e=>Ri(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Updated successfully"})},onError:ne})},Fi=(t,e)=>R.get("/api/wallet/is_locked",{params:t,signal:e}).then(l=>l.data),Oi=t=>({queryKey:["wallet","is_locked",t],queryFn:({signal:e})=>Fi(t,e)}),Ii=(t,e)=>U({...Oi(t),enabled:e}),Ai=t=>R.post("/api/wallet/lock",t).then(e=>e.data),Pi=t=>{const e=G();return Y({mutationFn:()=>Ai(t),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} locked`})},onError:ne})},Ei=t=>R.post("/api/wallet/unlock",t).then(e=>e.data),Di=t=>{const e=G();return Y({mutationFn:l=>Ei({...t,passphrase:l}),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} unlocked`})},onError:ne})},ji={__name:"PeersIndex",setup(t){const{t:e}=W(),l=v(()=>[{label:e("node_peers.ip"),field:"address",headerStyle:"width: 10%"},{label:e("node_peers.height"),field:"height",headerStyle:"width: 7%"},{label:e("node_peers.type"),field:"type",headerStyle:"width: 10%"},{label:e("node_peers.version"),field:"version",headerStyle:"width: 5%"},{name:"received",label:e("node_peers.received"),field:"bytes_recv",format:u=>(u/1024/1024).toFixed(1)},{name:"send",label:e("node_peers.send"),field:"bytes_send",format:u=>(u/1024/1024).toFixed(1)},{name:"ping",label:e("node_peers.ping"),field:"ping_ms"},{name:"duration",label:e("node_peers.duration"),field:"connect_time_ms",format:u=>(u/1e3/60).toFixed()},{label:e("node_peers.connection"),field:"is_outbound",format:u=>e(u?"node_peers.outbound":"node_peers.inbound")},{name:"action",label:"Action",field:"action",align:"right"}]),{rows:r,loading:n}=ii(),i=ci(),c=u=>{i.mutate(u)};return(u,_)=>{const d=de;return f(),b(te,{rows:o(r),columns:o(l),loading:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-received":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[0]||(_[0]=$(" MB "))]),_:2},1032,["props"])]),"body-cell-send":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[1]||(_[1]=$(" MB "))]),_:2},1032,["props"])]),"body-cell-ping":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[2]||(_[2]=$(" ms "))]),_:2},1032,["props"])]),"body-cell-duration":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,g(m.value),1),_[3]||(_[3]=$(" min "))]),_:2},1032,["props"])]),"body-cell-action":s(m=>[a(O,{props:m},{default:s(()=>[a(j,{label:u.$t("node_peers.kick"),outline:"",color:"secondary",onClick:p=>c(m.row.address)},null,8,["label","onClick"])]),_:2},1032,["props"])]),_:2},[o(n)?{name:"bottom-row",fn:s(m=>[a(d,{props:m,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Wi=Object.freeze(Object.defineProperty({__proto__:null,default:ji},Symbol.toStringTag,{value:"Module"})),Mt=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(64-e)),Be=t=>{const e=t.col.xclasses,l=t.value;return e instanceof Function?e(l):e},To={__name:"BlockTable",props:{rows:{type:Object,required:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("explore_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"VDF",field:"vdf_count",format:n=>`+${n}`,headerStyle:"width: 5%"},{label:l("explore_blocks.tx"),field:"tx_count",headerStyle:"width: 5%"},{label:l("explore_blocks.k"),field:n=>n.ksize,format:n=>`k${n}`,headerStyle:"width: 5%"},{label:l("explore_blocks.score"),field:n=>n.score,headerStyle:"width: 7%"},{label:l("explore_blocks.reward"),field:n=>n.reward_amount.value,format:n=>n.toFixed(3),xclasses:"main-currency",headerStyle:"width: 12%"},{label:"TX Fees",field:n=>n.tx_count?n.tx_fees.value:null,format:n=>n?n.toFixed(3):"",xclasses:n=>n&&"main-currency",headerStyle:"width: 12%"},{label:l("explore_blocks.size"),field:"static_cost_ratio",format:n=>(n*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{label:l("explore_blocks.cost"),field:"total_cost_ratio",format:n=>(n*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{name:"hash",label:l("explore_blocks.hash"),field:"hash",align:"left"}]);return(n,i)=>{const c=de,u=le("RouterLink");return f(),b(te,{rows:t.rows,columns:o(r),loading:t.loading,pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(_=>[a(O,{props:_},{default:s(()=>[a(u,{to:`/explore/block/height/${_.value}`,class:"text-primary"},{default:s(()=>[$(g(_.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-hash":s(_=>[a(O,{props:_},{default:s(()=>[a(u,{to:`/explore/block/hash/${_.value}`,class:"text-primary mono"},{default:s(()=>[$(g(("getShortHash"in n?n.getShortHash:o(Mt))(_.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(_=>[a(O,{props:_},{default:s(()=>[y("div",{class:se(("getXClasses"in n?n.getXClasses:o(Be))(_))},g(_.value),3)]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:s(_=>[a(c,{props:_,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Mi={__name:"BlocksIndex",props:{limit:{type:Number,default:20}},setup(t){const e=t,{rows:l,loading:r}=As(e);return(n,i)=>{const c=To;return f(),b(A,{flat:""},{default:s(()=>[a(c,{rows:o(l),loading:o(r)},null,8,["rows","loading"])]),_:1})}}},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),Bi={__name:"WChart",props:{loading:{type:Boolean,default:!1},option:{type:Object,default:null}},setup(t){return(e,l)=>t.loading?(f(),b(Ot,{key:1,square:"",class:"chart"})):(f(),b(o(sn),{key:0,option:t.option,autoresize:"",class:"chart"},null,8,["option"]))}},_l=fe(Bi,[["__scopeId","data-v-85d4d25c"]]);rn([un,dn,cn,mn,_n]);const Rt=()=>I({title:{left:"center",top:"10px",textStyle:{color:"#1976D2"}},textStyle:{fontFamily:"Roboto Mono Variable",fontWeight:"normal"},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{precision:0}}},xAxis:{type:"value",min:t=>t.min,max:t=>t.max,axisLabel:{showMinLabel:!1,showMaxLabel:!1},allowDecimals:!1},yAxis:{type:"value",axisLabel:{showMinLabel:!1,showMaxLabel:!1},min:t=>Math.max(Math.floor(t.min)-1,0),max:t=>Math.ceil(t.max)+1},grid:{left:"10%",top:"10%",right:"10%",bottom:"10%"},series:[{type:"line",lineStyle:{width:2},showSymbol:!1}]}),Ni={__name:"NetspaceChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=u=>{var _=[];for(const d of u)_.push([d.height,d.netspace]);return _},{data:n,loading:i}=cl(e,r),c=Rt();return c.title.text=l("netspace_graph.title",["PB"]),c.series[0].data=n,(u,_)=>{const d=_l;return f(),b(d,{loading:o(i),option:o(c)},null,8,["loading","option"])}}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:Ni},Symbol.toStringTag,{value:"Module"})),Ki={__name:"VdfSpeedChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=u=>{var _=[];for(const d of u)_.push([d.height,d.vdf_speed]);return _},{data:n,loading:i}=cl(e,r),c=Rt();return c.title.text=l("vdf_speed_graph.title",["MH/s"]),c.series[0].data=n,(u,_)=>{const d=_l;return f(),b(d,{loading:o(i),option:o(c)},null,8,["loading","option"])}}},Qi=Object.freeze(Object.defineProperty({__proto__:null,default:Ki},Symbol.toStringTag,{value:"Module"})),zi={__name:"RewardChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=_=>{var d={reward:[],tx_fees:[]};for(const m of _)d.reward.push([m.height,m.reward]),d.tx_fees.push([m.height,m.tx_fees]);return d},{data:n,loading:i}=cl(e,r),c=Rt();c.title.text=l("block_reward_graph.title",["MMX"]),c.series[0].data=P(()=>n.value.reward);const u=Rt();return u.title.text=l("tx_fees_graph.title",["MMX"]),u.series[0].data=P(()=>n.value.tx_fees),(_,d)=>{const m=_l;return f(),x("div",null,[a(m,{loading:o(i),option:o(c)},null,8,["loading","option"]),a(m,{loading:o(i),option:o(u)},null,8,["loading","option"])])}}},Hi=Object.freeze(Object.defineProperty({__proto__:null,default:zi},Symbol.toStringTag,{value:"Module"})),Xi={__name:"index",setup(t){return(e,l)=>{const r=Ae;return f(),b(lt,{padding:""},{default:s(()=>[a(r)]),_:1})}}},Gi=Object.freeze(Object.defineProperty({__proto__:null,default:Xi},Symbol.toStringTag,{value:"Module"})),Ji={class:"text-h5 q-mt-sm"},Tt={__name:"EmptyState",props:{icon:{type:String,default:null,required:!1},title:{type:String,default:null,required:!1}},setup(t){const e=t;return(l,r)=>(f(),b(A,{flat:""},{default:s(()=>[a(N,{class:"text-center"},{default:s(()=>[a($e,{name:e.icon,size:"xl"},null,8,["name"]),y("div",Ji,g(t.title),1)]),_:1})]),_:1}))}},Yi=new Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:12}),vt=t=>Yi.format(t),Zi={class:"row vertical-middle justify-between"},eu={class:"self-center"},Bt={__name:"AccountBalanceTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("account_balance.balance"),field:"total",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("account_balance.reserved"),field:"reserved",headerStyle:"width: 7%"},{label:l("account_balance.spendable"),field:"spendable",format:c=>vt(c),style:"font-weight: bold;",headerStyle:"width: 7%"},{label:l("account_balance.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("account_balance.contract"),field:"contract",align:"left"}]),{rows:n,loading:i}=je(I({index:P(()=>e.index)}),c=>c.balances);return(c,u)=>{const _=le("RouterLink");return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"header-cell-contract":s(d=>[a(la,{props:d},{default:s(()=>[y("div",Zi,[y("span",eu,g(d.col.label),1)])]),_:2},1032,["props"])]),"body-cell-contract":s(d=>[a(O,{props:d},{default:s(()=>[d.row.is_native?E("",!0):(f(),b(_,{key:0,to:`/explore/address/${d.value}`,class:"text-primary mono"},{default:s(()=>[$(g(d.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])}}},tu={__name:"MChip",props:{copy:{type:Boolean,default:!1}},setup(t){const e=oa(),l=v(()=>e.default?e.default()[0].children:"");return(r,n)=>(f(),b(Il,{square:""},{default:s(()=>[kt(r.$slots,"default",{},void 0,!0),t.copy&&o(l)?(f(),b(o(ll),{key:0},{default:s(({copy:i,copied:c})=>[a(j,{"icon-right":o(rl),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:u=>i(o(l))},{default:s(()=>[a(ze,{"model-value":c===!0,"no-parent-event":""},{default:s(()=>n[0]||(n[0]=[$("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:1})):E("",!0)]),_:3}))}},Ne=fe(tu,[["__scopeId","data-v-dfe8b02d"]]),xe=t=>{G();const{data:e}=$t(t),l=v(()=>e.value?.with_passphrase?e.value.with_passphrase:!1),{data:r}=Ii(t,l),n=v(()=>l.value?r.value??!0:!1),i=async()=>{n.value?w():await d()},c=Di(t),u=async S=>{await c.mutateAsync(S)},_=Pi(t),d=async()=>{await _.mutateAsync()},m=Al(),p=()=>new Promise((S,T)=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>vp),void 0,import.meta.url))}).onOk(async({passphrase:k})=>{S(k)}).onCancel(()=>{T(new Error("Prompt rejected!"))})}),h=async()=>{if(n.value)return await p()},w=async()=>{if(n.value){const S=await h();await u(S)}};return{isLocked:n,handleToggleLock:i,promptPassphrase:h}},lu={__name:"AccountHeader",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=$t(e),{isLocked:r,handleToggleLock:n}=xe(e);return(i,c)=>{const u=Ne;return f(),x("div",null,[a(u,null,{default:s(()=>[$(g(i.$t("account_header.wallet"))+" #"+g(t.index),1)]),_:1}),o(l).address?(f(),b(u,{key:0,copy:""},{default:s(()=>[$(g(o(l).address),1)]),_:1})):E("",!0),o(l).name?(f(),b(u,{key:1},{default:s(()=>[$(g(o(l).name),1)]),_:1})):E("",!0),o(l).with_passphrase?(f(),b(j,{key:2,icon:o(r)?o(Ml):o(Bl),size:"sm",round:"",class:"q-my-auto",onClick:o(n)},null,8,["icon","onClick"])):E("",!0)])}}},ou={__name:"AccountMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{to:`/wallet/account/${e.index}`,exact:!0,label:l("account_menu.balance")},{to:`/wallet/account/${e.index}/contracts`,label:l("account_menu.contracts")},{to:`/wallet/account/${e.index}/send`,label:l("account_menu.send")},{to:`/wallet/account/${e.index}/history`,label:l("account_menu.history")},{to:`/wallet/account/${e.index}/log`,label:l("account_menu.log")},{to:`/wallet/account/${e.index}/offer`,label:l("account_menu.offer"),badge:i.value},{to:`/wallet/account/${e.index}/liquid`,label:l("account_menu.liquidity")},{to:`/wallet/account/${e.index}/plotnfts`,label:"PlotNFTs"},{to:`/wallet/account/${e.index}/details`,label:l("account_menu.info")},{to:`/wallet/account/${e.index}/options`,icon:Nl}]),{rows:n}=po(I({index:P(()=>e.index),state:!0})),i=v(()=>n.value.reduce((c,u)=>(u.ask_balance>0?1:0)+c,0));return(c,u)=>(f(),b(A,{flat:""},{default:s(()=>[a(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(r),(_,d)=>(f(),b(Qe,{key:d,to:_.to,exact:_.exact??!1,label:_.label,icon:_.icon},{default:s(()=>[_.badge?(f(),b(aa,{key:0,color:"positive",floating:"",transparent:"",rounded:""},{default:s(()=>[$(g(_.badge),1)]),_:2},1024)):E("",!0)]),_:2},1032,["to","exact","label","icon"]))),128))]),_:1})]),_:1}))}},au={key:0},Co={__name:"index",props:{index:{type:Number,required:!0},useRouterView:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{noData:l}=$t(I({index:e.index})),r=Ie();return e.useRouterView&&(r.activeWalletIndex=e.index),(n,i)=>{const c=Bt,u=Ae,_=Tt;return o(l)?(f(),b(_,{key:1,title:"No such wallet",icon:o($a)},null,8,["icon"])):(f(),x("div",au,[a(o(lu),{index:t.index},null,8,["index"]),a(o(ou),{index:t.index},null,8,["index"]),t.useRouterView?E("",!0):(f(),b(c,{key:0,index:t.index,class:"q-mt-sm"},null,8,["index"])),a(u,{index:t.index,class:"q-mt-sm"},null,8,["index"])]))}}},nu=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"})),su={class:"q-gutter-y-md"},ru={class:"row justify-end"},iu={__name:"AccountIndex",setup(t){const{rows:e,loading:l}=mo();return(r,n)=>(f(),x("div",null,[o(l)?(f(),b(ol,{key:0,query:"",class:"absolute-top"})):E("",!0),y("div",su,[(f(!0),x(D,null,re(o(e),(i,c)=>(f(),b(o(Co),{key:c,index:i.account,"use-router-view":!1},null,8,["index"]))),128)),y("div",ru,[a(j,{to:"/wallet/create",icon:o(Ul),label:r.$t("wallet_summary.new_wallet"),size:"md",outline:"",rounded:"",color:"primary"},null,8,["icon","label"])])])]))}},uu=Object.freeze(Object.defineProperty({__proto__:null,default:iu},Symbol.toStringTag,{value:"Module"})),du=t=>{try{if(pn.decode(t).words.length!=52)return!1}catch{return!1}return!0},J={number:t=>!t||/^\d+$/.test(t)||"Invalid number",address:t=>!t||du(t)||"Invalid address",required:t=>!kl(t)||"Field is required",amount:t=>kl(t)||typeof t=="number"&&t>0||"Invalid amount",memo:t=>t&&t.length>64?"Maximum length is 64":!0},cu={__name:"SeedWord",props:It({wordList:{type:Array,required:!0}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,r=F(l.wordList),n=(u,_,d)=>{_(()=>{const m=u.toLowerCase();r.value=l.wordList.filter(p=>p.toLowerCase().indexOf(m)==0)},m=>{u!==""&&m.options.length>0&&m.getOptionIndex()===-1&&(m.moveOptionSelection(1,!0),m.toggleOption(m.options[m.optionIndex],!0))})},i=u=>{e.value=u},c=u=>l.wordList?.includes(u)||"Invalid word";return(u,_)=>(f(),b(ge,Oe({modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=d=>e.value=d)},u.$attrs,{options:o(r),"hide-dropdown-icon":"","fill-input":"","use-input":"","hide-selected":"",outlined:"","input-debounce":"0",rules:[o(J).required,c],"hide-bottom-space":"","no-error-icon":"","input-class":"text-bold",onFilter:n,onInputValue:i}),null,16,["modelValue","options","rules"]))}},mu=fe(cu,[["__scopeId","data-v-2a2006f5"]]),_u={class:"row q-row-gutter-xs q-col-gutter-xs"},Vt=24,Ro={__name:"index",props:It({readonly:{type:Boolean,required:!1,default:!1}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=F(new Array(Vt).fill("")),r=(i,c)=>{i=i.trim();const u=i.split(" ").length;u==1?e.value=l.value.join(" "):u==Vt&&(e.value=i,n())},n=()=>{e.value?l.value=e.value.split(" ").slice(0,Vt):l.value=new Array(Vt).fill("")};return _e(()=>n()),(i,c)=>{const u=mu;return f(),x("div",null,[y("div",_u,[(f(!0),x(D,null,re(o(l),(_,d)=>(f(),b(u,{key:d,modelValue:o(l)[d],"onUpdate:modelValue":[m=>o(l)[d]=m,m=>r(m)],"word-list":o(fn),label:(d+1).toString(),readonly:t.readonly,class:"col-md-2 col-sm-3 col-xs-4"},null,8,["modelValue","onUpdate:modelValue","word-list","label","readonly"]))),128))])])}}},pu={class:"q-gutter-y-sm"},fu={class:"row q-gutter-x-sm"},yu={class:"col-8"},hu={class:"col"},bu={class:"q-gutter-y-sm"},gu={class:"text-subtitle1"},vu={class:"q-gutter-y-sm"},wu={class:"row full-width justify-end"},xu={__name:"WalletCreate",setup(t){const e=F(!1),l=F(!1),r=F(!1),n=F(!1),i=F(""),c=F(1),u=F(),_=F(),d=F(),m=ot(),p=$i(),h=Pn(),w=()=>{l.value&&r.value&&d.value?T():S()},S=()=>{e.value=!0;const k={config:{name:i.value,numAddresses:c.value},...l.value&&{words:u.value},...r.value&&{passphrase:_.value}};p.mutate(k,{onSuccess:()=>{m.push("/wallet/")},onSettled:()=>{e.value=!1}})},T=()=>{e.value=!0;const k={words:u.value,finger_print:d.value,passphrase:_.value};h.mutate(k,{onSuccess:()=>{S()},onSettled:()=>{e.value=!1}})};return(k,C)=>{const q=Ro;return f(),x("div",pu,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",fu,[y("div",yu,[a(B,{modelValue:o(i),"onUpdate:modelValue":C[0]||(C[0]=V=>z(i)?i.value=V:null),label:k.$t("create_wallet.account_name")},null,8,["modelValue","label"])]),y("div",hu,[a(B,{modelValue:o(c),"onUpdate:modelValue":C[1]||(C[1]=V=>z(c)?c.value=V:null),modelModifiers:{number:!0},label:k.$t("create_wallet.number_of_addresses")},null,8,["modelValue","label"])])])]),_:1})]),_:1}),a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",bu,[a(Ke,{modelValue:o(l),"onUpdate:modelValue":C[2]||(C[2]=V=>z(l)?l.value=V:null),label:k.$t("create_wallet.use_custom_seed")},null,8,["modelValue","label"]),o(l)?(f(),x(D,{key:0},[y("div",gu,g(k.$t("create_wallet.seed_words")),1),a(q,{modelValue:o(u),"onUpdate:modelValue":C[3]||(C[3]=V=>z(u)?u.value=V:null)},null,8,["modelValue"])],64)):E("",!0)])]),_:1})]),_:1}),a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",vu,[a(Ke,{modelValue:o(r),"onUpdate:modelValue":C[4]||(C[4]=V=>z(r)?r.value=V:null),label:k.$t("create_wallet.use_passphrase")},null,8,["modelValue","label"]),o(r)?(f(),x(D,{key:0},[a(B,{modelValue:o(_),"onUpdate:modelValue":C[6]||(C[6]=V=>z(_)?_.value=V:null),label:k.$t("create_wallet.passphrase"),outlined:"",type:o(n)?"text":"password",autocomplete:"new-password"},{append:s(()=>[a($e,{name:o(n)?o(Ql):o(Kl),class:"cursor-pointer",onClick:C[5]||(C[5]=V=>n.value=!o(n))},null,8,["name"])]),_:1},8,["modelValue","label","type"]),o(l)?(f(),b(B,{key:0,modelValue:o(d),"onUpdate:modelValue":C[7]||(C[7]=V=>z(d)?d.value=V:null),label:"Fingerprint (optional, to validate passphrase)",outlined:""},null,8,["modelValue"])):E("",!0)],64)):E("",!0)])]),_:1})]),_:1}),y("div",wu,[a(j,{icon:o(Ul),label:k.$t("create_wallet.create_wallet"),loading:o(e),color:"primary",outline:"",onClick:w},null,8,["icon","label","loading"])])])}}},ku=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Su=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(62-e)),Lo={__name:"TxTypeLink",props:{id:{type:String,required:!0},type:{type:String,required:!0}},setup(t){const e=t,l=v(()=>{switch(e.type){case"REWARD":case"VDF_REWARD":case"PROJECT_REWARD":return"/explore/block/hash/"+e.id;default:return"/explore/transaction/"+e.id}});return(r,n)=>{const i=le("RouterLink");return f(),b(i,{to:o(l)},{default:s(()=>[kt(r.$slots,"default")]),_:3},8,["to"])}}},Lt=t=>t=="REWARD"?"text-lime-8":t=="RECEIVE"||t=="REWARD"||t=="VDF_REWARD"?"text-positive":t=="SPEND"?"text-negative":t=="TXFEE"?"text-grey":"";function $u(){const t=Al(),e=(r,n,i)=>{let c=n!==void 0?n(r,i):r;return c=c==null?"":String(c),c=c.split('"').join('""'),`"${c}"`};return{exportTable:(r,n,i="export.csv")=>{const c=[n.map(_=>e(_.label))].concat(r.map(_=>n.map(d=>e(typeof d.field=="function"?d.field(_):_[d.field===void 0?d.name:d.field],d.format,_)).join(","))).join(`\r
`);na(i,c,"text/csv")!==!0&&t.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}}}const qu={key:0},Tu={key:0,class:"text-orange"},Fo={__name:"AccountHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!0},memo:{type:String,required:!1,default:null},type:{type:String,required:!1,default:null},currency:{type:String,required:!1,default:null},exportEnabled:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("account_history.height"),field:"height",headerStyle:"width: 7%"},{label:l("account_history.type"),field:"type",headerStyle:"width: 8%",classes:_=>Lt(_.type)},{label:l("account_history.amount"),field:"value",headerClasses:"dense-amount",classes:"dense-amount",headerStyle:"width: 7%",style:"font-weight: bold;",align:"right"},{name:"token",label:l("account_history.token"),field:"symbol",headerClasses:"dense-symbol",classes:"dense-symbol",headerStyle:"width: 5%",align:"left"},{name:"address",label:l("account_history.address"),field:"address",headerStyle:"width: 15%",align:"left"},{label:"Memo",field:"memo",style:"word-break: break-all;",align:"left"},{name:"txid",label:l("account_history.link"),field:"txid",headerStyle:"width: 5%"},{label:l("account_history.time"),field:_=>_,format:_=>_.is_pending?"":new Date(_.time_stamp).toLocaleString(),headerStyle:"width: 15%",classes:"text-no-wrap",align:"left"}]),{rows:n,loading:i}=bs(I({index:P(()=>e.index),limit:P(()=>e.limit),memo:P(()=>e.memo),type:P(()=>e.type),currency:P(()=>e.currency)})),{exportTable:c}=$u(),u=()=>{c(n.value,r.value)};return(_,d)=>{const m=de,p=le("RouterLink"),h=Lo;return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":s(w=>[a(O,{props:w},{default:s(()=>[w.row.is_pending?(f(),x("i",qu,"pending")):(f(),b(p,{key:1,to:`/explore/block/height/${w.value}`,class:"text-primary"},{default:s(()=>[$(g(w.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-token":s(w=>[a(O,{props:w},{default:s(()=>[w.row.is_native?(f(),x(D,{key:0},[$(g(w.value),1)],64)):(f(),b(p,{key:1,to:`/explore/address/${w.row.contract}`,class:"text-primary mono"},{default:s(()=>[$(g(w.row.is_nft?"[NFT]":w.row.symbol)+" ",1),w.row.is_validated?E("",!0):(f(),x("span",Tu,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":s(w=>[a(O,{props:w},{default:s(()=>[a(p,{to:`/explore/address/${w.value}`,class:"text-primary mono"},{default:s(()=>[$(g(("getShortAddr"in _?_.getShortAddr:o(Su))(w.value)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":s(w=>[a(O,{props:w},{default:s(()=>[a(h,{id:w.value,type:w.row.type,class:"text-primary"},{default:s(()=>d[0]||(d[0]=[$("TX")])),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(w=>[a(m,{props:w,"row-count":6},null,8,["props"])]),key:"0"}:void 0,t.exportEnabled?{name:"top-right",fn:s(()=>[a(j,{color:"primary","icon-right":o(qa),label:"Export to csv",outline:"",rounded:"","no-caps":"",onClick:u},null,8,["icon-right"])]),key:"1"}:void 0]),1032,["rows","columns","loading"])}}},Vu={class:"q-gutter-y-sm"},Cu={__name:"AccountHome",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Bt,n=Fo;return f(),x("div",Vu,[a(r,{index:t.index},null,8,["index"]),a(n,{index:t.index,limit:50},null,8,["index"])])}}},Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),Lu={class:"q-gutter-y-sm"},Fu={__name:"AccountNFT",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:"NFT",field:"item",align:"left"}]),{rows:n,loading:i}=je(I({index:P(()=>e.index),show_all:!1}),c=>c.nfts);return(c,u)=>{const _=de,d=le("RouterLink");return f(),x("div",Lu,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),pl={__name:"BalanceTable",props:{address:{type:String,required:!0},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("balance_table.balance"),field:"total",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("balance_table.locked"),field:"locked",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("balance_table.spendable"),field:"spendable",format:c=>vt(c),headerStyle:"width: 7%",style:"font-weight: bold;"},{label:l("balance_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("balance_table.contract"),field:"contract",align:"left"}]),{rows:n,loading:i}=bo(I({id:P(()=>e.address)}));return(c,u)=>{const _=de,d=le("RouterLink");return o(i)||!o(i)&&(o(n)?.length||t.showEmpty)?(f(),b(te,{key:0,rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[$(g(m.row.is_native?"":m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):E("",!0)}}},Iu={key:0},Au={class:"key-cell m-bg-grey"},Pu={class:"textwarp mono"},Eu={key:1,class:"hex"},Du={__name:"ObjectTable",props:{data:{type:Object,default:null}},setup(t){const e=F({}),l=u=>u instanceof Object?JSON.stringify(u,null,4):u,r=u=>typeof u=="string"&&u.startsWith("mmx1")&&u.length==62,n=(u,_)=>u instanceof Object&&Object.keys(u).length>0||_=="source",i=u=>{e.value[u]||(e.value[u]=!1),e.value[u]=!e.value[u]},c=u=>u&&u.length>68&&u.length%2==0&&/^[0-9a-fA-F]+$/.test(u);return(u,_)=>{const d=le("highlightjs"),m=le("RouterLink");return f(),b(At,{flat:""},{default:s(()=>[y("tbody",null,[(f(!0),x(D,null,re(t.data,(p,h)=>(f(),x(D,{key:h},[h!="__type"?(f(),x("tr",Iu,[y("td",Au,g(h),1),y("td",Pu,[p instanceof Object||h=="source"?(f(),x(D,{key:0},[n(p,h)?(f(),b(j,{key:0,icon:o(e)[h]?o(Va):o(Ta),"fab-mini":"",class:"float-right",onClick:w=>i(h)},null,8,["icon","onClick"])):E("",!0),a(d,{code:l(p),class:se({hljsCode:!0,collapsed:!o(e)[h]})},null,8,["code","class"])],64)):(f(),x(D,{key:1},[r(p)?(f(),b(m,{key:0,to:`/explore/address/${p}`,class:"text-primary mono"},{default:s(()=>[$(g(p),1)]),_:2},1032,["to"])):c(p)?(f(),x("div",Eu,g(p),1)):(f(),x(D,{key:2},[$(g(p),1)],64))],64))])])):E("",!0)],64))),128))])]),_:1})}}},Nt=fe(Du,[["__scopeId","data-v-4d5a1ef0"]]),Oo=()=>{const{rows:t}=vo(),{t:e}=W(),l={token_binary:{name:"Token"},offer_binary:{name:"Offer"},swap_binary:{name:"Swap"},nft_binary:{name:"NFT"},plot_nft_binary:{name:"Plot NFT"}},r=v(()=>{const c=Object.entries(t.value).filter(([_,d])=>_.endsWith("_binary")&&typeof d=="string"&&d.startsWith("mmx1"));return Object.fromEntries(c.map(([_,d])=>[_,{address:d,name:l[_]?.name||_}]))}),n=v(()=>Object.fromEntries(Object.entries(r.value).map(([c,u])=>[u.address,{...u,key:c}]))),i=v(()=>{const c=Object.fromEntries(Object.entries(r.value).map(([u,_])=>[_.address,!0]));return c.others=!0,c});return{chainBinaries:r,chainBinariesSwapped:n,filterInit:i}},ju={class:"q-gutter-y-xs"},Wu={class:"row q-gutter-x-none"},Mu={key:0,class:"row justify-end q-gutter-xs"},Bu={__name:"AccountContractView",props:{data:{type:Object,required:!0}},setup(t){const e=t,{chainBinariesSwapped:l}=Oo(),r=v(()=>l.value[e.data?.binary]);return(n,i)=>{const c=Ne,u=Nt,_=pl;return f(),x("div",ju,[y("div",null,[y("div",Wu,[a(c,null,{default:s(()=>[$(g(t.data.__type),1)]),_:1}),o(r)?(f(),b(c,{key:0},{default:s(()=>[$(g(o(r).name),1)]),_:1})):E("",!0),a(c,null,{default:s(()=>[$(g(t.data.address),1)]),_:1})]),a(A,{flat:""},{default:s(()=>[a(u,{data:t.data},null,8,["data"])]),_:1})]),y("div",null,[a(_,{address:t.data.address},null,8,["address"])]),t.data.__type!="mmx.contract.Executable"?(f(),x("div",Mu,[a(j,{label:n.$t("account_contract_summary.deposit"),icon:n.mdiBankTransferIn,outline:"",color:"positive",onClick:i[0]||(i[0]=d=>n.handleDeposit(n.index,t.data.address))},null,8,["label","icon"]),a(j,{label:n.$t("account_contract_summary.withdraw"),icon:n.mdiBankTransferOut,outline:"",color:"negative",onClick:i[1]||(i[1]=d=>n.handleWithdraw(n.index,t.data.address))},null,8,["label","icon"])])):E("",!0)])}}},Nu={class:"q-pb-sm"},Uu={class:"q-gutter-y-md"},Ku={__name:"AccountContractsIndex",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=_o(e),{chainBinariesSwapped:r,filterInit:n}=Oo(),i=F({});_e(()=>{i.value=n.value});const c=v(()=>{const _=Array.from(new Set(l.value.filter(p=>r.value[p.binary]).map(p=>p.binary))),d=Object.fromEntries(Object.entries(r.value).filter(([p,h])=>_.includes(p)));return Object.entries(l.value).some(([p,h])=>typeof d[h.binary]>"u")&&(d.others={name:"Others",address:"others",key:"others"}),d}),u=v(()=>l.value.filter(_=>i.value[_.binary]||i.value.others&&typeof i.value[_.binary]>"u"));return ot(),(_,d)=>(f(),x("div",null,[y("div",Nu,[(f(!0),x(D,null,re(o(c),(m,p)=>(f(),b(Il,{key:p,selected:o(i)[m.address],"onUpdate:selected":h=>o(i)[m.address]=h,outline:"",color:"primary","text-color":"white"},{default:s(()=>[$(g(m.name),1)]),_:2},1032,["selected","onUpdate:selected"]))),128))]),y("div",Uu,[(f(!0),x(D,null,re(o(u),(m,p)=>(f(),b(o(Bu),{key:p,data:m},null,8,["data"]))),128))])]))}},Qu={class:"q-gutter-y-sm"},zu={class:"row justify-end"},Hu={__name:"CreateContractMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=F(),r=v(()=>[]),n=ot(),i=()=>{n.push("/wallet/account/"+e.index+"/create/"+l.value)};return(c,u)=>(f(),x("div",null,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",Qu,[a(ge,{modelValue:o(l),"onUpdate:modelValue":u[0]||(u[0]=_=>z(l)?l.value=_:null),options:o(r),label:c.$t("create_contract_menu.contract_type"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"]),y("div",zu,[a(j,{label:c.$t("common.create"),icon:o(Ca),"text-color":"primary",outline:"",disable:!o(l),onClick:i},null,8,["label","icon","disable"])])])]),_:1})]),_:1})]))}},Xu={class:"q-gutter-y-sm q-mt-sm"},Gu={__name:"index",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>(f(),x("div",Xu,[a(Hu,{index:t.index},null,8,["index"]),a(Ku,{index:t.index},null,8,["index"])]))}},Ju=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),Io={__name:"AccountTxHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!1,default:200}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("account_tx_history.height"),field:"height",headerStyle:"width: 7%"},{label:"Type",field:"note",headerStyle:"width: 11%"},{label:"Fee",field:c=>c.height&&c.fee&&c.fee.value,format:c=>c?c.toFixed(3):"...",headerStyle:"width: 12%",xclasses:"main-currency"},{label:l("account_tx_history.confirmed"),field:"confirm",format:c=>c?c>1e3?"> 1000":c:null,headerStyle:"width: 7%"},{label:l("account_tx_history.status"),field:"state",headerStyle:"width: 7%",classes:c=>c.state=="failed"?"text-negative":null},{name:"transaction_id",label:l("account_tx_history.transaction_id"),field:"id",align:"left"},{label:l("account_tx_history.time"),field:"time",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:n,loading:i}=ws(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-transaction_id":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary mono"},{default:s(()=>[$(g(("getShortHash"in c?c.getShortHash:o(Mt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":6},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Yu=t=>{const e=F([]),l=F([]),r=F(!1),n=()=>{if(t.value){const u=t.value.getValidationComponents().filter(_=>_.rules);e.value=new Array(u.length).fill(!1),u.forEach((_,d)=>{const m=Se(()=>_.modelValue,p=>{const h=_.rules?.every(w=>w(p)===!0)??!1;e.value[d]=h},{deep:!0,immediate:!0});l.value.push(m)}),r.value=!0}},i=v(()=>e.value.some(u=>u===!1)),c=v(()=>r.value?i.value===!1:!1);return sa(()=>{n()}),{isValid:c,setupValidation:n}},Zu=(t,e)=>{const l=F(null),r=F(!1),n=v(()=>({...t}));Se(n,(p,h)=>{p.feeRatio===h.feeRatio&&(r.value=!1)}),Se(r,p=>{p&&i()});const i=()=>{l.value.validate()},{isValid:c,setupValidation:u}=Yu(l),_=()=>{u()},d=v(()=>c.value&&r.value);return{formRef:l,confirmed:r,isValid:c,isValidConfirmed:d,reset:()=>{Object.assign(t,e),r.value=!1},validate:i,onDialogShow:_}},Te={__name:"WForm",props:{data:{type:Object,required:!0},defaultData:{type:Object,required:!0},onSubmit:{type:Function,required:!1,default:()=>{}},onReset:{type:Function,required:!1,default:()=>{}}},setup(t,{expose:e}){const l=t,{formRef:r,confirmed:n,isValid:i,isValidConfirmed:c,reset:u,onDialogShow:_,validate:d}=Zu(l.data,l.defaultData),m=()=>{u(),l.onReset()},p=async()=>{n.value=!1,l.onSubmit()},h=async()=>{m()},w=I({confirmed:n,isValid:i,isValidConfirmed:c});return ra("formState",w),e({reset:m,confirmed:n,isValid:i,isValidConfirmed:c,onDialogShow:_,validate:d}),(S,T)=>(f(),b(al,{ref_key:"formRef",ref:r,onSubmit:p,onReset:h},{default:s(()=>[kt(S.$slots,"default")]),_:3},512))}},Pe={__name:"WBtnSubmit",setup(t){const e=Pl("formState"),{confirmed:l,isValid:r,isValidConfirmed:n}=ut(e),i=F(null),c=v(()=>l.value?i.value?.disable?"negative":"positive":"");return(u,_)=>(f(),b(j,{ref_key:"btnRef",ref:i,type:"submit",color:o(c),outline:"",disable:!o(n)},null,8,["color","disable"]))}},Ee={__name:"WToggleConfirmed",setup(t){const e=Pl("formState");return(l,r)=>(f(),b(ia,{modelValue:o(e).confirmed,"onUpdate:modelValue":r[0]||(r[0]=n=>o(e).confirmed=n),label:l.$t("common.confirm")},null,8,["modelValue","label"]))}},ed={};function td(t,e){return f(),b(j,{label:"Reset",type:"reset",color:"primary",flat:""})}const Ve=fe(ed,[["render",td]]),ld={__name:"TxFeeInput",props:It({error:{type:String,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1},locked:{type:Boolean,required:!1,default:!1}},{modelValue:{type:Number,required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t;return v(()=>l.loading&&l.error===null),(r,n)=>(f(),b(B,Oe({"model-value":e.value},r.$attrs,{label:r.$t("account_history_form.tx_fee"),suffix:"MMX","input-class":"amount-input",readonly:"",class:"col-2"}),{default:s(()=>[a(Ct,{showing:t.loading},{default:s(()=>[a(ua,{color:"grey",size:"2em"})]),_:1},8,["showing"]),a(Ct,{showing:t.locked},{default:s(()=>[a($e,{name:o(Ra),size:"sm",class:"text-warning"},{default:s(()=>[a(ze,null,{default:s(()=>n[0]||(n[0]=[$("Unlock wallet to see estimated fee")])),_:1})]),_:1},8,["name"])]),_:1},8,["showing"]),a(Ct,{showing:t.error!=null},{default:s(()=>[a($e,{name:o(zl),size:"sm",class:"text-warning"},{default:s(()=>[a(ze,null,{default:s(()=>[$(g(t.error),1)]),_:1})]),_:1},8,["name"])]),_:1},8,["showing"])]),_:1},16,["model-value","label"]))}},De=fe(ld,[["__scopeId","data-v-1852591f"]]),Ce={__name:"TxFeeSelect",props:{modelValue:{type:Number,required:!1,default:1024},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=v(()=>[{label:"1x (min fee)",value:1024},{label:"2x",value:2048},{label:"3x",value:3072},{label:"5x",value:5120},{label:"10x",value:10240},{label:"20x",value:20480}]);return _e(()=>{e.value||(e.value=1024)}),(r,n)=>(f(),b(ge,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=i=>e.value=i),options:o(l),"emit-value":"","map-options":"",label:"TX Fee Ratio"},null,8,["modelValue","options"]))}},Ut={__name:"XSelect",setup(t){return(e,l)=>(f(),b(ge,Oe(e.$attrs,{"emit-value":"","map-options":""}),{"selected-item":s(r=>[a(Jt,Oe(r.itemProps,{class:"q-pb-none",style:{"min-height":"unset"}}),{default:s(()=>[a(bt,{avatar:"",class:"content-end q-pb-none"},{default:s(()=>[a(gt,{class:se({"text-bold":r.opt.value!==null})},{default:s(()=>[$(g(r.opt.label),1)]),_:2},1032,["class"])]),_:2},1024),r.opt.description?(f(),b(bt,{key:0},{default:s(()=>[a(gt,{class:se(r.opt.descriptionClasses)},{default:s(()=>[$(g(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):E("",!0)]),_:2},1040)]),option:s(r=>[a(Jt,Pt(Et(r.itemProps)),{default:s(()=>[a(bt,{avatar:"",class:"content-end"},{default:s(()=>[a(gt,null,{default:s(()=>[$(g(r.opt.label),1)]),_:2},1024)]),_:2},1024),r.opt.description?(f(),b(bt,{key:0},{default:s(()=>[a(gt,{class:se(r.opt.descriptionClasses)},{default:s(()=>[$(g(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):E("",!0)]),_:2},1040)]),_:1},16))}},Ao={__name:"BalanceTokenSelect",props:{index:{type:Number,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.contract,d=c.contract;c.is_native?i.push({label:u,value:_}):i.push({label:u,value:_,description:d,descriptionClasses:"mono"})}),i}),{rows:n}=je(I({index:P(()=>e.index)}),i=>i.balances);return(i,c)=>{const u=Ut;return f(),b(u,Oe(i.$attrs,{options:o(r)}),null,16,["options"])}}},od={__name:"AddressTokenSelect",props:{address:{type:String,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.contract,d=c.decimals||0,m=c.contract,p="mono",h=c.is_native;var w={label:u,value:_,decimals:d};h||(w={...w,description:m,descriptionClasses:p}),i.push(w)}),i}),{rows:n}=er(I({id:P(()=>e.address)}),i=>i.balances);return(i,c)=>{const u=Ut;return f(),b(u,Oe(i.$attrs,{options:o(r)}),null,16,["options"])}}},fl={__name:"WalletSelect",props:It({nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},{modelValue:{type:[Number,Object],required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,{t:r}=W(),n=v(()=>{const c=[];return l.nullItem&&c.push({label:l.nullLabel,value:null}),i.value.map(u=>{const _=`${r("market_menu.wallet")} #${u.account}`,d=u.account,m=u.address,p=u.address;c.push({label:_,value:d,address:m,description:p,descriptionClasses:"mono"})}),c}),{rows:i}=mo();return _e(()=>{i.value.length>0&&!e.value&&(e.value=n.value[0].value)}),(c,u)=>{const _=Ut;return f(),b(_,Oe({modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d)},c.$attrs,{options:o(n)}),null,16,["modelValue","options"])}}},ad=t=>{const e=v(()=>t.value?.isValid??!1),l=v(()=>t.value?.isValidConfirmed??!1);return{isValid:e,isValidConfirmed:l}},Re=(t,e)=>{const{isValid:l,isValidConfirmed:r}=ad(t),n=v(()=>l.value&&!e.value),i=v(()=>r.value&&!e.value);return{isValid:l,isValidConfirmed:r,isValidUnlocked:n,isValidConfirmedUnlocked:i}},nd={class:"q-gutter-y-sm"},sd={class:"row q-gutter-x-sm"},rd={class:"row justify-end q-col-gutter-sm"},id={class:"row"},ud={class:"col"},dd={class:"col-11"},cd={class:"row justify-end q-gutter-x-sm"},md={__name:"AccountSendForm",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t,l={destination:null,amount:null,currency:null,memo:null,feeRatio:null},r=F(null),n=I({...l}),i=F(null),c=()=>{e.target?n.destination=e.target:n.destination=i.value&&i.value?.address};_e(()=>{c()});const u=async()=>{i.value=null,c()},_=v(()=>({index:e.index,amount:n.amount,currency:n.currency,...e.source&&{src_addr:e.source},dst_addr:n.destination,options:{...n.memo&&{memo:n.memo},fee_ratio:n.feeRatio}})),{promptPassphrase:d,isLocked:m}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:p}=Re(r,m),{data:h,isLoading:w,latestError:S}=co(_,p),T=lo(),k=async()=>{const C=await d(),q={..._.value,options:{..._.value.options,passphrase:C}};await T.mutateAsync(q)};return(C,q)=>{const V=fl,H=od,K=Ao,Q=Ce,ae=De,me=Ve,Z=Ee,ee=Pe,oe=Te;return f(),b(A,{flat:""},{default:s(()=>[a(oe,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onReset:u,onSubmit:k},{default:s(()=>[a(N,null,{default:s(()=>[y("div",nd,[t.source?(f(),b(B,{key:0,"model-value":t.source,label:C.$t("account_send_form.source_address"),readonly:""},null,8,["model-value","label"])):E("",!0),t.target?E("",!0):(f(),b(V,{key:1,modelValue:o(i),"onUpdate:modelValue":q[0]||(q[0]=M=>z(i)?i.value=M:null),label:C.$t("account_send_form.destination"),"null-item":"","null-label":C.$t("account_send_form.address_input"),"emit-value":!1,clearable:o(i)?.value!=null,disable:!!t.target},null,8,["modelValue","label","null-label","clearable","disable"])),a(B,{modelValue:o(n).destination,"onUpdate:modelValue":q[1]||(q[1]=M=>o(n).destination=M),label:C.$t("account_send_form.destination_address"),placeholder:"mmx1...",rules:[o(J).required,o(J).address],"hide-bottom-space":"","input-class":"text-bold",readonly:!!o(i)?.value||!!t.target,clearable:o(n).destination!=null},null,8,["modelValue","label","rules","readonly","clearable"]),y("div",sd,[a(B,{modelValue:o(n).amount,"onUpdate:modelValue":q[2]||(q[2]=M=>o(n).amount=M),modelModifiers:{number:!0},label:C.$t("account_send_form.amount"),rules:[o(J).required,o(J).amount],"hide-bottom-space":"","input-class":"amount-input",class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),t.source?(f(),b(H,{key:0,modelValue:o(n).currency,"onUpdate:modelValue":q[3]||(q[3]=M=>o(n).currency=M),rules:[o(J).required],address:t.source,label:C.$t("account_send_form.currency"),clearable:o(n).currency!=null,class:"col"},null,8,["modelValue","rules","address","label","clearable"])):(f(),b(K,{key:1,modelValue:o(n).currency,"onUpdate:modelValue":q[4]||(q[4]=M=>o(n).currency=M),rules:[o(J).required],index:t.index,label:C.$t("account_send_form.currency"),clearable:o(n).currency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"]))]),a(B,{modelValue:o(n).memo,"onUpdate:modelValue":q[5]||(q[5]=M=>o(n).memo=M),label:"Memo",rules:[o(J).memo],"_hide-bottom-space":"",clearable:o(n).memo!=null},null,8,["modelValue","rules","clearable"]),y("div",rd,[a(Q,{modelValue:o(n).feeRatio,"onUpdate:modelValue":q[6]||(q[6]=M=>o(n).feeRatio=M),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(h),"onUpdate:modelValue":q[7]||(q[7]=M=>z(h)?h.value=M:null),loading:o(w),error:o(S),locked:o(m),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,null,{default:s(()=>[y("div",id,[y("div",ud,[a(me)]),y("div",dd,[y("div",cd,[a(Z),a(ee,{label:C.$t("account_send_form.send"),icon:o(Hl)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},_d={class:"q-gutter-y-sm"},pd={__name:"index",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t;return(l,r)=>{const n=pl,i=Bt,c=Io;return f(),x("div",_d,[t.source?(f(),b(n,{key:0,address:t.source,"show-empty":""},null,8,["address"])):(f(),b(i,{key:1,index:t.index},null,8,["index"])),a(md,Pt(Et(e)),null,16),a(c,{index:t.index,limit:10},null,8,["index"])])}}},Rl=Object.freeze(Object.defineProperty({__proto__:null,default:pd},Symbol.toStringTag,{value:"Module"})),Kt={__name:"TokenSelect",props:{nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.currency,d=c.decimals,m=c.currency,p="mono",h=c.is_native;var w={label:u,value:_,decimals:d};h||(w={...w,description:m,descriptionClasses:p}),i.push(w)}),i}),{rows:n}=_t();return(i,c)=>{const u=Ut;return f(),b(u,Oe(i.$attrs,{options:o(r)}),null,16,["options"])}}},fd={class:"q-gutter-y-sm q-mt-sm"},yd={class:"row"},hd={class:"row q-mt-xs"},bd={__name:"AccountHistory",props:{index:{type:Number,required:!0}},setup(t){const e=F(200),l=F(null),r=F(null),n=F();_e(()=>{n.value?.length>0?l.value="RECEIVE":l.value=null});const{t:i}=W(),c=v(()=>[{label:i("account_history_form.any"),value:null},{label:i("account_history_form.spend"),value:"SPEND"},{label:i("account_history_form.receive"),value:"RECEIVE"},{label:i("account_history_form.reward"),value:"REWARD"},{label:"VDF "+i("account_history_form.reward"),value:"VDF_REWARD"},{label:i("account_history_form.tx_fee"),value:"TXFEE"}]);return(u,_)=>{const d=Kt,m=Fo;return f(),x("div",fd,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",yd,[a(ge,{modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=p=>z(l)?l.value=p:null),options:o(c),"emit-value":"","map-options":"",label:u.$t("account_history.type"),disable:o(n)?.length>0,clearable:o(l)!==null,class:"col-3"},{"selected-item":s(p=>[y("div",{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Lt))(p.opt.value))},g(p.opt.label),3)]),option:s(p=>[a(Jt,Pt(Et(p.itemProps)),{default:s(()=>[a(bt,null,{default:s(()=>[a(gt,{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Lt))(p.opt.value))},{default:s(()=>[$(g(p.opt.label),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","disable","clearable"]),a(d,{modelValue:o(r),"onUpdate:modelValue":_[1]||(_[1]=p=>z(r)?r.value=p:null),label:u.$t("account_history.token"),"null-item":"","null-label":u.$t("account_history_form.any"),clearable:o(r)!==null,class:"q-ml-md col"},null,8,["modelValue","label","null-label","clearable"])]),y("div",hd,[a(B,{modelValue:o(n),"onUpdate:modelValue":_[2]||(_[2]=p=>z(n)?n.value=p:null),label:"Memo",class:"col",clearable:""},null,8,["modelValue"])])]),_:1})]),_:1}),a(m,{index:t.index,limit:o(e),type:o(l),currency:o(r),memo:o(n),"export-enabled":"",class:"q-mt-sm"},null,8,["index","limit","type","currency","memo"])])}}},gd=Object.freeze(Object.defineProperty({__proto__:null,default:bd},Symbol.toStringTag,{value:"Module"})),vd={class:"q-gutter-y-sm"},wd={__name:"AccountLog",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Io;return f(),x("div",vd,[a(r,{index:t.index,limit:200},null,8,["index"])])}}},xd=Object.freeze(Object.defineProperty({__proto__:null,default:wd},Symbol.toStringTag,{value:"Module"})),kd={class:"q-gutter-y-sm"},Sd={class:"row q-gutter-x-sm"},$d={class:"row q-gutter-x-sm"},qd={class:"row justify-end q-col-gutter-sm"},Td={class:"row"},Vd={class:"col"},Cd={class:"col-11"},Rd={class:"row justify-end q-gutter-x-sm"},Ld={__name:"AccountOfferForm",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={bidAmount:null,bidCurrency:null,price:null,askCurrency:null,feeRatio:null},r=F(null),n=I({...l}),i=v(()=>{const{bidCurrency:T,askCurrency:k}=n;return T&&k?`${T.label} / ${k.label}`:null}),c=v(()=>({index:e.index,bid:n.bidAmount,bid_currency:n.bidCurrency?.value,price:n.price,ask_currency:n.askCurrency?.value,options:{fee_ratio:n.feeRatio}})),{promptPassphrase:u,isLocked:_}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:d}=Re(r,_),{data:m,isLoading:p,latestError:h}=zn(c,d),w=Dn(),S=async()=>{const T=await u(),k={...c.value,options:{...c.value.options,passphrase:T}};await w.mutateAsync(k)};return(T,k)=>{const C=Ao,q=Kt,V=Ce,H=De,K=Ve,Q=Ee,ae=Pe,me=Te;return f(),b(A,{flat:""},{default:s(()=>[a(me,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onSubmit:S},{default:s(()=>[a(N,null,{default:s(()=>[y("div",kd,[y("div",Sd,[a(B,{modelValue:o(n).bidAmount,"onUpdate:modelValue":k[0]||(k[0]=Z=>o(n).bidAmount=Z),modelModifiers:{number:!0},label:T.$t("account_offer_form.offer_amount"),"input-class":"amount-input",rules:[o(J).required,o(J).amount],class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),a(C,{modelValue:o(n).bidCurrency,"onUpdate:modelValue":k[1]||(k[1]=Z=>o(n).bidCurrency=Z),"emit-value":!1,rules:[o(J).required],index:t.index,label:T.$t("account_offer_form.offer_currency"),clearable:o(n).bidCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",$d,[a(B,{modelValue:o(n).price,"onUpdate:modelValue":k[2]||(k[2]=Z=>o(n).price=Z),modelModifiers:{number:!0},label:T.$t("account_offers.price"),suffix:o(i),"input-class":"amount-input",rules:[o(J).required,o(J).amount],class:"price col-sm-3 col-xs-12"},null,8,["modelValue","label","suffix","rules"]),a(q,{modelValue:o(n).askCurrency,"onUpdate:modelValue":k[3]||(k[3]=Z=>o(n).askCurrency=Z),"emit-value":!1,rules:[o(J).required],index:t.index,label:T.$t("account_offer_form.receive_currency"),clearable:o(n).askCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",qd,[a(V,{modelValue:o(n).feeRatio,"onUpdate:modelValue":k[4]||(k[4]=Z=>o(n).feeRatio=Z),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(H,{modelValue:o(m),"onUpdate:modelValue":k[5]||(k[5]=Z=>z(m)?m.value=Z:null),loading:o(p),error:o(h),locked:o(_),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,null,{default:s(()=>[y("div",Td,[y("div",Vd,[a(K)]),y("div",Cd,[y("div",Rd,[a(Q),a(ae,{label:T.$t("account_offer_form.offer"),icon:o(La)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Fd=fe(Ld,[["__scopeId","data-v-193ab7a4"]]),Od={class:"row justify-end q-gutter-x-xs q-pa-none"},Id={__name:"AccountOfferTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=F(!0),n=[{label:l("account_offers.any"),value:!1},{label:l("account_offers.open"),value:!0}],i=v(()=>[{label:l("account_offers.offering"),field:"bid_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{field:"bid_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.received"),field:"ask_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:T=>(T.ask_balance_value>0?"text-positive":"")+" dense-amount",align:"right"},{field:"ask_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.price"),field:"display_price",format:T=>parseFloat((1/T).toPrecision(6)),headerStyle:"width: 5%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{name:"price-symbol",field:T=>({symbol1:T.bid_symbol,symbol2:T.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"contract",field:"address",headerStyle:"width: 5%"},{name:"actions"}]),{rows:c,loading:u}=po(I({index:P(()=>e.index),state:r})),_=F(new Set),d=F(new Set),m=et(),p=T=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>Cp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{_.value.delete(T.address)})},h=T=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>Dp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{d.value.add(T.address)})},w=T=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>Xp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}})},S=T=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>of),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{_.value.add(T.address)})};return(T,k)=>{const C=de,q=le("RouterLink");return f(),x(D,null,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(ge,{modelValue:o(r),"onUpdate:modelValue":k[0]||(k[0]=V=>z(r)?r.value=V:null),options:n,"emit-value":"","map-options":"",label:T.$t("account_offers.status")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(te,{rows:o(c),columns:o(i),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-price-symbol":s(V=>[a(O,{props:V},{default:s(()=>[y("span",null,g(V.value.symbol1)+" / "+g(V.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-contract":s(V=>[a(O,{props:V},{default:s(()=>[a(q,{to:`/explore/address/${V.value}`,class:"text-primary"},{default:s(()=>k[1]||(k[1]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":s(V=>[a(O,{props:V},{default:s(()=>[y("div",Od,[a(j,{label:o(l)("account_offers.deposit"),_icon:o(wl),color:"positive",outline:"",onClick:H=>p(V.row)},null,8,["label","_icon","onClick"]),a(j,{disable:!(V.row.ask_balance>0)||o(d).has(V.row.address),label:o(l)("account_contract_summary.withdraw"),_icon:o(Hl),color:"negative",outline:"",onClick:H=>h(V.row)},null,8,["disable","label","_icon","onClick"]),a(tl,{vertical:"",inset:""}),a(j,{label:"Update",_icon:o(wl),color:"primary",outline:"",onClick:H=>w(V.row)},null,8,["_icon","onClick"]),a(j,{disable:!(V.row.bid_balance>0)||o(_).has(V.row.address),label:o(l)("account_offers.revoke"),_icon:o(Fa),color:"secondary",outline:"",onClick:H=>S(V.row)},null,8,["disable","label","_icon","onClick"])])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(V=>[a(C,{props:V,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])],64)}}},Ad={class:"q-gutter-y-sm"},Pd={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t;return(l,r)=>{const n=Bt;return f(),x("div",Ad,[a(n,{index:e.index},null,8,["index"]),a(Fd,{index:e.index},null,8,["index"]),a(Id,{index:e.index},null,8,["index"])])}}},Ed=Object.freeze(Object.defineProperty({__proto__:null,default:Pd},Symbol.toStringTag,{value:"Module"})),Dd={class:"q-gutter-y-sm"},jd={__name:"AccountLiquid",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("common.balance"),field:c=>c.balance.value,headerStyle:"width: 8%",align:"right"},{name:"symbol",label:l("common.symbol"),field:"symbol",headerStyle:"width: 6%",align:"left"},{name:"contract",label:l("common.address"),field:"address",headerStyle:"width: 70%",align:"left"},{name:"actions",align:"right"}]),{rows:n,loading:i}=Ts(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),x("div",Dd,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-actions":s(m=>[a(O,{props:m,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(l)("common.manage"),_icon:o(Oa),outline:"",color:"secondary",to:`/swap/${m.row.address}/liquid`},null,8,["label","_icon","to"])]),_:2},1032,["props"])]),"body-cell-symbol":s(m=>[a(O,{props:m},{default:s(()=>[m.value!="MMX"?(f(),b(d,{key:0,to:`/explore/address/${m.row.currency}`,class:"text-primary"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])):(f(),x(D,{key:1},[$(g(m.value),1)],64))]),_:2},1032,["props"])]),"body-cell-contract":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Wd=Object.freeze(Object.defineProperty({__proto__:null,default:jd},Symbol.toStringTag,{value:"Module"})),Md={class:"q-gutter-y-sm"},Bd={class:"row justify-end q-col-gutter-sm"},Nd={class:"row"},Ud={class:"col"},Kd={class:"col-11"},Qd={class:"row justify-end q-gutter-x-sm"},zd={__name:"AccountPlotNFTsCreate",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={name:null,feeRatio:null},r=F(null),n=I({...l}),i=v(()=>({index:e.index,name:n.name,options:{fee_ratio:n.feeRatio}})),{promptPassphrase:c,isLocked:u}=xe(I({index:P(()=>e.index)})),{isValidConfirmed:_}=Re(r,u),d=v(()=>_.value?.095:null),m=Kn(),p=async()=>{const h=await c(),w={...i.value,options:{...i.value.options,passphrase:h}};await m.mutateAsync(w)};return(h,w)=>{const S=Ce,T=De,k=Ve,C=Ee,q=Pe,V=Te;return f(),b(A,{flat:""},{default:s(()=>[a(V,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onSubmit:p},{default:s(()=>[a(N,null,{default:s(()=>[y("div",Md,[a(B,{modelValue:o(n).name,"onUpdate:modelValue":w[0]||(w[0]=H=>o(n).name=H),rules:[o(J).required],label:"New PlotNFT Name"},null,8,["modelValue","rules"])]),y("div",Bd,[a(S,{modelValue:o(n).feeRatio,"onUpdate:modelValue":w[1]||(w[1]=H=>o(n).feeRatio=H),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(T,{modelValue:o(d),"onUpdate:modelValue":w[2]||(w[2]=H=>z(d)?d.value=H:null),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"])])]),_:1}),a(N,null,{default:s(()=>[y("div",Nd,[y("div",Ud,[a(k)]),y("div",Kd,[y("div",Qd,[a(C),a(q,{label:h.$t("common.create")},null,8,["label"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Hd={key:0},Xd={class:"key-cell m-bg-grey"},rt={__name:"ListTable",props:{rows:{type:Object,required:!0},data:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{rows:l,data:r,loading:n}=ut(e),i=v(()=>e.rows.map(_=>{const d={};if(_.visible?d.visible=u(_.visible,e.data):d.visible=!0,d.visible){d.value=c(_,e.data);const m=Object.keys(_).filter(p=>["visible","field"].indexOf(p)==-1);for(const p in m){const h=m[p];d[h]=u(_[h],e.data)}}return d})),c=(_,d)=>{var m;if(d){if(_.field instanceof Function)try{m=_.field(d)}catch(p){console.debug(p)}else try{m=d[_.field]}catch(p){console.debug(p)}_.format&&(m=_.format(m))}return m},u=(_,d)=>{var m;if(_ instanceof Function){if(d)try{m=_(d)}catch(p){console.debug(p)}}else m=_;return m};return(_,d)=>{const m=le("RouterLink");return f(),b(At,{flat:""},{default:s(()=>[y("tbody",null,[(f(!0),x(D,null,re(o(i),(p,h)=>(f(),x(D,{key:h},[p.visible?(f(),x("tr",Hd,[y("td",Xd,g(p.label),1),y("td",null,[kt(_.$slots,`value-${p.name}`,{item:p},()=>[o(n)||p?.loading?(f(),b(Ot,{key:"text"})):p.to?(f(),b(m,{key:1,to:p.to,class:se(`text-primary ${p.classes}`)},{default:s(()=>[$(g(p.value),1)]),_:2},1032,["to","class"])):(f(),x("div",{key:2,class:se(p.classes)},g(p.value),3)),p.copyToClipboard?(f(),b(o(ll),{key:3},{default:s(({copy:w,copied:S})=>[a(j,{"icon-right":o(rl),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:T=>w(p.value)},{default:s(()=>[a(ze,{"model-value":S===!0,"no-parent-event":""},{default:s(()=>d[0]||(d[0]=[$("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:2},1024)):E("",!0)])])])):E("",!0)],64))),128))])]),_:3})}}},Gd={class:"row q-gutter-x-none"},Jd={__name:"AccountPlotNFTsControl",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l,loading:r}=Ss(I({id:e.address})),n=v(()=>[{label:"Address",field:i=>i.address,to:i=>`/explore/address/${i.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:i=>i.server_url??"N/A (solo farming)"},{label:"Unlock Height",field:i=>i.unlock_height,visible:i=>i.is_locked}]);return(i,c)=>{const u=Ne,_=rt;return f(),x("div",null,[y("div",Gd,[a(u,null,{default:s(()=>[$(g(o(l)?.name),1)]),_:1})]),a(A,{flat:""},{default:s(()=>[a(_,{rows:o(n),data:o(l),loading:o(r)},null,8,["rows","data","loading"])]),_:1})])}}},Yd={class:"q-gutter-y-sm q-mt-sm"},Zd={class:"q-gutter-y-sm"},ec={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=vo(),r=P(()=>l.value?.plot_nft_binary),n=I({index:P(()=>e.index),type_hash:P(()=>r.value),owned:!0}),{rows:i,loading:c}=_o(n,()=>!!r.value);return(u,_)=>(f(),x("div",Yd,[y("div",Zd,[o(c)?(f(),b(ol,{key:0,query:""})):E("",!0),(f(!0),x(D,null,re(o(i),d=>(f(),b(Jd,{key:d.address,address:d.address},null,8,["address"]))),128))]),a(zd,Pt(Et(e)),null,16)]))}},tc=Object.freeze(Object.defineProperty({__proto__:null,default:ec},Symbol.toStringTag,{value:"Module"})),lc={class:"q-gutter-y-sm q-mt-sm"},oc={__name:"AccountDetails",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=we(),r=v(()=>[{name:"index",label:"Index",field:d=>d,headerClasses:"key-cell",classes:" m-bg-grey",align:"right"},{name:"address",label:"Address",field:d=>d,align:"left"}]),{rows:n}=$t(e,d=>(delete d.is_hidden,d)),{rows:i}=ps(e),{rows:c,loading:u}=ml({...e,limit:1e3}),_=()=>{window.mmx.copyKeysToPlotter(JSON.stringify(i.value))};return(d,m)=>{const p=Nt,h=de,w=le("RouterLink");return f(),x("div",lc,[a(p,{data:o(n)},null,8,["data"]),a(p,{data:o(i)},null,8,["data"]),o(l).isWinGUI&&o(i)?(f(),b(j,{key:0,label:d.$t("account_details.copy_keys_to_plotter"),color:"primary",outline:"",onClick:_},null,8,["label"])):E("",!0),a(te,{rows:o(c),columns:o(r),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":s(S=>[a(O,{props:S},{default:s(()=>[$(g(S.rowIndex),1)]),_:2},1032,["props"])]),"body-cell-address":s(S=>[a(O,{props:S},{default:s(()=>[a(w,{to:`/explore/address/${S.value}`,class:"text-primary mono"},{default:s(()=>[$(g(S.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(S=>[a(h,{props:S,"row-count":o(n).num_addresses??1},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns"])])}}},ac=Object.freeze(Object.defineProperty({__proto__:null,default:oc},Symbol.toStringTag,{value:"Module"})),nc={class:"q-gutter-y-sm q-mt-sm"},sc={class:"row q-gutter-x-sm"},rc={class:"q-mt-md row justify-end"},ic={__name:"AccountOptions",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=et(),n=ot(),{rows:i}=$t(e),c=I({name:"",num_addresses:1});_e(()=>{c.name=i.value.name,c.num_addresses=i.value.num_addresses});const u=Ti(),_=Ci(),d=Li(),m=()=>{d.mutate({index:e.index,count:c.num_addresses})},p=()=>{_.mutate(e.index)},h=ds(),w=async()=>{await h.mutateAsync(e,{onSuccess:k=>{r.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>sf),void 0,import.meta.url)),componentProps:{seed:k.string,withPassphrase:i.value.with_passphrase,fingerPrint:i.value.finger_print}})}})},S=()=>{r.dialog({title:"Remove Wallet",message:"To recover any funds you will need to re-create the wallet from a stored backup!",cancel:!0,persistent:!0,ok:{label:"Remove",color:"negative"}}).onOk(()=>{const k=i.value.key_file,C={index:i.value.account,account:i.value.index};u.mutate(C,{onSuccess:()=>T(k)})})},T=k=>{r.dialog({type:"warning",title:"Wallet removed",message:`Wallet file ${k} needs to be deleted manually`,persistent:!0,cancel:!1}).onOk(()=>{n.push("/wallet/")})};return(k,C)=>(f(),x("div",nc,[a(A,{flat:""},{default:s(()=>[a(N,{class:"q-gutter-x-xs"},{default:s(()=>[a(al,{onSubmit:m},{default:s(()=>[y("div",sc,[a(B,{modelValue:o(c).name,"onUpdate:modelValue":C[0]||(C[0]=q=>o(c).name=q),label:o(l)("create_wallet.account_name"),readonly:"",class:"col"},null,8,["modelValue","label"]),a(B,{modelValue:o(c).num_addresses,"onUpdate:modelValue":C[1]||(C[1]=q=>o(c).num_addresses=q),modelModifiers:{number:!0},label:o(l)("create_wallet.number_of_addresses"),class:"col-3"},null,8,["modelValue","label"])]),y("div",rc,[a(j,{label:"Update",type:"submit",color:"positive",outline:"",class:"col-2"})])]),_:1})]),_:1})]),_:1}),a(A,{flat:""},{default:s(()=>[a(N,{class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:k.$t("account_actions.reset_cache"),color:"secondary",outline:"",onClick:p},null,8,["label"]),a(j,{label:k.$t("account_actions.show_seed"),color:"secondary",outline:"",onClick:w},null,8,["label"]),t.index>=100?(f(),b(j,{key:0,color:"negative",outline:"",onClick:S},{default:s(()=>C[2]||(C[2]=[$("Remove")])),_:1})):E("",!0)]),_:1})]),_:1})]))}},uc=Object.freeze(Object.defineProperty({__proto__:null,default:ic},Symbol.toStringTag,{value:"Module"})),dc={class:"q-gutter-y-sm"},cc={__name:"FarmerRewards",setup(t){const{t:e}=W(),l=v(()=>[{label:"No. Blocks",field:"num_blocks"},{label:"Last Height",field:"last_height",format:S=>S>0?S:"N/A"},{label:"Total Rewards",field:"total_rewards_value",classes:"main-currency"},{label:"Time to win",field:()=>w,format:S=>`${S.value} (on average)`,loading:m.value}]),r=v(()=>[{label:"Reward",field:S=>S.value,headerStyle:"width: 5%"},{field:S=>"MMX",headerStyle:"width: 5%"},{name:"address",label:e("transaction_view.address"),field:S=>S.address,align:"left"}]),{data:n,loading:i}=fo({since:1e4}),{rows:c,loading:u}=dl(),{rows:_,loading:d}=qt(),m=v(()=>i.value||u.value||d.value),p=v(()=>c.value.total_space),h=v(()=>_.value.total_bytes_effective/1e9),w=v(()=>{if(p.value&&h.value){const S=p.value/h.value/6;if(S<=60)return Math.floor(S)+" minutes";const T=S/60;if(T<=24)return Math.floor(T)+" hours and "+Math.floor(S%60)+" minutes";const k=T/24;return Math.floor(k)+" days and "+Math.floor(T%24)+" hours"}return"N/A"});return(S,T)=>{const k=rt,C=le("RouterLink");return f(),x("div",dc,[a(k,{rows:o(l),data:o(n),loading:o(i)},null,8,["rows","data","loading"]),a(te,{rows:o(n)?.rewards??[],columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-address":s(q=>[a(O,{props:q},{default:s(()=>[a(C,{to:`/explore/address/${q.value}`,class:"text-primary mono"},{default:s(()=>[$(g(q.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},mc={class:"q-gutter-y-sm"},_c={__name:"index",setup(t){return(e,l)=>{const r=Ae;return f(),b(lt,{padding:""},{default:s(()=>[y("div",mc,[a(o($o)),a(o(cc)),a(r)])]),_:1})}}},pc=Object.freeze(Object.defineProperty({__proto__:null,default:_c},Symbol.toStringTag,{value:"Module"})),Qt={__name:"FarmerMenu",setup(t){const{t:e}=W(),l=v(()=>[{to:"/farmer/plots",label:e("farmer_menu.plots")},{to:"/farmer/plotnfts",label:"NFTs"},{to:"/farmer/blocks",label:e("farmer_menu.blocks")},{to:"/farmer/proofs",label:e("farmer_menu.proofs")}]);return(r,n)=>(f(),b(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(l),(i,c)=>(f(),b(Qe,{key:c,to:i.to,label:i.label},null,8,["to","label"]))),128))]),_:1}))}},fc={__name:"FarmerPlotDirs",setup(t){const{t:e}=W(),l=v(()=>[{label:e("farmer_plot_dirs.path"),field:i=>i,headerStyle:"width: 7%",align:"left"}]),{data:r,loading:n}=qt();return(i,c)=>(f(),b(te,{rows:o(r)?.plot_dirs??[],columns:o(l),loading:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},null,8,["rows","columns","loading"]))}},yc={class:"q-gutter-y-sm"},hc={class:"row q-gutter-x-xs"},bc={class:"row justify-end"},gc={__name:"FarmerPlotsIndex",setup(t){const{t:e}=W(),l=v(()=>[{label:e("farmer_plots.type"),field:"ksize",format:d=>`K${d}`,headerStyle:"width: 20%"},{label:e("farmer_plots.count"),field:"count",align:"left",style:"font-weight: bold;"}]),r=v(()=>[{label:e("common.harvester"),field:"name",headerStyle:"width: 12%"},{label:e("farmer_info.physical_size"),field:"bytes",format:d=>(d/Math.pow(1e3,4)).toFixed(3),xclasses:"physical-size",headerStyle:"width: 20%"},{label:"Effective Size",field:"effective",format:d=>(d/Math.pow(1e3,4)).toFixed(3),xclasses:"effective-size",align:"left"}]),n=d=>{var m={plot_count:[],harvester_bytes:[]};for(const p of d.plot_count)m.plot_count.push({ksize:p[0],count:p[1]});for(const p of d.harvester_bytes)m.harvester_bytes.push({name:p[0],bytes:p[1][0],effective:p[1][1]});return m},{rows:i,loading:c}=qt(n),u=ki(),_=()=>{u.mutate()};return(d,m)=>(f(),x("div",yc,[a(A,{flat:""},{default:s(()=>[a(o(Qt)),y("div",hc,[a(te,{rows:o(i)?.plot_count??[],columns:o(l),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col-4"},null,8,["rows","columns","loading"]),a(te,{rows:o(i)?.harvester_bytes??[],columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col"},{"body-cell":s(p=>[a(O,{props:p},{default:s(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(p))},g(p.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])]),_:1}),a(fc),y("div",bc,[a(j,{label:d.$t("farmer_plots.reload_plots"),icon:o(Ia),size:"md",rounded:"",outline:"",color:"primary",onClick:_},null,8,["label","icon"])])]))}},vc=fe(gc,[["__scopeId","data-v-ea8b456c"]]),wc=Object.freeze(Object.defineProperty({__proto__:null,default:vc},Symbol.toStringTag,{value:"Module"})),xc={class:"row q-gutter-x-none"},kc={__name:"PlotNFTInfo",props:{address:{type:String,required:!0},data:{type:Object,required:!0}},setup(t){const e=t,l=v(()=>[{label:"Address",field:r=>e.address,to:r=>`/explore/address/${r.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:r=>r.server_url??"N/A (solo farming)"},{label:"Pool Target",field:r=>r.pool_target,to:r=>`/explore/address/${r.pool_target}`,classes:"mono",visible:r=>r.pool_target},{label:"Partial Difficulty",field:r=>r.partial_diff,visible:r=>r.server_url},{label:"Plot Count",field:r=>r.plot_count}]);return(r,n)=>{const i=Ne,c=rt;return f(),x("div",null,[y("div",null,[y("div",xc,[a(i,null,{default:s(()=>[$(g(t.data.name),1)]),_:1})]),a(A,{flat:""},{default:s(()=>[a(c,{rows:o(l),data:t.data},null,8,["rows","data"])]),_:1})])])}}},Sc={class:"q-pt-sm q-gutter-y-sm"},$c={__name:"FarmerPlotNFTsIndex",setup(t){const{data:e}=qt(),l=v(()=>e.value?.pool_info??[]);return(r,n)=>(f(),b(A,{flat:"",style:{"background-color":"transparent"}},{default:s(()=>[a(o(Qt)),y("div",Sc,[(f(!0),x(D,null,re(o(l),i=>(f(),b(kc,{key:i,address:i[0],data:i[1]},null,8,["address","data"]))),128)),o(l)&&!o(l).length?(f(),x(D,{key:0},[a(Yt,{rounded:""},{avatar:s(()=>[a($e,{name:o(zl),color:"warning"},null,8,["name"])]),default:s(()=>[n[0]||(n[0]=$(" No NFT plots found "))]),_:1}),a(Yt,{rounded:""},{avatar:s(()=>[a($e,{name:o(Aa),color:"info"},null,8,["name"])]),default:s(()=>[n[1]||(n[1]=$(" Need to create a PlotNFT in Wallet first to plot NFT plots "))]),_:1})],64)):E("",!0)])]),_:1}))}},qc=Object.freeze(Object.defineProperty({__proto__:null,default:$c},Symbol.toStringTag,{value:"Module"})),Tc={__name:"FarmerBlocksIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("farmer_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"TX",field:"tx_count",headerStyle:"width: 7%"},{label:"K",field:"ksize",headerStyle:"width: 7%"},{label:l("farmer_blocks.score"),field:"score",headerStyle:"width: 7%"},{label:l("farmer_blocks.reward"),field:c=>c.reward_amount.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.tx_fees"),field:c=>c.tx_fees.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),align:"left"}]),{rows:n,loading:i}=Ls(e);return(c,u)=>{const _=le("RouterLink");return f(),b(A,{flat:""},{default:s(()=>[a(o(Qt)),a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":s(d=>[a(O,{props:d},{default:s(()=>[a(_,{to:`/explore/block/height/${d.value}`,class:"text-primary"},{default:s(()=>[$(g(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(d=>[a(O,{props:d},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(d))},g(d.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})}}},Vc=Object.freeze(Object.defineProperty({__proto__:null,default:Tc},Symbol.toStringTag,{value:"Module"})),Cc={__name:"FarmerProofsIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:"VDF height",field:"vdf_height",headerStyle:"width: 7%"},{label:l("farmer_proofs.harvester"),field:"harvester",headerStyle:"width: 7%",align:"left"},{label:l("farmer_proofs.score"),field:c=>c.proof.score,headerStyle:"width: 7%"},{label:l("farmer_proofs.sdiff"),field:c=>c.proof.difficulty,headerStyle:"width: 7%"},{label:l("farmer_proofs.time"),field:"lookup_time_ms",headerStyle:"width: 7%",format:c=>(c/1e3).toFixed(3)},{label:l("farmer_proofs.plot_id"),field:c=>c.proof?.plot_id,align:"left",classes:"mono"}]),{rows:n,loading:i}=Os(e);return(c,u)=>{const _=le("RouterLink");return f(),b(A,{flat:""},{default:s(()=>[a(o(Qt)),a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":s(d=>[a(O,{props:d},{default:s(()=>[a(_,{to:`/explore/block/height/${d.value}`,class:"text-primary"},{default:s(()=>[$(g(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})}}},Rc=Object.freeze(Object.defineProperty({__proto__:null,default:Cc},Symbol.toStringTag,{value:"Module"})),Lc={__name:"ExploreSearchBar",setup(t){const e=ot(),l=xt(),r=v(()=>l.params.height||l.params.hash||l.params.transactionId||l.params.address||l.params.farmerKey||""),n=F(r.value),i=F(!1);_e(()=>n.value=r.value);const c=Ds(),u=()=>{const _=/[0-9A-Fa-f]{64}/g,d=/^\d+$/;i.value=!1,n.value&&(n.value.startsWith("mmx1")?e.push("/explore/address/"+n.value):_.test(n.value)?n.value.length==64?c.mutate({hash:n.value},{onSettled:m=>{m?e.push("/explore/block/hash/"+n.value):e.push("/explore/transaction/"+n.value)}}):n.value.length==66?e.push("/explore/farmer/"+n.value):i.value=!0:d.test(n.value)?e.push("/explore/block/height/"+n.value):i.value=!0)};return(_,d)=>(f(),b(B,{modelValue:o(n),"onUpdate:modelValue":d[0]||(d[0]=m=>z(n)?n.value=m:null),placeholder:_.$t("explore_menu.placeholder"),error:o(i),"hide-bottom-space":"",outlined:"",onKeyup:El(u,["enter"])},{append:s(()=>[a($e,{name:o(Pa),onClick:u},null,8,["name"])]),_:1},8,["modelValue","placeholder","error"]))}};class Fc{constructor(){this.queryClient=G(),this.router=ot()}path(e){if(e){const l=this.router.resolve(e);l.meta?.prefetcher&&l.meta.prefetcher(this.queryClient,l)}return e}}const Oc=()=>new Fc,Ic={__name:"ExploreMenu",setup(t){const e=Oc(),l=i=>{e.path("/explore/farmers")},{t:r}=W(),n=v(()=>[{to:"/explore/blocks",label:r("explore_menu.blocks")},{to:"/explore/transactions",label:r("explore_menu.transactions")},{to:"/explore/farmers",label:r("explore_menu.farmers"),prefetcher:l}]);return(i,c)=>(f(),b(tt,{align:"left","indicator-color":"primary"},{default:s(()=>[a(We,{class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(n),(u,_)=>(f(),b(Qe,{key:_,to:u.to,label:u.label,icon:u.icon,onClick:u.click,onMouseover:d=>u.prefetcher&&u.prefetcher(u.to)},null,8,["to","label","icon","onClick","onMouseover"]))),128))]),_:1})]),_:1}))}},Ac={class:"q-gutter-y-sm"},Pc={__name:"index",setup(t){const e=xt();return(l,r)=>{const n=Ae;return f(),b(lt,{padding:""},{default:s(()=>[y("div",Ac,[a(o(Lc)),a(A,{flat:""},{default:s(()=>[a(o(Ic)),a(n,{show:!!o(e).meta.indexPage},null,8,["show"])]),_:1}),a(n,{show:!o(e).meta.indexPage},null,8,["show"])])]),_:1})}}},Ec=Object.freeze(Object.defineProperty({__proto__:null,default:Pc},Symbol.toStringTag,{value:"Module"})),Dc={class:"q-gutter-y-sm"},jc={class:"row q-gutter-x-none"},Wc={__name:"BlockView",props:{hash:{type:String,required:!1},height:{type:Number,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("block_view.height"),field:"height"},{label:l("block_view.hash"),field:"hash",classes:"mono"},{label:l("block_view.previous"),field:"prev",classes:"mono"},{label:l("block_view.time"),field:"time_stamp",format:p=>new Date(p).toLocaleString()},{label:"Reward Address",field:p=>p.reward_addr,to:p=>`/explore/address/${p.reward_addr}`,classes:"mono",visible:p=>p.reward_addr},{label:"Reward Contract",field:p=>p.reward_contract,to:p=>`/explore/address/${p.reward_contract}`,classes:"mono",visible:p=>p.reward_contract},{label:"Farmer Address",field:p=>p.reward_account,to:p=>`/explore/address/${p.reward_account}`,classes:"mono",visible:p=>p.reward_account},{label:"Block Reward",field:p=>p.reward_amount.value,classes:"main-currency"},{label:"TX Fees",field:p=>p.tx_fees.value,classes:"main-currency"},{label:l("block_view.tx_count"),field:p=>p.tx_count},{label:l("block_view.time_diff"),field:"time_diff"},{label:l("block_view.space_diff"),field:p=>p,format:p=>`${p.space_diff}${p.is_space_fork?"(updated)":""}`},{label:"Reward Vote",field:"reward_vote"},{label:"Reward Vote Sum",field:p=>p,format:p=>`${p.reward_vote_sum} / ${p.reward_vote_count} (${(p.reward_vote_count/(p.height%8640+1)*100).toFixed(1)} %)`},{label:"Base Reward",field:p=>p.base_reward.value,classes:"main-currency"},{label:"Avg. TX Fee",field:p=>p.average_txfee.value,classes:"main-currency"},{label:"VDF Height",field:"vdf_height"},{label:"VDF Count",field:"vdf_count"},{label:l("block_view.vdf_iterations"),field:"vdf_iters"},{name:"vdf_reward_addr",label:"Timelord",field:p=>p.vdf_reward_addr},{label:"Timelord Reward",field:"vdf_reward_payout",to:p=>`/explore/address/${p.vdf_reward_payout}`,visible:p=>p.vdf_reward_payout,classes:"mono"},{label:l("block_view.k_size"),field:p=>p.ksize},{label:l("block_view.proof_score"),field:p=>p.score},{label:"No. Proofs",field:p=>p.proof.length},{label:"Space Fork",field:p=>p,format:p=>`${p.space_fork_proofs} / ${p.space_fork_len}`},{label:l("block_view.plot_id"),field:p=>p.proof[0].plot_id,visible:p=>p.proof[0],classes:"mono"},{label:"Challenge",field:p=>p.proof[0].challenge,visible:p=>p.proof[0]},{label:l("block_view.farmer_key"),field:p=>p.farmer_key,to:p=>`/explore/farmer/${p.farmer_key}`,classes:"mono"}]),n=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("block_view.inputs"),field:p=>p.inputs.length+(p.exec_result?p.exec_result.inputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.outputs"),field:p=>p.outputs.length+(p.exec_result?p.exec_result.outputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.operations"),field:p=>p.execute.length,headerStyle:"width: 7%"},{name:"id",label:l("block_view.transaction_id"),field:p=>p.id,align:"left"}]),{data:i,loading:c,noData:u}=Ps(e),_=v(()=>e.height??i.value?.height??null),d=v(()=>i?.value?`/explore/block/hash/${i.value.prev}`:e.height!=null?`/explore/block/height/${e.height-1}`:null),m=v(()=>i?.value?`/explore/block/height/${i.value.height+1}`:e.height!=null?`/explore/block/height/${e.height+1}`:null);return(p,h)=>{const w=Ne,S=Tt,T=le("RouterLink"),k=rt;return f(),x("div",Dc,[y("div",null,[y("div",jc,[a(w,null,{default:s(()=>[$(g(p.$t("block_view.block")),1)]),_:1}),a(w,null,{default:s(()=>[$(g(o(_)),1)]),_:1}),o(u)?E("",!0):(f(),b(w,{key:0},{default:s(()=>[$(g(o(i)?.hash),1)]),_:1})),a(Dl),a(da,{rounded:""},{default:s(()=>[a(j,{to:o(d),icon:o(Ea),outline:"",disable:o(_)<=0},null,8,["to","icon","disable"]),a(j,{to:o(m),"icon-right":o(Da),outline:"",disable1:o(u)},null,8,["to","icon-right","disable1"])]),_:1})]),a(A,{flat:""},{default:s(()=>[o(u)?(f(),b(S,{key:0,icon:o(ja),title:p.$t("block_view.no_such_block")},null,8,["icon","title"])):(f(),b(k,{key:1,rows:o(r),data:o(i),loading:o(c)},{"value-vdf_reward_addr":s(({item:C})=>[(f(!0),x(D,null,re(C.value,(q,V)=>(f(),x("div",{key:q},[y("span",null,"["+g(V)+"] ",1),a(T,{to:`/explore/address/${q}`,class:"text-primary mono"},{default:s(()=>[$(g(q),1)]),_:2},1032,["to"])]))),128))]),_:1},8,["rows","data","loading"]))]),_:1})]),o(i)&&o(i).tx_list.length?(f(),b(te,{key:0,rows:o(i).tx_list,columns:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-index":s(C=>[a(O,{props:C},{default:s(()=>[$(" TX["+g(C.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-id":s(C=>[a(O,{props:C},{default:s(()=>[a(T,{to:`/explore/transaction/${C.value}`,class:"text-primary mono"},{default:s(()=>[$(g(C.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):E("",!0)])}}},Ll=Object.freeze(Object.defineProperty({__proto__:null,default:Wc},Symbol.toStringTag,{value:"Module"})),Mc={__name:"TransactionsIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("explore_transactions.height"),field:"height",headerStyle:"width: 7%"},{label:l("explore_transactions.type"),field:"note",headerStyle:"width: 10%"},{label:l("explore_transactions.fee"),field:c=>c.fee.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("explore_transactions.n_in"),field:c=>c.inputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_out"),field:c=>c.outputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_op"),field:c=>c.operations.length,headerStyle:"width: 5%"},{name:"id",label:l("explore_transactions.transaction_id"),field:"id"},{label:l("account_tx_history.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),align:"left"}]),{rows:n,loading:i}=Ws(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(A,{flat:""},{default:s(()=>[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-id":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary mono"},{default:s(()=>[$(g(("getShortHash"in c?c.getShortHash:o(Mt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Bc=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"})),Fl={__name:"InputOutputTable",props:{rows:{type:Object,required:!0},isInput:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=e.isInput?l("transaction_view.input"):l("transaction_view.output"),n=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("transaction_view.amount"),field:i=>i.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("transaction_view.token"),field:i=>i.symbol,headerStyle:"width: 7%"},{name:"address",label:l("transaction_view.address"),field:i=>i.address,align:"left"},{label:"Memo",field:i=>i.memo,headerStyle:"width: 50%",align:"left"}]);return(i,c)=>{const u=de,_=le("RouterLink");return t.rows.length>0?(f(),b(te,{key:0,rows:t.rows,columns:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":s(d=>[a(O,{props:d},{default:s(()=>[$(g(o(r))+"["+g(d.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-token":s(d=>[a(O,{props:d},{default:s(()=>[d.row.is_native?(f(),x(D,{key:0},[$(g(d.value),1)],64)):(f(),b(_,{key:1,to:`/explore/address/${d.row.contract}`,class:"text-primary"},{default:s(()=>[$(g(d.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":s(d=>[a(O,{props:d},{default:s(()=>[a(_,{to:`/explore/address/${d.value}`,class:"text-primary mono"},{default:s(()=>[$(g(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:s(d=>[a(u,{props:d,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns"])):E("",!0)}}},Nc={class:"q-gutter-y-sm"},Uc={class:"row q-gutter-x-none"},Kc={class:"row q-gutter-x-none"},Qc={key:0},zc={class:"row q-gutter-x-none"},Hc={__name:"index",props:{transactionId:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("transaction_view.height"),field:"height",to:u=>u.height!=null?`/explore/block/height/${u.height}`:null,format:u=>u??l("common.pending"),classes:u=>u.height==null?"text-italic":""},{label:l("transaction_view.message"),field:"message",visible:u=>u.did_fail},{label:l("transaction_view.confirmed"),field:"confirm",visible:u=>u.confirm},{label:l("transaction_view.expires"),field:"expires",visible:u=>u.expires<4294967295},{label:l("transaction_view.note"),field:"note"},{label:l("transaction_view.time"),field:"time_stamp",format:u=>new Date(u).toLocaleString(),visible:u=>u.time},{label:l("transaction_view.address"),field:"address",to:u=>`/explore/address/${u.address}`,visible:u=>u.deployed,classes:"mono"},{label:l("transaction_view.sender"),field:"sender",to:u=>`/explore/address/${u.sender}`,visible:u=>u.sender,classes:"mono"},{label:l("transaction_view.cost"),field:u=>u.cost.value,classes:"main-currency"},{label:l("transaction_view.fee"),field:u=>u.fee.value,classes:"main-currency"}]),{data:n,loading:i,noData:c}=Bs(I({id:P(()=>e.transactionId)}));return(u,_)=>{const d=Ne,m=Tt,p=rt,h=Nt;return f(),x("div",Nc,[y("div",null,[y("div",Uc,[a(d,null,{default:s(()=>[$(g(u.$t("transaction_view.transaction")),1)]),_:1}),a(d,null,{default:s(()=>[$(g(t.transactionId),1)]),_:1})]),a(A,{flat:""},{default:s(()=>[o(c)?(f(),b(m,{key:0,icon:o(Wa),title:u.$t("transaction_view.no_such_transaction")},null,8,["icon","title"])):(f(),b(p,{key:1,rows:o(r),data:o(n),loading:o(i)},null,8,["rows","data","loading"]))]),_:1})]),o(n)?(f(),x(D,{key:0},[a(A,{flat:""},{default:s(()=>[a(Fl,{rows:o(n).inputs,"is-input":"",loading:o(i)},null,8,["rows","loading"])]),_:1}),a(A,{flat:""},{default:s(()=>[a(Fl,{rows:o(n).outputs,"is-input":!1,loading:o(i)},null,8,["rows","loading"])]),_:1}),(f(!0),x(D,null,re(o(n).operations,(w,S)=>(f(),x("div",{key:S},[y("div",Kc,[a(d,null,{default:s(()=>[$(" Operation["+g(S)+"] ",1)]),_:2},1024),a(d,null,{default:s(()=>[$(g(w.__type),1)]),_:2},1024)]),a(A,{flat:""},{default:s(()=>[a(h,{data:w},null,8,["data"])]),_:2},1024)]))),128)),o(n).deployed?(f(),x("div",Qc,[y("div",zc,[a(d,null,{default:s(()=>[$(g(o(n).deployed.__type),1)]),_:1})]),a(A,{flat:""},{default:s(()=>[a(h,{data:o(n).deployed},null,8,["data"])]),_:1})])):E("",!0)],64)):E("",!0)])}}},Xc=Object.freeze(Object.defineProperty({__proto__:null,default:Hc},Symbol.toStringTag,{value:"Module"})),Gc={key:0},Jc={class:"prevent-select"},Yc={style:{"font-size":"0px"}},Zc={__name:"FarmersIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"place",headerStyle:"width: 5%",align:"center"},{label:l("explore_farmers.no_blocks"),field:"block_count",headerStyle:"width: 5%"},{name:"farmer_key",label:l("explore_farmers.farmer_key"),field:"farmer_key",align:"left"}]),{rows:n,loading:i}=Ns(e);return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(A,{flat:""},{default:s(()=>[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-farmer_key":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/farmer/${m.value}`,class:"text-primary mono"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-place":s(m=>[a(O,{props:m},{default:s(()=>[m.rowIndex<3?(f(),x("span",Gc,[y("span",Jc,g(["🥇","🥈","🥉"][m.rowIndex]),1),y("span",Yc,g(m.rowIndex+1),1)])):(f(),x(D,{key:1},[$(g(m.rowIndex+1),1)],64))]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},em=fe(Zc,[["__scopeId","data-v-30fd88b1"]]),tm=Object.freeze(Object.defineProperty({__proto__:null,default:em},Symbol.toStringTag,{value:"Module"})),lm={class:"q-gutter-y-sm"},om={class:"row q-gutter-x-none"},am={__name:"FarmerView",props:{farmerKey:{type:String,required:!0},limit:{type:Number,required:!1,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:"No. Blocks",field:"block_count"},{label:"Total Rewards",field:"total_reward_value",classes:"main-currency"}]),n=v(()=>[{label:"Reward",field:"value",headerClasses:"key-cell"},{label:"",field:()=>"MMX",headerStyle:"width: 7%",align:"left"},{name:"address",label:l("transaction_view.address"),field:"address",align:"left"}]),{data:i,loading:c}=Qs(I({id:P(()=>e.farmerKey)})),{rows:u,loading:_}=Hs(I({id:P(()=>e.farmerKey),limit:P(()=>e.limit)}));return(d,m)=>{const p=Ne,h=rt,w=de,S=le("RouterLink"),T=To;return f(),x("div",lm,[y("div",null,[y("div",om,[a(p,null,{default:s(()=>m[0]||(m[0]=[$("Farmer")])),_:1}),a(p,null,{default:s(()=>[$(g(t.farmerKey),1)]),_:1})]),a(A,{flat:""},{default:s(()=>[a(h,{rows:o(r),data:o(i),loading:o(c)},null,8,["rows","data","loading"])]),_:1})]),a(A,{flat:""},{default:s(()=>[a(te,{rows:o(i)?o(i).rewards:[],columns:o(n),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-address":s(k=>[a(O,{props:k},{default:s(()=>[a(S,{to:`/explore/address/${k.value}`,class:"text-primary mono"},{default:s(()=>[$(g(k.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:s(k=>[a(w,{props:k,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1}),a(A,{flat:""},{default:s(()=>[a(T,{rows:o(u),loading:o(_),class:"q-py-sm"},null,8,["rows","loading"])]),_:1})])}}},nm=Object.freeze(Object.defineProperty({__proto__:null,default:am},Symbol.toStringTag,{value:"Module"})),sm={__name:"AddressHistoryTable",props:{address:{type:String,required:!0},limit:{type:Number,default:100,required:!1},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("address_history_table.height"),field:"height",headerStyle:"width: 7%"},{label:l("address_history_table.type"),field:"type",headerStyle:"width: 7%",classes:c=>Lt(c.type)},{label:l("address_history_table.amount"),field:c=>c?.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("address_history_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"txid",label:"Transaction ID",field:"txid",headerStyle:"width: 20%"},{label:"Memo",field:"memo",style:"word-break: break-all",align:"left"},{label:l("address_history_table.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 12%",classes:"text-no-wrap",align:"left"}]),{rows:n,loading:i}=Ys(I({limit:P(()=>e.limit),id:P(()=>e.address)}));return(c,u)=>{const _=de,d=le("RouterLink"),m=Lo;return o(i)||!o(i)&&(o(n)?.length||t.showEmpty)?(f(),b(te,{key:0,rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":s(p=>[a(O,{props:p},{default:s(()=>[a(d,{to:`/explore/block/height/${p.value}`,class:"text-primary"},{default:s(()=>[$(g(p.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-token":s(p=>[a(O,{props:p},{default:s(()=>[p.row.is_native?(f(),x(D,{key:0},[$(g(p.row.is_nft?"[NFT]":p.value),1)],64)):(f(),b(d,{key:1,to:`/explore/address/${p.row.contract}`,class:"text-primary mono"},{default:s(()=>[$(g(p.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-txid":s(p=>[a(O,{props:p},{default:s(()=>[a(m,{id:p.value,type:p.row.type,class:"text-primary mono"},{default:s(()=>[$(g(("getShortHash"in c?c.getShortHash:o(Mt))(p.value)),1)]),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(p=>[a(_,{props:p,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):E("",!0)}}},rm={class:"q-gutter-y-sm"},im={class:"row q-gutter-x-none"},um={key:0},dm={__name:"AddressView",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l}=Gs(I({id:P(()=>e.address)})),{noData:r}=bo(I({id:P(()=>e.address)}));return(n,i)=>{const c=Ne,u=pl,_=Nt,d=sm,m=Tt;return f(),x("div",rm,[y("div",null,[y("div",im,[a(c,null,{default:s(()=>[$(g(n.$t("common.address")),1)]),_:1}),a(c,{copy:""},{default:s(()=>[$(g(t.address),1)]),_:1})]),o(r)?E("",!0):(f(),b(A,{key:0,flat:""},{default:s(()=>[a(u,{address:t.address,"show-empty":""},null,8,["address"])]),_:1}))]),o(l)?(f(),x("div",um,[a(c,null,{default:s(()=>[$(g(o(l).__type),1)]),_:1}),a(A,{flat:""},{default:s(()=>[a(_,{data:o(l)},null,8,["data"])]),_:1})])):E("",!0),o(r)?E("",!0):(f(),b(A,{key:1,flat:""},{default:s(()=>[a(d,{address:t.address,limit:200,"show-empty":!1},null,8,["address"])]),_:1})),o(r)?(f(),b(m,{key:2,icon:o(Ma),title:"Invalid address"},null,8,["icon"])):E("",!0)])}}},cm=Object.freeze(Object.defineProperty({__proto__:null,default:dm},Symbol.toStringTag,{value:"Module"})),yl=()=>{const t=Ie(),{market:e}=Dt(t),{menu:l}=ut(e.value),{bid:r,ask:n}=ut(l.value);return{bid:r,ask:n}},Ge=()=>{const t=Ie(),{activeWalletIndex:e}=Dt(t);return{activeWalletIndex:e}},mm={__name:"MarketPageMenu",setup(t){const{bid:e,ask:l}=yl(),{activeWalletIndex:r}=Ge();return(n,i)=>{const c=fl,u=Kt;return f(),x(D,null,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(c,{modelValue:o(r),"onUpdate:modelValue":i[0]||(i[0]=_=>z(r)?r.value=_:null),label:n.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(u,{modelValue:o(e),"onUpdate:modelValue":i[1]||(i[1]=_=>z(e)?e.value=_:null),label:n.$t("market_menu.they_offer"),clearable:o(e)!==null,"null-item":"","null-label":n.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"]),a(u,{modelValue:o(l),"onUpdate:modelValue":i[2]||(i[2]=_=>z(l)?l.value=_:null),label:n.$t("market_menu.they_ask"),clearable:o(l)!==null,"null-item":"","null-label":n.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})],64)}}},_m={class:"q-gutter-y-sm"},pm={__name:"index",setup(t){return(e,l)=>{const r=Ae;return f(),b(lt,{padding:""},{default:s(()=>[y("div",_m,[a(mm),a(A,{flat:""},{default:s(()=>[a(tt,{align:"left","indicator-color":"primary",class:"m-bg-grey"},{default:s(()=>[a(Qe,{to:"/market/offers",label:e.$t("market_menu.offers")},null,8,["label"]),a(Qe,{to:"/market/history",label:e.$t("market_menu.history")},null,8,["label"])]),_:1}),a(r)]),_:1})])]),_:1})}}},fm=Object.freeze(Object.defineProperty({__proto__:null,default:pm},Symbol.toStringTag,{value:"Module"})),ym={class:"row"},hm={key:0,class:"text-orange mono"},bm={__name:"MarketPageOffers",setup(t){const e=F(null),{t:l}=W(),r=v(()=>[{label:l("market_offers.they_offer"),field:"bid_balance_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:S=>({symbol:S.bid_symbol,currency:S.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.they_ask"),field:S=>S.bid_balance_value*S.display_price,format:S=>parseFloat(S.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:S=>({symbol:S.ask_symbol,currency:S.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.price"),field:S=>1/S.display_price,format:S=>parseFloat(S.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:S=>({symbol1:S.bid_symbol,symbol2:S.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.time"),field:"time_stamp",format:S=>new Date(S).toLocaleString(),headerStyle:"width: 12%",align:"left"},{name:"address",field:"address",headerStyle:"width: 1%"},{name:"actions",align:"right"}]),{bid:n,ask:i}=yl(),{activeWalletIndex:c}=Ge(),{rows:u}=_t(),{rows:_,loading:d}=or(I({bid:P(()=>n.value?.value),ask:P(()=>i.value?.value),min_bid:v(()=>n.value?.value&&e.value?e.value*Math.pow(10,n.value.decimals):null),limit:200})),m=et(),p=S=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>hf),void 0,import.meta.url)),componentProps:{index:c.value,offer:S}})},h=F(new Set),w=S=>{m.dialog({component:Ue(()=>L(()=>Promise.resolve().then(()=>Tf),void 0,import.meta.url)),componentProps:{index:c.value,offer:S}}).onOk(()=>{h.value.add(S.address)})};return(S,T)=>{const k=de,C=le("RouterLink");return f(),x("div",null,[o(n)?.value?(f(),b(A,{key:0,class:"q-my-xs",flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",ym,[a(B,{modelValue:o(e),"onUpdate:modelValue":T[0]||(T[0]=q=>z(e)?e.value=q:null),modelModifiers:{number:!0},debounce:200,suffix:o(n).label,label:"Minimum Offer",rules:[o(J).amount],"input-class":"amount-input",clearable:o(e)!=null,class:"col-2"},null,8,["modelValue","suffix","rules","clearable"])])]),_:1})]),_:1})):E("",!0),a(te,{rows:o(_),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(q=>[a(O,{props:q},{default:s(()=>[q.value.symbol=="MMX"?(f(),x(D,{key:0},[$(g(q.value.symbol),1)],64)):(f(),b(C,{key:1,to:`/explore/address/${q.value.currency}`,class:"text-primary"},{default:s(()=>[$(g(q.value.symbol)+" ",1),o(u).some(V=>V.currency==q.value.currency)?E("",!0):(f(),x("span",hm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(q=>[a(O,{props:q},{default:s(()=>[y("span",null,g(q.value.symbol1)+" / "+g(q.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-address":s(q=>[a(O,{props:q},{default:s(()=>[a(C,{to:`/explore/address/${q.value}`,class:"text-primary"},{default:s(()=>T[1]||(T[1]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":s(q=>[a(O,{props:q,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(l)("market_offers.trade"),_icon:o(il),outline:"",onClick:V=>p(q.row)},null,8,["label","_icon","onClick"]),a(j,{label:o(l)("common.accept"),_icon:o(Ba),color:"positive",outline:"",disable:o(h).has(q.row.address),onClick:V=>w(q.row)},null,8,["label","_icon","disable","onClick"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:s(q=>[a(k,{props:q,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},gm=fe(bm,[["__scopeId","data-v-cd0ebac4"]]),vm=Object.freeze(Object.defineProperty({__proto__:null,default:gm},Symbol.toStringTag,{value:"Module"})),wm={key:0,class:"text-orange mono"},xm={__name:"MarketPageHistory",setup(t){const{t:e}=W(),l=v(()=>[{label:e("market_offers.they_offer"),field:"bid_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.bid_symbol,currency:_.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.they_ask"),field:"ask_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.ask_symbol,currency:_.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.price"),field:_=>1/_.display_price,format:_=>parseFloat(_.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.bid_symbol,symbol2:_.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.time"),field:"time_stamp",format:_=>new Date(_).toLocaleString(),headerStyle:"width: 4%",align:"left"},{name:"offer",field:"address",headerStyle:"width: 3%"},{name:"txid",field:"txid",align:"left"}]),{bid:r,ask:n}=yl(),{rows:i}=_t(),{rows:c,loading:u}=nr(I({bid:P(()=>r.value?.value),ask:P(()=>n.value?.value),limit:200}));return(_,d)=>{const m=de,p=le("RouterLink");return f(),b(te,{rows:o(c),columns:o(l),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(h=>[a(O,{props:h},{default:s(()=>[h.value.symbol=="MMX"?(f(),x(D,{key:0},[$(g(h.value.symbol),1)],64)):(f(),b(p,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:s(()=>[$(g(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?E("",!0):(f(),x("span",wm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(h=>[a(O,{props:h},{default:s(()=>[y("span",null,g(h.value.symbol1)+" / "+g(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-offer":s(h=>[a(O,{props:h},{default:s(()=>[a(p,{to:`/explore/address/${h.value}`,class:"text-primary"},{default:s(()=>d[0]||(d[0]=[$("Offer")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":s(h=>[a(O,{props:h},{default:s(()=>[a(p,{to:`/explore/transaction/${h.value}`,class:"text-primary"},{default:s(()=>d[1]||(d[1]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(m,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},km=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),hl=()=>{const t=Ie(),{swap:e}=Dt(t),{menu:l}=ut(e.value),{token:r,currency:n}=ut(l.value);return{token:r,currency:n}},Sm={class:"q-gutter-y-sm"},$m={__name:"index",setup(t){hl();const{activeWalletIndex:e}=Ge();return(l,r)=>{const n=fl,i=Ae;return f(),b(lt,{padding:""},{default:s(()=>[y("div",Sm,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(n,{modelValue:o(e),"onUpdate:modelValue":r[0]||(r[0]=c=>z(e)?e.value=c:null),label:l.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(i)])]),_:1})}}},qm=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"})),Tm={class:"q-gutter-y-sm"},Vm={__name:"SwapListMenu",setup(t){const{token:e,currency:l}=hl();return Ge(),(r,n)=>{const i=Kt;return f(),x("div",Tm,[a(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(i,{modelValue:o(e),"onUpdate:modelValue":n[0]||(n[0]=c=>z(e)?e.value=c:null),label:r.$t("common.token"),clearable:o(e)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"]),a(i,{modelValue:o(l),"onUpdate:modelValue":n[1]||(n[1]=c=>z(l)?l.value=c:null),label:r.$t("common.currency"),clearable:o(l)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},Cm={class:"q-gutter-y-sm"},Rm={key:0,class:"text-orange mono"},Lm={__name:"index",setup(t){const{token:e,currency:l}=hl();Ge();const{t:r}=W(),n=v(()=>[{label:r("common.name"),field:"name",headerStyle:"width: 15%"},{name:"symbol",label:r("common.token"),field:_=>({symbol:_.symbols[0],currency:_.tokens[0]}),headerStyle:"width: 5%"},{name:"symbol",label:r("common.currency"),field:_=>({symbol:_.symbols[1],currency:_.tokens[1]}),headerStyle:"width: 5%"},{label:r("common.price"),field:"price",format:_=>_?parseFloat(_.toPrecision(6)):"N/A",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.symbols[1],symbol2:_.symbols[0]}),headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[0].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 12%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[0],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[1].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[1],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"actions",align:"right"}]),{rows:i}=_t(),{rows:c,loading:u}=ur(I({token:e,currency:l,limit:200}));return(_,d)=>{const m=de,p=le("RouterLink");return f(),x("div",Cm,[a(Vm),a(te,{rows:o(c),columns:o(n),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(h=>[a(O,{props:h},{default:s(()=>[h.value.symbol=="MMX"?(f(),x(D,{key:0},[$(g(h.value.symbol),1)],64)):(f(),b(p,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:s(()=>[$(g(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?E("",!0):(f(),x("span",Rm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(h=>[a(O,{props:h},{default:s(()=>[y("span",null,g(h.value.symbol1)+" / "+g(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-actions":s(h=>[a(O,{props:h,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(r)("swap.swap"),outline:"",to:`/swap/${h.row.address}`},null,8,["label","to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(m,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Fm=Object.freeze(Object.defineProperty({__proto__:null,default:Lm},Symbol.toStringTag,{value:"Module"})),Om={__name:"SwapViewMenu",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{to:`/swap/${e.address}/trade`,label:l("swap.trade")},{to:`/swap/${e.address}/history`,label:l("swap.history")},{to:`/swap/${e.address}/liquid`,label:l("swap.my_liquidity")},{to:`/swap/${e.address}/pool`,label:l("swap.pool_state")}]);return(n,i)=>(f(),b(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:s(()=>[(f(!0),x(D,null,re(o(r),(c,u)=>(f(),b(Qe,{key:u,to:c.to,label:c.label},null,8,["to","label"]))),128))]),_:1}))}},Im={class:"q-gutter-y-sm"},Am={class:"row q-gutter-x-none"},Pm={key:0,class:"text-orange mono"},Em={key:0},Dm={key:1},jm={__name:"index",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{field:"name",headerStyle:"width: 5%",classes:"key-cell m-bg-grey"},{label:l("swap.pool_balance"),field:"balance",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.24h")})`,field:"volume_1d",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.7d")})`,field:"volume_7d",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.apy")} (${l("swap.24h")})`,field:"avg_apy_1d",format:d=>(d*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"},{label:`${l("swap.apy")} (${l("swap.7d")})`,field:"avg_apy_7d",format:d=>(d*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"}]),{rows:n}=_t(),{data:i,loading:c,noData:u}=Wt(I({id:P(()=>e.address)})),_=v(()=>{if(!i.value)return[];const{balance:d,symbols:m,tokens:p,volume_1d:h,volume_7d:w,avg_apy_1d:S,avg_apy_7d:T}=i.value,k=[{name:l("common.token")},{name:l("common.currency")}];return k.map((C,q)=>{Object.assign(C,{balance:d[q].value,symbol:m[q],token:p[q],volume_1d:h[q].value,volume_7d:w[q].value,avg_apy_1d:S[q],avg_apy_7d:T[q]})}),k});return(d,m)=>{const p=Ne,h=de,w=le("RouterLink"),S=Ae,T=Tt;return f(),x("div",Im,[y("div",null,[y("div",Am,[a(p,null,{default:s(()=>[$(g(d.$t("swap.swap")),1)]),_:1}),o(i)?(f(),b(p,{key:0},{default:s(()=>[$(g(o(i).price?parseFloat(o(i).price.toPrecision(6)):"N/A")+" "+g(o(i).symbols[1])+" / "+g(o(i).symbols[0]),1)]),_:1})):E("",!0),a(p,null,{default:s(()=>[$(g(t.address),1)]),_:1})]),a(te,{rows:o(_),columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(k=>[a(O,{props:k},{default:s(()=>[k.value.symbol=="MMX"||k.value.link==!1?(f(),x(D,{key:0},[$(g(k.value.symbol),1)],64)):(f(),b(w,{key:1,to:`/explore/address/${k.value.currency}`,class:"text-primary"},{default:s(()=>[$(g(k.value.symbol)+" ",1),o(n).some(C=>C.currency==k.value.currency)?E("",!0):(f(),x("span",Pm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(k=>[a(O,{props:k},{default:s(()=>[y("span",null,g(k.value.symbol1)+" / "+g(k.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell":s(k=>[a(O,{props:k},{default:s(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(k))},g(k.value),3)]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:s(k=>[a(h,{props:k,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),o(u)?(f(),x("div",Dm,[a(T,{title:"No such swap",icon:o(il)},null,8,["icon"])])):(f(),x("div",Em,[a(Om,{address:t.address},null,8,["address"]),a(S,{address:t.address},null,8,["address"])]))])}}},Wm=Object.freeze(Object.defineProperty({__proto__:null,default:jm},Symbol.toStringTag,{value:"Module"})),Mm={__name:"SlippageSelect",setup(t){const e=[{label:"0.5 %",value:.995},{label:"1 %",value:.99},{label:"2 %",value:.98},{label:"5 %",value:.95},{label:"10 %",value:.9}];return(l,r)=>(f(),b(ge,Oe(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Max Slippage"}),null,16))}},Bm={__name:"IterSelect",setup(t){const e=[1,5,20,100];return(l,r)=>(f(),b(ge,Oe(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Iterations"}),null,16))}},Nm={class:"row justify-end q-col-gutter-x-md"},Um={class:"row justify-end q-col-gutter-x-md"},Km={class:"row justify-end q-col-gutter-x-md"},Qm={class:"row justify-end q-col-gutter-x-md"},zm={class:"row"},Hm={class:"col"},Xm={class:"col-11"},Gm={class:"row justify-end q-gutter-x-sm"},Ol={__name:"index",props:{address:{type:String,required:!0},buyForm:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{activeWalletIndex:l}=Ge(),r=v(()=>e.buyForm?1:0),n=v(()=>e.buyForm?0:1),i={amount:null,numIter:5,slippage:.98,feeRatio:null},c=F(null),u=I({...i}),{promptPassphrase:_,isLocked:d}=xe(I({index:l})),{isValid:m,isValidConfirmedUnlocked:p}=Re(c,d),h=I({id:P(()=>e.address),index:P(()=>r.value),amount:P(()=>u.amount),iters:P(()=>u.numIter)}),{data:w}=fr(h,m),S=v(()=>w.value?.fee_percent.toFixed(2)),T=v(()=>{const ee=w.value?.avg_price;return ee?parseFloat((r.value===1?1/ee:ee).toPrecision(6)):null}),k=v(()=>w.value?.trade.value),C=v(()=>({wallet:l.value,address:e.address,index:r.value,amount:u.amount,min_trade:u.slippage*k.value,num_iter:u.numIter,options:{fee_ratio:u.feeRatio}})),{data:q}=Wt(I({id:P(()=>e.address)})),{data:V}=je(I({index:l,currency:P(()=>q.value?.tokens[r.value])}),ee=>ee?ee.spendable:0,()=>!!q.value?.tokens[r.value]),H=ee=>ee<=V.value||"Insufficient funds",{data:K,isLoading:Q,latestError:ae}=Yn(C,p),me=Nn(),Z=async()=>{const ee=await _(),oe={...C.value,options:{...C.value.options,passphrase:ee}};await me.mutateAsync(oe)};return(ee,oe)=>{const M=Ce,ie=De,ke=Ve,ft=Ee,yt=Pe,ht=Te;return f(),x("div",null,[a(A,{flat:""},{default:s(()=>[a(ht,{ref_key:"formRef",ref:c,data:o(u),"default-data":i,onSubmit:Z},{default:s(()=>[a(We,{class:se([{"bg-green":t.buyForm,"bg-red":!t.buyForm},"text-white"])},null,8,["class"]),a(N,null,{default:s(()=>[y("div",Nm,[a(B,{"model-value":o(V),label:ee.$t("swap.wallet_ballance"),suffix:o(q)?.symbols[o(r)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(u).amount,"onUpdate:modelValue":oe[0]||(oe[0]=ye=>o(u).amount=ye),modelModifiers:{number:!0},debounce:200,label:ee.$t("common.amount"),"input-class":"amount-input",suffix:o(q)?.symbols[o(r)],rules:[o(J).required,o(J).amount,H],class:"col-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",Um,[a(B,{"model-value":o(S),label:ee.$t("swap.trade_fee_estimated"),suffix:"%","input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label"]),a(B,{"model-value":o(k),label:ee.$t("swap.you_receive_estimated"),suffix:o(q)?.symbols[o(n)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"])]),y("div",Km,[a(Bm,{modelValue:o(u).numIter,"onUpdate:modelValue":oe[1]||(oe[1]=ye=>o(u).numIter=ye),class:"col"},null,8,["modelValue"]),a(B,{"model-value":o(T),label:"Trade Price (average, including fee)",suffix:`${o(q)?.symbols[o(r)]} / ${o(q)?.symbols[o(n)]}`,"input-class":"amount-input",readonly:"",class:"col-8"},null,8,["model-value","suffix"])]),y("div",Qm,[a(Mm,{modelValue:o(u).slippage,"onUpdate:modelValue":oe[2]||(oe[2]=ye=>o(u).slippage=ye),class:"col-4"},null,8,["modelValue"]),a(M,{modelValue:o(u).feeRatio,"onUpdate:modelValue":oe[3]||(oe[3]=ye=>o(u).feeRatio=ye),class:"col-4"},null,8,["modelValue"]),a(ie,{modelValue:o(K),"onUpdate:modelValue":oe[4]||(oe[4]=ye=>z(K)?K.value=ye:null),loading:o(Q),error:o(ae),locked:o(d),class:"col-4"},null,8,["modelValue","loading","error","locked"])])]),_:1}),a(N,null,{default:s(()=>[y("div",zm,[y("div",Hm,[a(ke)]),y("div",Xm,[y("div",Gm,[a(ft),a(yt,{label:"Swap",icon:o(il)},null,8,["icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},Jm={class:"q-mt-sm"},Ym={class:"row q-col-gutter-sm"},Zm={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",Jm,[y("div",Ym,[a(Ol,{address:t.address,"buy-form":!0,class:"col-sm-12 col-md-6"},null,8,["address"]),a(Ol,{address:t.address,"buy-form":!1,class:"col-sm-12 col-md-6"},null,8,["address"])])]))}},e_=Object.freeze(Object.defineProperty({__proto__:null,default:Zm},Symbol.toStringTag,{value:"Module"})),t_={__name:"SwapHistory",props:{address:{type:String,required:!0},limit:{type:Number,default:200,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("common.height"),field:"height",headerStyle:"width: 7%"},{label:l("common.type"),field:"type",classes:c=>new Map([["BUY","text-green"],["SELL","text-red"]]).get(c.type)||"",headerStyle:"width: 11%"},{label:l("common.amount"),field:"value",headerStyle:"width: 10%",headerClasses:"dense-amount",classes:"dense-amount text-bold",align:"right"},{field:"symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{name:"address",label:l("common.user"),field:"user",align:"left"},{name:"tx",field:"txid",headerStyle:"width: 1%"},{label:l("common.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:n,loading:i}=mr(I({id:P(()=>e.address),limit:P(()=>e.limit)}));return(c,u)=>{const _=de,d=le("RouterLink");return f(),b(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-address":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary"},{default:s(()=>[$(g(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-tx":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary"},{default:s(()=>u[0]||(u[0]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},l_=Object.freeze(Object.defineProperty({__proto__:null,default:t_},Symbol.toStringTag,{value:"Module"})),o_={class:"row justify-end q-col-gutter-x-md"},a_={class:"row justify-end q-col-gutter-x-md"},n_={class:"row justify-end col-12 q-gutter-x-xs q-gutter-y-sm"},s_={class:"col"},r_={__name:"SwapLiquidForm",props:{address:{type:String,required:!0}},setup(t){const e=t,{activeWalletIndex:l}=Ge(),{data:r}=ml(I({index:l})),{data:n}=go(I({id:P(()=>e.address),user:r}),()=>!!r.value),i={tokenAmount:null,currencyAmount:null,poolIdx:null,feeRatio:null},c=F(null),u=I({...i}),{promptPassphrase:_,isLocked:d}=xe(I({index:l}));Re(c,d);const{data:m}=Wt(I({id:P(()=>e.address)}));_e(()=>{u.poolIdx=n.value?.pool_idx??-1});const p=()=>{u.poolIdx=n.value?.pool_idx??-1},h=v(()=>{if(m.value){const X=m.value.fee_rates.map((ce,he)=>({label:`${(ce*100).toFixed(2)} %`,value:he}));return[{label:"",value:-1},...X]}else return[]}),{data:w}=je(I({index:l,currency:P(()=>m.value?.tokens[0])}),X=>X?X.spendable:0,()=>!!m.value?.tokens[0]),{data:S}=je(I({index:l,currency:P(()=>m.value?.tokens[1])}),X=>X?X.spendable:0,()=>!!m.value?.tokens[1]),T=X=>X<=w.value||"Insufficient funds",k=X=>X<=S.value||"Insufficient funds",C=v(()=>u.tokenAmount&&u.currencyAmount?parseFloat((u.currencyAmount/u.tokenAmount).toPrecision(6)):null),q=v(()=>!!u.tokenAmount&&!!u.currencyAmount||!u.tokenAmount&&!u.currencyAmount),V=()=>{u.tokenAmount&&!u.currencyAmount?u.currencyAmount=parseFloat((u.tokenAmount*m.value.price).toFixed(m.value.decimals[1])):!u.tokenAmount&&u.currencyAmount&&(u.tokenAmount=parseFloat((u.currencyAmount/m.value.price).toFixed(m.value.decimals[0])))},H=F(!1),K=v(()=>!n.value||H.value||!(n.value.fees_earned[0].amount!=0||n.value.fees_earned[1].amount!=0)),Q=v(()=>u.poolIdx<0||n.value&&(n.value.pool_idx<0||u.poolIdx==n.value.pool_idx||n.value.balance[0].amount==0&&n.value.balance[1].amount==0)),ae=v(()=>!(u.tokenAmount||u.currencyAmount)||u.poolIdx<0),me=v(()=>ae.value||n.value.pool_idx>=0&&u.poolIdx!=n.value.pool_idx&&(n.value.balance[0].amount!=0||n.value.balance[1].amount!=0)),Z=v(()=>ae.value),ee=v(()=>!!u.tokenAmount||!!u.currencyAmount||!n.value||!(n.value.balance[0].amount!=0||n.value.balance[1].amount!=0)),oe=es(),M=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await oe.mutateAsync(he,{onSuccess:()=>{H.value=!0}})},ie=ls(),ke=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ie.mutateAsync(he)},ft=as(),yt=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ft.mutateAsync(he,{onSuccess:()=>{c.value.reset()}})},ht=ss(),ye=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ht.mutateAsync(he,{onSuccess:()=>{c.value.reset()}})},zt=is(),Je=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await zt.mutateAsync(he)};return(X,ce)=>{const he=Ce,jo=Ve,Wo=Te;return f(),x("div",null,[a(A,{flat:""},{default:s(()=>[a(Wo,{ref_key:"formRef",ref:c,data:o(u),"default-data":i,onReset:p},{default:s(()=>[a(N,null,{default:s(()=>[y("div",o_,[a(he,{modelValue:o(u).feeRatio,"onUpdate:modelValue":ce[0]||(ce[0]=Ye=>o(u).feeRatio=Ye),class:"col-sm-3 col-xs-12"},null,8,["modelValue"]),a(B,{"model-value":o(w),label:X.$t("swap.wallet_ballance"),suffix:o(m)?.symbols[0],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{"model-value":o(S),label:X.$t("swap.wallet_ballance"),suffix:o(m)?.symbols[1],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",a_,[a(ge,{modelValue:o(u).poolIdx,"onUpdate:modelValue":ce[1]||(ce[1]=Ye=>o(u).poolIdx=Ye),options:o(h),"emit-value":"","map-options":"",label:X.$t("swap.fee_level"),class:"col-sm-3 col-xs-12"},null,8,["modelValue","options","label"]),a(B,{"model-value":o(C),label:X.$t("common.price"),suffix:`${o(m)?.symbols[1]} / ${o(m)?.symbols[0]}`,"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-12"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(u).tokenAmount,"onUpdate:modelValue":ce[2]||(ce[2]=Ye=>o(u).tokenAmount=Ye),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(m)?.symbols[0],rules:[o(J).amount,T],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"]),a(B,{modelValue:o(u).currencyAmount,"onUpdate:modelValue":ce[3]||(ce[3]=Ye=>o(u).currencyAmount=Ye),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(m)?.symbols[1],rules:[o(J).amount,k],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"])])]),_:1}),a(nl,null,{default:s(()=>[y("div",n_,[y("div",s_,[a(jo,{class:"items-start"})]),a(j,{label:X.$t("swap.price_match"),outline:"",disable:o(q),onClick:V},null,8,["label","disable"]),a(j,{label:X.$t("swap.payout"),outline:"",disable:o(K),onClick:M},null,8,["label","disable"]),a(j,{label:X.$t("swap.switch_fee"),outline:"",disable:o(Q),onClick:ke},null,8,["label","disable"]),a(j,{label:X.$t("swap.add_liquidity"),outline:"",disable:o(me),class:"text-positive",onClick:yt},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_liquidity"),outline:"",disable:o(Z),class:"text-negative",onClick:ye},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_all"),outline:"",disable:o(ee),class:"text-negative",onClick:Je},null,8,["label","disable"])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},i_={class:"q-gutter-y-sm"},u_={__name:"SwapLiquidUserInfoTable",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("swap.my_balance"),field:"balance",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.my_liquidity"),field:"equivalent_liquidity",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.fees_earned"),field:"fees_earned",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:d=>(d.fees_earned>0?"text-positive":"")+" dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"fee_level",label:l("swap.fee_level"),field:"fee_level",format:d=>(d*100).toFixed(2),headerStyle:"width: 8%",align:"right",xclasses:"percents"},{label:l("swap.unlock_height"),field:"unlock_height",align:"left"}]),{activeWalletIndex:n}=Ge(),{data:i}=ml(I({index:n})),{data:c,loading:u}=go(I({id:P(()=>e.address),user:i}),()=>!!i.value),_=v(()=>{if(!c.value)return[];const{balance:d,symbols:m,equivalent_liquidity:p,fees_earned:h,pool_idx:w,unlock_height:S,swap:T}=c.value;return d.map((C,q)=>({balance:d[q].value,equivalent_liquidity:p[q].value,fees_earned:h[q].value,symbol:m[q],fee_level:w>=0?T.fee_rates[w]:void 0,unlock_height:S,pool_idx:w}))});return(d,m)=>{const p=de;return f(),x("div",i_,[a(te,{rows:o(_),columns:o(r),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-fee_level":s(h=>[a(O,{props:h},{default:s(()=>[h.row.pool_idx>=0?(f(),x("div",{key:0,class:se(("getXClasses"in d?d.getXClasses:o(Be))(h))},g(h.value),3)):E("",!0)]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(p,{props:h,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},d_={class:"q-gutter-y-sm"},c_={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",d_,[a(u_,{address:t.address},null,8,["address"]),a(r_,{address:t.address},null,8,["address"])]))}},m_=Object.freeze(Object.defineProperty({__proto__:null,default:c_},Symbol.toStringTag,{value:"Module"})),__={class:"q-gutter-y-sm"},p_={__name:"SwapPool",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("swap.fee_level"),field:"fee_rate",format:u=>u*100,headerStyle:"width: 5%",classes:"key-cell m-bg-grey",xclasses:"percents"},{label:l("common.balance"),field:"balance0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("common.balance"),field:"balance1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:"Price",field:"price",format:u=>u!=null?parseFloat(u.toPrecision(6)):"N/A",headerStyle:"width: 8%",classes:"text-bold"},{label:l("swap.user_total"),field:"user_total0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.user_total"),field:"user_total1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"}]),{data:n,loading:i}=Wt(I({id:P(()=>e.address)})),c=v(()=>{if(!n.value)return[];const{fee_rates:u,pools:_,symbols:d}=n.value;return u.map((p,h)=>({fee_rate:p,balance0:_[h].balance[0].value,symbol0:n.value.symbols[0],balance1:_[h].balance[1].value,symbol1:n.value.symbols[1],price:_[h].price,user_total0:_[h].user_total[0].value,user_total1:_[h].user_total[1].value}))});return(u,_)=>{const d=de;return f(),x("div",__,[a(te,{rows:o(c),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in u?u.getXClasses:o(Be))(m))},g(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(d,{props:m,"row-count":4},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},f_=Object.freeze(Object.defineProperty({__proto__:null,default:p_},Symbol.toStringTag,{value:"Module"})),y_={};function h_(t,e){return f(),b(A,{class:"fullscreen text-center q-pa-md flex flex-center"},{default:s(()=>[y("div",null,[e[0]||(e[0]=y("div",{class:"error-code"},"404",-1)),e[1]||(e[1]=y("div",{class:"error-message"},"Oops. Nothing here...",-1)),a(j,{class:"q-mt-xl",outline:"",unelevated:"",to:"/",label:"Go Home","no-caps":""})])]),_:1})}const b_=fe(y_,[["render",h_],["__scopeId","data-v-293e57be"]]),g_=Object.freeze(Object.defineProperty({__proto__:null,default:b_},Symbol.toStringTag,{value:"Module"})),v_=t=>R.post("/server/login",t,{headers:$n}),Po=()=>Y({mutationFn:({credentials:t})=>v_(t)}),w_=()=>R.get("/server/logout").then(t=>t.data),x_=()=>{const t=Ie();return Y({mutationFn:()=>w_(),onSettled:()=>{t.doLogout(!0)}})},Eo=t=>R.get("/server/session",{signal:t}).then(e=>e.data),k_=()=>{const t=Ie();return Ft({queryKey:["session"],queryFn:({signal:e})=>Eo(e),refetchInterval:5.1*st,enabled:t.isLoggedIn})},S_=()=>{const t=G();return Y({mutationFn:()=>Eo(),onSuccess:e=>{t.setQueryData(["session"],e)}})},$_={class:"fullscreen row justify-center"},q_={class:"row justify-between"},T_={__name:"LoginPage",setup(t){const e=F(""),l=F(!1),r=Po(),n=et(),i=()=>{n.notify({message:"Login failed!",type:"negative"})},c=Ie(),{autoLogin:u}=Dt(c),_=()=>{const d={credentials:{user:"mmx-admin",passwd_plain:e.value}};r.mutate(d,{onSuccess:(m,p)=>{u.value=l.value,c.doLogin(p.credentials)},onError:i})};return(d,m)=>(f(),x("div",$_,[a(A,{flat:"",class:"self-center col-xl-4 col-lg-6 col-md-8 col-sm-10 col-xs-12"},{default:s(()=>[a(We,null,{default:s(()=>[a(at,null,{default:s(()=>m[2]||(m[2]=[$(" Login ")])),_:1})]),_:1}),a(N,null,{default:s(()=>[a(al,{class:"q-gutter-sm",onSubmit:_},{default:s(()=>[a(B,{modelValue:o(e),"onUpdate:modelValue":m[0]||(m[0]=p=>z(e)?e.value=p:null),type:"password",required:"",filled:"",label:d.$t("login.password_label")},{prepend:s(()=>[a($e,{name:o(Ml)},null,8,["name"])]),_:1},8,["modelValue","label"]),y("div",q_,[a(Ke,{modelValue:o(l),"onUpdate:modelValue":m[1]||(m[1]=p=>z(l)?l.value=p:null),label:"Save in Browser (until Logout)"},null,8,["modelValue"]),a(j,{label:"Login",icon:o(Na),type:"submit",color:"primary",disable:!o(e)},null,8,["icon","disable"])])]),_:1})]),_:1})]),_:1})]))}},V_=Object.freeze(Object.defineProperty({__proto__:null,default:T_},Symbol.toStringTag,{value:"Module"})),C_={__name:"NodeSettings",setup(t){const{data:e}=ve(),l=F();return _e(()=>l.value=e?.opencl_device_select),Se(l,r=>{e.opencl_device_select=r,e.opencl_platform=null,e.opencl_device=r>=0?e.opencl_device_list_relidx[r].index:-1,e.opencl_device_name=r>=0?e.opencl_device_list_relidx[r].name:null}),(r,n)=>(f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",null,[a(Ke,{modelValue:o(e).timelord,"onUpdate:modelValue":n[0]||(n[0]=i=>o(e).timelord=i),label:r.$t("node_settings.enable_timelord")},null,8,["modelValue","label"])]),y("div",null,[a(Ke,{modelValue:o(e).open_port,"onUpdate:modelValue":n[1]||(n[1]=i=>o(e).open_port=i),label:r.$t("node_settings.open_port")},null,8,["modelValue","label"])]),y("div",null,[a(Ke,{modelValue:o(e).allow_remote,"onUpdate:modelValue":n[2]||(n[2]=i=>o(e).allow_remote=i),label:"Allow remote service access (for remote harvesters)"},null,8,["modelValue"])]),a(ge,{modelValue:o(l),"onUpdate:modelValue":n[3]||(n[3]=i=>z(l)?l.value=i:null),label:r.$t("node_settings.opencl_device"),options:o(e).opencl_device_list,"emit-value":"","map-options":""},null,8,["modelValue","label","options"])]),_:1})]),_:1}))}},R_={__name:"RewardSettings",setup(t){const e=F(),l=F(),r=F(),n=F(),{data:i}=ve();_e(()=>r.value=i?.farmer_reward_addr),_e(()=>n.value=i?.timelord_reward_addr);const{isLocalNode:c,isFarmer:u}=ve();return(_,d)=>(f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[o(u)?(f(),b(B,{key:0,ref_key:"farmer_reward_addr_ref",ref:e,modelValue:o(r),"onUpdate:modelValue":d[0]||(d[0]=m=>z(r)?r.value=m:null),label:_.$t("node_settings.farmer_reward_address"),placeholder:_.$t("common.reward_address_placeholder"),rules:[o(J).address],onChange:d[1]||(d[1]=m=>{o(e).validate(m)&&(o(i).farmer_reward_addr=m.length?m:null)})},null,8,["modelValue","label","placeholder","rules"])):E("",!0),o(c)?(f(),b(B,{key:1,ref_key:"timelord_reward_addr_ref",ref:l,modelValue:o(n),"onUpdate:modelValue":d[2]||(d[2]=m=>z(n)?n.value=m:null),label:_.$t("node_settings.timeLord_reward_address"),placeholder:_.$t("common.reward_address_placeholder"),rules:[o(J).address],onChange:d[3]||(d[3]=m=>{o(l).validate(m)&&(o(i).timelord_reward_addr=m.length?m:null)})},null,8,["modelValue","label","placeholder","rules"])):E("",!0)]),_:1})]),_:1}))}},L_={align:"left"},F_={align:"right"},O_={__name:"HarvesterSettings",setup(t){const e=F(),{data:l}=ve(),r=fi(),n=u=>{u?.length&&r.mutate(u,{onSuccess:()=>{e.value=""}})},i=hi(),c=u=>{i.mutate(u)};return(u,_)=>(f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(B,{label:"Num. Threads (for lookups, reload)","model-value":o(l).harv_num_threads,rules:[o(J).number],onChange:_[0]||(_[0]=d=>o(l).harv_num_threads=parseInt(d))},null,8,["model-value","rules"]),a(B,{label:u.$t("harvester_settings.harvester_reload_interval"),"model-value":o(l).reload_interval,rules:[o(J).number],onChange:_[1]||(_[1]=d=>o(l).reload_interval=parseInt(d))},null,8,["label","model-value","rules"]),a(Ke,{modelValue:o(l).recursive_search,"onUpdate:modelValue":_[2]||(_[2]=d=>o(l).recursive_search=d),label:"Recursive Search"},null,8,["modelValue"]),a(At,{flat:""},{default:s(()=>[y("thead",null,[y("tr",null,[y("th",L_,g(u.$t("harvester_settings.plot_directory")),1),_[5]||(_[5]=y("th",{width:"20%"},null,-1))])]),y("tbody",null,[(f(!0),x(D,null,re(o(l).plot_dirs,d=>(f(),x("tr",{key:d},[y("td",null,g(d),1),y("td",F_,[a(j,{label:"Remove",outline:"",onClick:m=>c(d)},null,8,["onClick"])])]))),128))])]),_:1}),a(B,{modelValue:o(e),"onUpdate:modelValue":_[3]||(_[3]=d=>z(e)?e.value=d:null),label:u.$t("harvester_settings.plot_directory")},null,8,["modelValue","label"]),a(j,{outlined:"",disable:!o(e)?.length,color:"primary",class:"q-mt-sm",onClick:_[4]||(_[4]=d=>n(o(e)))},{default:s(()=>[$(g(u.$t("harvester_settings.add_directory")),1)]),_:1},8,["disable"])]),_:1})]),_:1}))}},I_={__name:"CudaSettings",setup(t){const{data:e,loading:l}=ve();return(r,n)=>(f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[o(l)?(f(),b(ol,{key:0,query:"",class:"absolute-top"})):E("",!0),a(Ke,{modelValue:o(e).cuda_enable,"onUpdate:modelValue":n[0]||(n[0]=i=>o(e).cuda_enable=i),label:"Enable CUDA compute (farming and proof verify)"},null,8,["modelValue"])]),_:1})]),_:1}))}},A_={__name:"BlockchainSettings",setup(t){const e=F(),l=F(),r=v(()=>!e.value?.validate()||!l.value),{t:n}=W();et();const i=_i(),c=u=>{u=parseInt(u),i.mutate({height:u})};return(u,_)=>(f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(B,{ref_key:"revertHeightRef",ref:e,modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=d=>z(l)?l.value=d:null),label:u.$t("node_settings.revert_db_to_height"),rules:[o(J).number],clearable:""},null,8,["modelValue","label","rules"]),a(j,{disable:o(r),outline:"",color:"negative",onClick:_[1]||(_[1]=d=>c(o(l)))},{default:s(()=>[$(g(u.$t("node_settings.revert")),1)]),_:1},8,["disable"])]),_:1}),a(Ct,{showing:o(i).isPending.value},{default:s(()=>[a(ca,{color:"primary",size:"3em"})]),_:1},8,["showing"])]),_:1}))}},P_={align:"left"},E_={align:"left"},D_={align:"left"},j_={key:0},W_={__name:"WalletSettings",setup(t){const e=F(""),l=F(""),{data:r,isPending:n}=_t();v(()=>n.value);const i=gi(),c=d=>{i.mutate(d,{onSuccess:()=>{e.value=""}})},u=wi(),_=d=>{u.mutate(d)};return(d,m)=>{const p=le("RouterLink");return f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[a(At,{flat:""},{default:s(()=>[y("thead",null,[y("tr",null,[y("th",P_,g(d.$t("wallet_settings.name")),1),y("th",E_,g(d.$t("wallet_settings.symbol")),1),y("th",D_,g(d.$t("wallet_settings.contract")),1),m[2]||(m[2]=y("th",{align:"left"},null,-1))])]),y("tbody",null,[(f(!0),x(D,null,re(o(r),h=>(f(),x(D,{key:h.currency},[h.is_native?E("",!0):(f(),x("tr",j_,[y("td",null,g(h.name),1),y("td",null,g(h.symbol),1),y("td",null,[a(p,{to:"/explore/address/"+h.currency,class:"text-primary mono"},{default:s(()=>[$(g(h.currency),1)]),_:2},1032,["to"])]),y("td",null,[a(j,{outline:"",onClick:w=>_(h.currency)},{default:s(()=>[$(g(d.$t("common.remove")),1)]),_:2},1032,["onClick"])])]))],64))),128))])]),_:1}),a(B,{ref_key:"newTokenTextField",ref:l,modelValue:o(e),"onUpdate:modelValue":m[0]||(m[0]=h=>z(e)?e.value=h:null),label:d.$t("wallet_settings.token_address"),placeholder:"mmx1...",rules:[o(J).address]},null,8,["modelValue","label","rules"]),a(j,{label:d.$t("wallet_settings.add_token"),disable:o(e).length==0||o(l).hasError,outline:"",color:"primary",onClick:m[1]||(m[1]=h=>c(o(e)))},null,8,["label","disable"])]),_:1})]),_:1})}}},M_={__name:"UISettings",setup(t){const{t:e}=W(),l=we(),r=v(()=>[{value:!1,label:e("node_settings.light")},{value:!0,label:e("node_settings.dark")}]);return(n,i)=>(f(),b(A,null,{default:s(()=>[a(N,null,{default:s(()=>[a(ge,{modelValue:o(l).locale,"onUpdate:modelValue":i[0]||(i[0]=c=>o(l).locale=c),"emit-value":"","map-options":"",label:n.$t("node_settings.language"),options:o(ul)},null,8,["modelValue","label","options"]),a(ge,{modelValue:o(l).isDarkTheme,"onUpdate:modelValue":i[1]||(i[1]=c=>o(l).isDarkTheme=c),"emit-value":"","map-options":"",label:n.$t("node_settings.theme"),options:o(r)},null,8,["modelValue","label","options"])]),_:1})]),_:1}))}},B_=t=>R.get("https://api.github.com/repos/madMAx43v3r/mmx-node/tags",{signal:t}).then(e=>e.data),N_=t=>Ft({queryKey:["externalBuildInfo"],queryFn:({signal:e})=>B_(e),refetchInterval:60*60*st,staleTime:1/0,select:t}),U_=()=>N_(e=>{for(let l of e)if(l&&l.name.length&&l.name[0]==="v")return l}),Do=()=>{const{data:t}=ve(),{data:e}=U_(),l=v(()=>t.version?.split("-",1)[0]),r=v(()=>e.value?.name);return{isNewVersionAvailable:v(()=>!!(l.value&&r.value&&l.value!==r.value)),latestVersion:r,latestRelease:e,version:l}},K_={class:"text-h6"},Q_={class:"q-gutter-y-sm"},z_={__name:"BuildVersionInfo",setup(t){const{data:e,loading:l}=ve(),{t:r}=W(),n=v(()=>[{label:r("build_version.version"),field:"version"},{label:r("build_version.commit"),field:"commit"}]),{isNewVersionAvailable:i,latestVersion:c,version:u}=Do();return(_,d)=>{const m=rt;return f(),b(A,{flat:""},{default:s(()=>[a(N,null,{default:s(()=>[y("div",K_,[a(ma,{icon:o(Ua)},null,8,["icon"]),$(" "+g(_.$t("build_version.build")),1)]),y("div",Q_,[a(m,{rows:o(n),data:o(e),loading:o(l)},null,8,["rows","data","loading"]),o(i)?(f(),b(Yt,{key:0,rounded:"","inline-actions":"",class:"bg-warning"},{default:s(()=>[$(" This build is "+g(o(u))+", compared to "+g(o(c))+" at madMAx43v3r:master ",1)]),_:1})):E("",!0)])]),_:1})]),_:1})}}},H_={class:"q-gutter-y-sm"},X_={__name:"index",setup(t){const e=we(),{isLocalNode:l,isFarmer:r}=ve(),{t:n}=W(),i=[{name:"ui",label:n("node_settings.ui"),icon:Ka,component:M_,visible:!e.isWinGUI},{name:"node",label:"Node",icon:Qa,component:C_,visible:l.value},{name:"reward",label:"Reward",icon:za,component:R_,visible:l.value||r.value},{name:"harvester",label:n("harvester_settings.harvester"),icon:Ha,component:O_,visible:r.value},{name:"cuda",label:"CUDA",icon:Xa,component:I_,visible:r.value||l.value},{name:"blockchain",label:n("node_settings.blockchain"),icon:Ga,component:A_,visible:l.value},{name:"wallet",label:n("wallet_settings.token_whitelist"),icon:Ja,component:W_,visible:!0}],c=v(()=>i.find(p=>p.visible)),u=ot(),_=xt(),d=v(()=>{const p=_.query.state||c.value?.name,h={};return h[p]=!0,h}),m=F(d.value);return Se(m,p=>{var h=Object.keys(p);p?u.push({path:_.path,query:{state:h.filter(w=>p[w])[0]},replace:!0}):u.push({path:_.path,replace:!0})},{deep:!0}),(p,h)=>(f(),b(lt,{padding:""},{default:s(()=>[y("div",H_,[a(_a,{bordered:"",class:"rounded-borders"},{default:s(()=>[(f(),x(D,null,re(i,w=>a(pa,{key:w,modelValue:o(m)[w.name],"onUpdate:modelValue":S=>o(m)[w.name]=S,label:w.label,icon:w.icon,"header-class":"text-h6","expand-separator":"",group:"expansionGroup"},{default:s(()=>[(f(),b(it(w.component)))]),_:2},1032,["modelValue","onUpdate:modelValue","label","icon"])),64))]),_:1}),a(z_,{class:"q-mt-md"})])]),_:1}))}},G_=Object.freeze(Object.defineProperty({__proto__:null,default:X_},Symbol.toStringTag,{value:"Module"})),J_={key:0,class:"q-tab self-stretch flex flex-center text-center"},Y_={__name:"MenuTabs",props:{tabs:{type:Array,required:!0}},setup(t){return(e,l)=>(f(),b(tt,{"indicator-color":"primary","outside-arrows":"",class:"q-mx-xs"},{default:s(()=>[(f(!0),x(D,null,re(t.tabs,(r,n)=>(f(),x(D,{key:n},[r.visible??!0?(f(),x(D,{key:0},[r.separator?(f(),b(tl,{key:0,vertical:"",inset:"",class:"q-mx-md"})):r.space?(f(),b(Dl,{key:1})):r.component?(f(),x(D,{key:2},[r.tabTagWrap??!0?(f(),x("div",J_,[(f(),b(it(r.component)))])):(f(),b(it(r.component),{key:1}))],64)):(f(),b(Qe,{key:3,to:r.to,label:r.label,icon:r.icon,disable:r.disable,onClick:r.click},null,8,["to","label","icon","disable","onClick"]))],64)):E("",!0)],64))),128))]),_:1}))}},Z_={__name:"BuildVersion",setup(t){const{isNewVersionAvailable:e,latestVersion:l,version:r}=Do();return(n,i)=>o(e)?(f(),b($e,{key:0,name:o(Ya),color:"warning",size:"sm",class:"animate__animated animate__flash animate__delay-1s"},{default:s(()=>[a(ze,null,{default:s(()=>[$("This build is "+g(o(r))+", compared to "+g(o(l))+" at madMAx43v3r:master",1)]),_:1})]),_:1},8,["name"])):E("",!0)}};function ep(t=1e4){const l=G().getQueryCache(),r=F(!1),n=F(new Set),i=new Map,c=l.subscribe(u=>{if(u.type==="updated"){const _=u.query,d=JSON.stringify(_.queryKey);if(_.state.fetchStatus==="fetching"){i.has(d)&&(clearTimeout(i.get(d)),i.delete(d));const m=setTimeout(()=>{_.state.fetchStatus==="fetching"&&(n.value.add(d),r.value=!0),i.delete(d)},t);i.set(d,m)}else i.has(d)&&(clearTimeout(i.get(d)),i.delete(d)),n.value.has(d)&&(n.value.delete(d),r.value=n.value.size>0)}});return fa(()=>{c(),i.forEach(u=>clearTimeout(u)),i.clear()}),r}const Fe=Object.freeze({DisconnectedFromNode:Symbol("DisconnectedFromNode"),QueryTakingLong:Symbol("QueryTakingLong"),Connecting:Symbol("Connecting"),Syncing:Symbol("Syncing"),Synced:Symbol("Synced"),None:Symbol("None")}),tp=()=>{const t=Ie(),{isLocalNode:e}=ve(),l=F(0),r=F(0),n=F(1),i=F(!1);ep(1e3);const c=v(()=>l.value<1),u=v(()=>r.value<1||!e.value),_=v(()=>i.value==!1&&n.value<1),d=S_(),m=()=>{t.isLoggedIn&&d.mutate(null,{onSuccess:V=>{if(V&&V.user)l.value=0;else throw new Error("No valid session")},onError:()=>{l.value++}})},p=v(()=>{let V=c.value&&u.value?5e3:1e3;return l.value==0&&!t.isLoggedIn&&(V=-1),V});Gt(m,p);const h=ui(),w=()=>h.mutate(null,{onSuccess:V=>{if(V.peers?.length>0)r.value=0;else throw new Error("No peers")},onError:()=>{r.value++}}),S=v(()=>{let V=u.value?5e3:1e3;return r.value==0&&(!c.value||i.value)&&(V=-1),V});Gt(w,S);const T=Ln(),k=()=>T.mutate(null,{onSuccess:V=>{if(V)i.value=!0,V.is_synced&&(i.value=!1,n.value=0);else throw new Error("No Sync")},onError:()=>{i.value=!1,n.value++}}),C=v(()=>_.value?5e3:1e3);return Gt(k,C),{status:v(()=>{let V=Fe.None;return c.value?(V=Fe.Connecting,u.value&&(V=Fe.Syncing,_.value&&(V=Fe.Synced))):V=Fe.DisconnectedFromNode,V})}},Gt=(t,e)=>{t();const l=ya(t,e);return Se(e,(r,n)=>{Le(r)<=0&&l.pause(),(Le(n)<=0&&Le(r)>0||Le(n)>0&&Le(r)<Le(n))&&(l.resume(),t())}),l},lp={class:"q-px-xs"},op={__name:"NodeStatus",setup(t){const{t:e}=W(),l={[Fe.DisconnectedFromNode]:{label:e("node_status.disconnected"),icon:on,class:"text-negative animate__animated animate__swing animate__infinite"},[Fe.QueryTakingLong]:{label:"Node response taking too long",icon:ln,class:"text-warning animate__animated animate__flash animate__slow animate__infinite"},[Fe.Connecting]:{label:e("node_status.connecting"),icon:tn,class:"text-negative animate__animated animate__flash animate__slow animate__infinite"},[Fe.Syncing]:{label:e("node_status.syncing"),icon:en,class:"text-warning spin"},[Fe.Synced]:{label:e("node_status.synced"),icon:Za,class:"text-positive animate__animated animate__bounceIn"}},{status:r}=tp(),n=v(()=>l[r.value]);return(i,c)=>(f(),x("div",lp,[o(n)?(f(),b($e,{key:0,name:o(n).icon,size:"sm",class:se(o(n).class)},{default:s(()=>[a(ze,null,{default:s(()=>[$(g(o(n).label),1)]),_:1})]),_:1},8,["name","class"])):E("",!0)]))}},ap=fe(op,[["__scopeId","data-v-5a639f02"]]),np={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 1170.7 327.595"},sp={__name:"SvgLogo",props:{color:{type:String,default:"#fff"}},setup(t){return ha(e=>({"442bc8c4":t.color})),(e,l)=>(f(),x("svg",np,l[0]||(l[0]=[y("g",{id:"Text_x0020_Black_x0020__x0028_SVG_x0029_"},[y("path",{d:"M19.578 80.542 0 327.595h95.292l6.752-85.204zM258.854 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L132.604 0H25.96L173.5 289.567l91.121-178.834-17.184 216.863h95.292L368.689 0zM454.949 80.542l-19.578 247.053h95.292l6.752-85.204zM694.225 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L567.975 0H461.33l147.54 289.566 91.121-178.834-17.184 216.863H778.1L804.06 0zM918.156 184.837l53.254 104.729-19.377 38.029h-106.47zM908.537 0h69.457l166.918 327.595h-106.643L890.298 37.187C879.835 16.653 888.003.001 908.537.001zM1098.11 142.76l-53.26-104.725L1064.23 0h106.47z",class:"fil0"})],-1)])))}},rp=fe(sp,[["__scopeId","data-v-1c7f7bbe"]]),ip={class:"logo"},up={class:"mono node-height"},dp={__name:"index",setup(t){const e=Yl(),l=v(()=>e.height&&e.height.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),r=we(),n=v(()=>r.isDarkTheme?"#fff":"#000");return(i,c)=>{const u=rp;return f(),x("div",ip,[a(u,{height:"18",color:o(n)},null,8,["color"]),y("div",up,[(f(),x(D,{key:1},[$(g(o(l)),1)],64))])])}}},cp=fe(dp,[["__scopeId","data-v-9901f0bc"]]),mp=()=>{const t=Ie(),{data:e}=k_(),l=Po(),r=G(),n=i=>{l.mutate({credentials:i},{onSuccess:()=>r.invalidateQueries({queryKey:["config"]}),onError:()=>t.doLogout(!1)})};Se(e,i=>{i&&i.user||(t.autoLogin?n(t.credentials):t.doLogout(!1))})},_p={__name:"GuiMainMenu",setup(t){const{t:e}=W(),l=we(),{isWallet:r,isFarmer:n}=ve(),i=v(()=>[{component:cp},{separator:!0},{to:"/node",label:e("main_menu.node")},{to:"/wallet",label:e("main_menu.wallet"),visible:r.value},{to:"/farmer",label:e("main_menu.farmer"),visible:n.value},{to:"/explore",label:e("main_menu.explore")},{to:"/market",label:e("main_menu.market"),visible:r.value},{to:"/swap",label:e("main_menu.swap"),visible:r.value},{space:!0},{component:Z_,visible:!l.isWinGUI},{component:ap},{to:"/settings",icon:Nl},{icon:an,click:u,visible:!l.isWinGUI}]),c=x_(),u=()=>c.mutate();return mp(),(_,d)=>{const m=Y_;return f(),b(m,{tabs:o(i)},null,8,["tabs"])}}};let el;el=_p;const pp={class:"row justify-center"},fp={class:"row justify-center"},yp={__name:"default",setup(t){const e=we(),l=v(()=>({"col-12":!0,"app-max-width":!e.isWinGUI}));return(r,n)=>{const i=Ae;return f(),b(va,{view:"lhr Lpr lFr"},{default:s(()=>[o(el)?(f(),b(ba,{key:0,class:"m-bg-grey"},{default:s(()=>[y("div",pp,[y("div",{class:se(o(l))},[(f(),b(it(o(el)),{class:"q-mx-lg"}))],2)])]),_:1})):E("",!0),y("div",fp,[y("div",{class:se(o(l))},[a(ga,null,{default:s(()=>[a(i)]),_:1})],2)])]),_:1})}}},hp=Object.freeze(Object.defineProperty({__proto__:null,default:yp},Symbol.toStringTag,{value:"Module"})),bp={class:"q-gutter-y-sm"},gp={__name:"PromptPassphraseDialog",emits:[...pe.emits],setup(t){const e=F(""),l=F(!1),{dialogRef:r,onDialogHide:n,onDialogOK:i,onDialogCancel:c}=pe(),u=()=>{i({passphrase:e.value})},_=F(null),d=()=>{_.value&&_.value.focus()};return(m,p)=>(f(),b(He,{ref_key:"dialogRef",ref:r,persistent:"",onHide:o(n),onShow:d},{default:s(()=>[a(A,{class:"q-dialog-plugin"},{default:s(()=>[a(N,null,{default:s(()=>[y("div",bp,[p[2]||(p[2]=y("div",{class:"text-h6"},"Unlock wallet",-1)),a(B,{ref_key:"inputRef",ref:_,modelValue:o(e),"onUpdate:modelValue":p[1]||(p[1]=h=>z(e)?e.value=h:null),hint:m.$t("wallet_common.enter_passphrase"),outlined:"",type:o(l)?"text":"password",autocomplete:"new-password",onKeyup:El(u,["enter"])},{append:s(()=>[a($e,{name:o(l)?o(Ql):o(Kl),class:"cursor-pointer",onClick:p[0]||(p[0]=h=>l.value=!o(l))},null,8,["name"])]),_:1},8,["modelValue","hint","type"])])]),_:1}),a(nl,{align:"right"},{default:s(()=>[a(j,{label:"Cancel",flat:"",onClick:o(c)},null,8,["onClick"]),a(j,{label:"Unlock",flat:"",icon:o(Bl),onClick:u},null,8,["icon"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},vp=Object.freeze(Object.defineProperty({__proto__:null,default:gp},Symbol.toStringTag,{value:"Module"})),wp={class:"q-gutter-y-sm"},xp={class:"row justify-end q-col-gutter-sm"},kp={class:"row justify-end q-col-gutter-sm"},Sp={class:"row"},$p={class:"col"},qp={class:"col-11"},Tp={class:"row justify-end q-gutter-x-sm"},Vp={__name:"OfferDepositDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await V(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=F(null),m=I({..._}),p=v(()=>({index:e.index,amount:m.amount,currency:e.offer.bid_currency,dst_addr:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:S}=Re(d,w),{data:T,isLoading:k,latestError:C}=co(p,S),q=lo(),V=async()=>{const Q=await h(),ae={...p.value,options:{...p.value.options,passphrase:Q}};await q.mutateAsync(ae)},{data:H}=je(I({index:P(()=>e.index),currency:P(()=>e.offer.bid_currency)}),Q=>Q?Q.spendable:0),K=Q=>Q<=H.value||"Insufficient funds";return(Q,ae)=>{const me=Ce,Z=De,ee=Ve,oe=Ee,M=Pe,ie=Te;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(ie,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,g(Q.$t("account_offers.deposit_to"))+" "+g(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:s(()=>[y("div",wp,[y("div",xp,[a(B,{"model-value":o(H),label:Q.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(m).amount,"onUpdate:modelValue":ae[0]||(ae[0]=ke=>o(m).amount=ke),modelModifiers:{number:!0},label:Q.$t("common.amount"),"input-class":"amount-input",suffix:t.offer.bid_symbol,rules:[o(J).required,o(J).amount,K],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",kp,[a(me,{modelValue:o(m).feeRatio,"onUpdate:modelValue":ae[1]||(ae[1]=ke=>o(m).feeRatio=ke),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(Z,{modelValue:o(T),"onUpdate:modelValue":ae[2]||(ae[2]=ke=>z(T)?T.value=ke:null),loading:o(k),error:o(C),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,null,{default:s(()=>[y("div",Sp,[y("div",$p,[a(ee)]),y("div",qp,[y("div",Tp,[a(oe),a(M,{label:Q.$t("account_offers.deposit")},null,8,["label"]),a(j,{label:Q.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Cp=Object.freeze(Object.defineProperty({__proto__:null,default:Vp},Symbol.toStringTag,{value:"Module"})),Rp={class:"q-gutter-y-sm"},Lp={class:"row justify-end q-col-gutter-sm"},Fp={class:"row justify-end q-col-gutter-sm"},Op={class:"row"},Ip={class:"col"},Ap={class:"col-11"},Pp={class:"row justify-end q-gutter-x-sm"},Ep={__name:"OfferWithdrawDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await V(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={feeRatio:null},d=F(null),m=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:S}=Re(d,w),{data:T,isLoading:k,latestError:C}=Hn(p,S),q=jn(),V=async()=>{const H=await h(),K={...p.value,options:{...p.value.options,passphrase:H}};await q.mutateAsync(K)};return(H,K)=>{const Q=Ce,ae=De,me=Ve,Z=Ee,ee=Pe,oe=Te;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(oe,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Withdraw from "+g(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:s(()=>[y("div",Rp,[y("div",Lp,[a(B,{"model-value":t.offer.ask_balance_value,label:"Withdraw amount","input-class":"amount-input",suffix:t.offer.ask_symbol,rules:[o(J).required,o(J).amount],readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix","rules"])]),y("div",Fp,[a(Q,{modelValue:o(m).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=M=>o(m).feeRatio=M),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(T),"onUpdate:modelValue":K[1]||(K[1]=M=>z(T)?T.value=M:null),loading:o(k),error:o(C),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,null,{default:s(()=>[y("div",Op,[y("div",Ip,[a(me)]),y("div",Ap,[y("div",Pp,[a(Z),a(ee,{label:"Withdraw"}),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Dp=Object.freeze(Object.defineProperty({__proto__:null,default:Ep},Symbol.toStringTag,{value:"Module"})),jp=t=>{let e=BigInt(t).toString(16);return e.length%2&&(e="0"+e),"0x"+e},Wp={class:"q-gutter-y-sm"},Mp={class:"row justify-end q-col-gutter-sm"},Bp={class:"row justify-end q-col-gutter-sm"},Np={class:"row justify-end q-col-gutter-sm"},Up={class:"row"},Kp={class:"col"},Qp={class:"col-11"},zp={class:"row justify-end q-gutter-x-sm"},Hp={__name:"OfferUpdateDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await H(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=F(null),m=I({..._}),p=v(()=>m.amount*Math.pow(2,64)*Math.pow(10,e.offer.bid_decimals-e.offer.ask_decimals)),h=v(()=>({index:e.index,address:e.offer.address,method:"set_price",args:[jp(p.value??0)],options:{user:e.offer.owner,fee_ratio:m.feeRatio}})),{promptPassphrase:w,isLocked:S}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:T}=Re(d,S),{data:k,isLoading:C,latestError:q}=Qn(h,T),V=En(),H=async()=>{const K=await w(),Q={...h.value,options:{...h.value.options,passphrase:K}};await V.mutateAsync(Q)};return(K,Q)=>{const ae=Ce,me=De,Z=Ve,ee=Ee,oe=Pe,M=Te;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(M,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null," Update "+g(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:s(()=>[y("div",Wp,[y("div",Mp,[a(B,{"model-value":parseFloat((1/t.offer.display_price).toPrecision(6)),label:"Current Price","input-class":"amount-input",suffix:t.offer.bid_symbol+" / "+t.offer.ask_symbol,rules:[o(J).required,o(J).amount],readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix","rules"])]),y("div",Bp,[a(B,{modelValue:o(m).amount,"onUpdate:modelValue":Q[0]||(Q[0]=ie=>o(m).amount=ie),modelModifiers:{number:!0},label:"New Price","input-class":"amount-input",suffix:t.offer.bid_symbol+" / "+t.offer.ask_symbol,rules:[o(J).required,o(J).amount],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","suffix","rules"])]),y("div",Np,[a(ae,{modelValue:o(m).feeRatio,"onUpdate:modelValue":Q[1]||(Q[1]=ie=>o(m).feeRatio=ie),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(k),"onUpdate:modelValue":Q[2]||(Q[2]=ie=>z(k)?k.value=ie:null),loading:o(C),error:o(q),locked:o(S),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,null,{default:s(()=>[y("div",Up,[y("div",Kp,[a(Z)]),y("div",Qp,[y("div",zp,[a(ee),a(oe,{label:"Update"}),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Xp=Object.freeze(Object.defineProperty({__proto__:null,default:Hp},Symbol.toStringTag,{value:"Module"})),Gp={class:"q-gutter-y-sm"},Jp={class:"row justify-end q-col-gutter-sm"},Yp={class:"row"},Zp={class:"col"},ef={class:"col-11"},tf={class:"row justify-end q-gutter-x-sm"},lf={__name:"OfferCancelDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await V(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={feeRatio:null},d=F(null),m=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:S}=Re(d,w),{data:T,isLoading:k,latestError:C}=Xn(p,S),q=Wn(),V=async()=>{const H=await h(),K={...p.value,options:{...p.value.options,passphrase:H}};await q.mutateAsync(K)};return(H,K)=>{const Q=Ce,ae=De,me=Ve,Z=Ee,ee=Pe,oe=Te;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(oe,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,g(H.$t("account_offers.revoke"))+" — "+g(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:s(()=>[y("div",Gp,[y("div",Jp,[a(Q,{modelValue:o(m).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=M=>o(m).feeRatio=M),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(T),"onUpdate:modelValue":K[1]||(K[1]=M=>z(T)?T.value=M:null),loading:o(k),error:o(C),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:s(()=>[y("div",Yp,[y("div",Zp,[a(me)]),y("div",ef,[y("div",tf,[a(Z),a(ee,{label:H.$t("account_offers.revoke")},null,8,["label"]),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},of=Object.freeze(Object.defineProperty({__proto__:null,default:lf},Symbol.toStringTag,{value:"Module"})),af={class:"q-gutter-y-sm"},nf={__name:"ShowSeedDialog",props:{seed:{type:String,required:!0},withPassphrase:{type:Boolean,required:!1,default:!1},fingerPrint:{type:String,required:!1,default:null}},emits:[...pe.emits],setup(t){const{dialogRef:e,onDialogHide:l,onDialogOK:r}=pe();return(n,i)=>{const c=Ro;return f(),b(He,{ref_key:"dialogRef",ref:e,persistent:"",onHide:o(l)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(N,null,{default:s(()=>[y("div",af,[a(c,{"model-value":t.seed,readonly:""},null,8,["model-value"]),t.withPassphrase?(f(),b(B,{key:0,"model-value":t.fingerPrint,label:"Fingerprint (needed to verify passphrase)","input-class":"text-bold",readonly:""},null,8,["model-value"])):E("",!0)])]),_:1}),a(nl,{align:"right"},{default:s(()=>[a(o(ll),null,{default:s(({copy:u,copied:_})=>[a(j,{label:"Copy",flat:"",icon:o(rl),onClick:d=>u(t.seed)},{default:s(()=>[a(ze,{"model-value":_===!0,"no-parent-event":""},{default:s(()=>i[0]||(i[0]=[$("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon","onClick"])]),_:1}),a(j,{label:"Ok",flat:"",onClick:o(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}}},sf=Object.freeze(Object.defineProperty({__proto__:null,default:nf},Symbol.toStringTag,{value:"Module"})),rf={class:"q-gutter-y-sm"},uf={class:"row justify-end q-col-gutter-sm"},df={class:"row justify-end q-col-gutter-sm"},cf={class:"row justify-end q-col-gutter-sm"},mf={class:"row"},_f={class:"col"},pf={class:"col-11"},ff={class:"row justify-end q-gutter-x-sm"},yf={__name:"OfferTradeDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await me(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=F(null),m=I({..._}),{promptPassphrase:p,isLocked:h}=xe(I({index:P(()=>e.index)})),{isValidConfirmed:w,isValidConfirmedUnlocked:S}=Re(d,h),{data:T}=rr(I({id:P(()=>e.offer.address),amount:v(()=>m.amount||0)})),k=v(()=>T.value?.trade.value??null),C=v(()=>T.value?.next_input.value??null),q=()=>{m.amount=parseFloat(C.value)},V=v(()=>({index:e.index,address:e.offer.address,amount:m.amount,price:T.value?.inv_price??e.offer.inv_price,options:{fee_ratio:m.feeRatio}})),{data:H,isLoading:K,latestError:Q}=Gn(V,S),ae=Mn(),me=async()=>{const M=await p(),ie={...V.value,options:{...V.value.options,passphrase:M}};await ae.mutateAsync(ie)},{data:Z}=je(I({index:P(()=>e.index),currency:P(()=>e.offer.ask_currency)}),M=>M?M.spendable:0),ee=M=>M<=Z.value||"Insufficient funds",oe=v(()=>{const M=T.value?parseFloat(T.value.trade.amount):0;return w.value&&m.amount>0&&m.amount<=Z.value&&M>0&&M<=e.offer.bid_balance});return(M,ie)=>{const ke=Ce,ft=De,yt=Ve,ht=Ee,ye=Pe,zt=Te;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(zt,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Trade — "+g(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:s(()=>[y("div",rf,[y("div",uf,[a(B,{"model-value":o(Z),label:M.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(m).amount,"onUpdate:modelValue":ie[0]||(ie[0]=Je=>o(m).amount=Je),modelModifiers:{number:!0},debounce:200,label:M.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,rules:[o(J).required,o(J).amount,ee],class:"col-md-4 col-sm-5 col-xs-6"},{append:s(()=>[a(j,{icon:o(nn),color:"secondary",round:"",outline:"",dense:"",onClick:q},{default:s(()=>[a(ze,null,{default:s(()=>[$(g(M.$t("market_offers.increase")),1)]),_:1})]),_:1},8,["icon"])]),_:1},8,["modelValue","label","suffix","rules"])]),y("div",df,[a(B,{"model-value":t.offer.bid_balance_value,label:"They Offer","input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix"]),a(B,{"model-value":o(k),label:M.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",cf,[a(ke,{modelValue:o(m).feeRatio,"onUpdate:modelValue":ie[1]||(ie[1]=Je=>o(m).feeRatio=Je),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ft,{modelValue:o(H),"onUpdate:modelValue":ie[2]||(ie[2]=Je=>z(H)?H.value=Je:null),loading:o(K),error:o(Q),locked:o(h),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,null,{default:s(()=>[y("div",mf,[y("div",_f,[a(yt)]),y("div",pf,[y("div",ff,[a(ht),a(ye,{label:M.$t("market_offers.trade"),disable:!o(oe)},null,8,["label","disable"]),a(j,{label:M.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},hf=Object.freeze(Object.defineProperty({__proto__:null,default:yf},Symbol.toStringTag,{value:"Module"})),bf={class:"q-gutter-y-sm"},gf={class:"row justify-end q-col-gutter-sm"},vf={class:"row justify-end q-col-gutter-sm"},wf={class:"row justify-end q-col-gutter-sm"},xf={class:"row"},kf={class:"col"},Sf={class:"col-11"},$f={class:"row justify-end q-gutter-x-sm"},qf={__name:"OfferAcceptDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await V(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=F(null),m=I({..._}),p=v(()=>({index:e.index,address:e.offer.address,price:e.offer.inv_price,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:P(()=>e.index)})),{isValidConfirmedUnlocked:S}=Re(d,w),{data:T,isLoading:k,latestError:C}=Jn(p,S),q=Bn(),V=async()=>{const K=await h(),Q={...p.value,options:{...p.value.options,passphrase:K}};await q.mutateAsync(Q)},{data:H}=je(I({index:P(()=>e.index),currency:P(()=>e.offer.ask_currency)}),K=>K?K.spendable:0);return(K,Q)=>{const ae=Ce,me=De,Z=Ve,ee=Ee,oe=Pe,M=Te;return f(),b(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(A,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(M,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Accept — "+g(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:s(()=>[y("div",bf,[y("div",gf,[a(B,{"model-value":o(H),label:K.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{"model-value":t.offer.ask_value,label:K.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",vf,[a(B,{"model-value":t.offer.bid_balance_value,label:K.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",wf,[a(ae,{modelValue:o(m).feeRatio,"onUpdate:modelValue":Q[0]||(Q[0]=ie=>o(m).feeRatio=ie),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(T),"onUpdate:modelValue":Q[1]||(Q[1]=ie=>z(T)?T.value=ie:null),loading:o(k),error:o(C),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:s(()=>[y("div",xf,[y("div",kf,[a(Z)]),y("div",Sf,[y("div",$f,[a(ee),a(oe,{label:K.$t("market_offers.accept")},null,8,["label"]),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Tf=Object.freeze(Object.defineProperty({__proto__:null,default:qf},Symbol.toStringTag,{value:"Module"}));
