import{f as Wo,D as Mo,N as mt,j as Bo,k as Fe,P as yl,l as Ze,m as Ft,c as v,r as L,w as Se,p as G,q as J,v as No,x as Uo,y as Ko,z as hl,Q as Qo,V as zo,A as Ho,B as Xo,a as _e,C as et,E as xt,F as g,G as p,H as s,I as kt,J as it,u as o,K as le,L as a,T as Go,M as E,n as Jo,O as x,R as Yo,S as D,U as Zo,W as B,X as se,Y as b,Z as Ot,_ as y,$ as P,a0 as W,a1 as re,a2 as I,a3 as Qe,a4 as tt,a5 as lt,a6 as ue,a7 as O,a8 as Zt,a9 as q,aa as ea,e as z,ab as te,ac as j,ad as A,ae as $e,af as ta,ag as la,ah as el,ai as ze,aj as Ol,ak as Il,al as Ue,am as oa,an as tl,ao as It,ap as St,aq as Ie,ar as be,as as ot,at as N,au as Ke,av as aa,aw as At,o as na,ax as ll,ay as sa,i as Al,t as ut,az as ra,aA as Ct,aB as ia,aC as Gt,aD as Pt,aE as Et,aF as gt,aG as bt,aH as Jt,aI as Pl,aJ as We,aK as El,aL as ua,aM as ol,aN as at,aO as da,aP as ca,aQ as ma,aR as _a,aS as pa,aT as fa,aU as ya,aV as ha,aW as ga,aX as ba,aY as pe,aZ as He}from"./quasar-i9XAHRn6.js";import{d as al,a as Dl,k as Me,g as va,c as wa,H as jl,j as xa,b as ka,m as nl,e as Wl,f as Ml,h as Bl,i as Sa,l as Nl,n as Ul,o as Kl,p as $a,q as qa,r as Ta,s as Va,t as Ca,u as Ql,v as zl,w as Ra,x as gl,y as La,z as Fa,A as Oa,B as Ia,C as Aa,D as Pa,E as Ea,F as Da,G as ja,I as Wa,J as Dt,K as sl,L as Ma,M as Ba,N as Na,O as Ua,P as Ka,Q as Qa,R as za,S as Ha,T as Xa,U as Ga,V as Ja,W as Ya,X as Za,Y as en,Z as tn,_ as ln,$ as on,a0 as an}from"./modules-BIv2o4Gj.js";import{E as nn,u as sn,i as rn,a as un,b as dn,c as cn,d as mn}from"./echarts-C3aO_6MT.js";import{b as _n,w as pn}from"./@scure-DkhtbgrZ.js";import Yt from"./locales/common.json-CitLrNoC.js";import Hl from"./locales/en-US.json-CoFvze62.js";import fn from"./locales/quasar/en-US.js-CST473Od.js";const yn={config:{dark:!0},plugins:{Notify:mt,Dialog:Mo},iconSet:Wo},hn="modulepreload",gn=function(t,e){return new URL(t,e).href},bl={},R=function(e,l,r){let n=Promise.resolve();if(l&&l.length>0){const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),_=u?.nonce||u?.getAttribute("nonce");n=Promise.allSettled(l.map(d=>{if(d=gn(d,r),d in bl)return;bl[d]=!0;const m=d.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(r)for(let w=c.length-1;w>=0;w--){const k=c[w];if(k.href===d&&(!m||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${f}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":hn,m||(h.as="script"),h.crossOrigin="",h.href=d,_&&h.setAttribute("nonce",_),document.head.appendChild(h),m)return new Promise((w,k)=>{h.addEventListener("load",w),h.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},bn=[{path:"/node",component:()=>R(()=>Promise.resolve().then(()=>ti),void 0,import.meta.url),meta:{title:"Node"},children:[{path:"",redirect:"/node/log"},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>ii),void 0,import.meta.url)},{path:"peers",component:()=>R(()=>Promise.resolve().then(()=>Mi),void 0,import.meta.url),meta:{title:"Peers"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>qo),void 0,import.meta.url),props:{limit:20},meta:{title:"Blocks"}},{path:"netspace",component:()=>R(()=>Promise.resolve().then(()=>Ki),void 0,import.meta.url),meta:{title:"Netspace"}},{path:"vdf_speed",component:()=>R(()=>Promise.resolve().then(()=>zi),void 0,import.meta.url),meta:{title:"VDF Speed"},alias:[]},{path:"reward",component:()=>R(()=>Promise.resolve().then(()=>Xi),void 0,import.meta.url),meta:{title:"Block Reward"},alias:[]}]}],vn=[{path:"/wallet",component:()=>R(()=>Promise.resolve().then(()=>Ji),void 0,import.meta.url),children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>du),void 0,import.meta.url),meta:{title:"Wallets"}},{path:"create",component:()=>R(()=>Promise.resolve().then(()=>Su),void 0,import.meta.url),meta:{title:"Create wallet"}},{path:"account/:index",component:()=>R(()=>Promise.resolve().then(()=>su),void 0,import.meta.url),props:t=>({index:parseInt(t.params.index)}),meta:{title:t=>`Wallet #${t.params.index}`},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>Lu),void 0,import.meta.url),meta:{title:"Balance"}},{path:"nfts",component:()=>R(()=>Promise.resolve().then(()=>Iu),void 0,import.meta.url),meta:{title:"NFTs"}},{path:"contracts",component:()=>R(()=>Promise.resolve().then(()=>Xu),void 0,import.meta.url),meta:{title:"Contracts"}},{path:"send/:target?",component:()=>R(()=>Promise.resolve().then(()=>Cl),void 0,import.meta.url),props:t=>({target:t.params.target}),meta:{title:"Send"}},{path:"send_from/:source?",component:()=>R(()=>Promise.resolve().then(()=>Cl),void 0,import.meta.url),props:t=>({source:t.params.source}),meta:{title:"Send"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>hd),void 0,import.meta.url),meta:{title:"History"}},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>vd),void 0,import.meta.url),meta:{title:"Log"}},{path:"offer",component:()=>R(()=>Promise.resolve().then(()=>Ad),void 0,import.meta.url),meta:{title:"Offer"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>Dd),void 0,import.meta.url),meta:{title:"Liquidity"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>Zd),void 0,import.meta.url),meta:{title:"Plot NFTs"}},{path:"details",component:()=>R(()=>Promise.resolve().then(()=>lc),void 0,import.meta.url),meta:{title:"Info"}},{path:"options",component:()=>R(()=>Promise.resolve().then(()=>rc),void 0,import.meta.url),meta:{title:"Options"}}]}]}],wn=[{path:"/farmer",component:()=>R(()=>Promise.resolve().then(()=>_c),void 0,import.meta.url),meta:{title:"Farmer"},children:[{path:"",redirect:"/farmer/plots"},{path:"plots",component:()=>R(()=>Promise.resolve().then(()=>vc),void 0,import.meta.url),meta:{title:"Plots"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>$c),void 0,import.meta.url),meta:{title:"PlotNFTs"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>Vc),void 0,import.meta.url),meta:{title:"Blocks"}},{path:"proofs",component:()=>R(()=>Promise.resolve().then(()=>Lc),void 0,import.meta.url),meta:{title:"Proofs"}}]}],Xl=(t,e,l)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},rl=[{value:"en-US",label:"English"},{value:"id",label:"Bahasa Indonesia"},{value:"de",label:"Deutsch"},{value:"es",label:"Español"},{value:"nl",label:"Nederlands"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"uk",label:"Українська"},{value:"zh-CN",label:"简体中文"}],dt=rl[0].value,xn=Object.assign({"/node_modules/quasar/lang/de.js":()=>R(()=>import("./locales/quasar/de.js-CZhuRTys.js"),[],import.meta.url),"/node_modules/quasar/lang/en-US.js":()=>R(()=>import("./locales/quasar/en-US.js-CST473Od.js"),[],import.meta.url),"/node_modules/quasar/lang/es.js":()=>R(()=>import("./locales/quasar/es.js-DWRJyQUs.js"),[],import.meta.url),"/node_modules/quasar/lang/id.js":()=>R(()=>import("./locales/quasar/id.js-B2dhsrB2.js"),[],import.meta.url),"/node_modules/quasar/lang/nl.js":()=>R(()=>import("./locales/quasar/nl.js-oLrlFdwi.js"),[],import.meta.url),"/node_modules/quasar/lang/pt.js":()=>R(()=>import("./locales/quasar/pt.js-SSfO1hmc.js"),[],import.meta.url),"/node_modules/quasar/lang/ru.js":()=>R(()=>import("./locales/quasar/ru.js-Decg_Iy9.js"),[],import.meta.url),"/node_modules/quasar/lang/uk.js":()=>R(()=>import("./locales/quasar/uk.js-CVvo68qz.js"),[],import.meta.url),"/node_modules/quasar/lang/zh-CN.js":()=>R(()=>import("./locales/quasar/zh-CN.js-DnRfOlZ3.js"),[],import.meta.url)}),vl=(t,e)=>{t.mode==="legacy"?t.global.locale=e:t.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)},kn=async(t,e)=>{const l=Fe(Sn(e));try{xn[`/node_modules/quasar/lang/${l}.js`]().then(r=>{yl.set(r.default)})}catch(r){console.error(r),yl.set(fn.default)}try{const r=await Xl(Object.assign({"../locales/common.json":()=>R(()=>import("./locales/common.json-CitLrNoC.js"),[],import.meta.url),"../locales/de.json":()=>R(()=>import("./locales/de.json-DZFMEMgc.js"),[],import.meta.url),"../locales/en-US.json":()=>R(()=>import("./locales/en-US.json-CoFvze62.js"),[],import.meta.url),"../locales/es.json":()=>R(()=>import("./locales/es.json-BcfQJ0qc.js"),[],import.meta.url),"../locales/id.json":()=>R(()=>import("./locales/id.json-CeuACP36.js"),[],import.meta.url),"../locales/nl.json":()=>R(()=>import("./locales/nl.json-Bi-8Tzxt.js"),[],import.meta.url),"../locales/pt.json":()=>R(()=>import("./locales/pt.json-kipSuZeO.js"),[],import.meta.url),"../locales/ru.json":()=>R(()=>import("./locales/ru.json-Cb8Yls3y.js"),[],import.meta.url),"../locales/uk.json":()=>R(()=>import("./locales/uk.json-EfLfMENI.js"),[],import.meta.url),"../locales/zh-CN.json":()=>R(()=>import("./locales/zh-CN.json-BcF6vE_W.js"),[],import.meta.url)}),`../locales/${l}.json`,3);t.global.setLocaleMessage(l,wt({},Yt,r)),vl(t,l)}catch{t.global.setLocaleMessage(dt,wt({},Yt,Hl)),vl(t,dt)}},Sn=t=>rl.some(e=>e.value==Fe(t))?t:dt,zt=t=>t&&typeof t=="object"&&!Array.isArray(t),wt=(t,...e)=>{if(!e.length)return t;const l=e.shift();if(zt(t)&&zt(l))for(const r in l)zt(l[r])?(t[r]||Object.assign(t,{[r]:{}}),wt(t[r],l[r])):Object.assign(t,{[r]:l[r]});return wt(t,...e)},nt=Bo({globalInjection:!0,legacy:!1,locale:dt,fallbackLocale:dt,messages:{"en-US":wt({},Yt,Hl)}}),wl=t=>t==null||typeof t=="string"&&t.trim().length===0,xl=typeof window.mmx<"u",kl=typeof window.mmx_qtgui<"u",we=al("app",{state:()=>({isDarkTheme:Ze("isDarkTheme",!0),locale:Ze("locale",dt),_wapiBaseUrl:Ze("wapiBaseUrl",null)}),getters:{isWinGUI:()=>xl,isQtGUI:()=>kl,isGUI:()=>xl||kl,wapiBaseUrl:t=>typeof __WAPI_URL__<"u"?__WAPI_URL__:null}});Dl.defaults.paramsSerializer=t=>{let e="";return Object.keys(t).forEach(l=>{t[l]===void 0||t[l]===null||(e+=`${l}=${encodeURIComponent(t[l])}&`)}),e.substring(0,e.length-1)};const C=Dl.create();C.interceptors.request.use(t=>{if(t.url.startsWith("/wapi/")){const e=we();t.baseURL=e.wapiBaseUrl??"/wapi/",t.url=t.url.replace("/wapi/","/")}return t},t=>Promise.reject(t));const U=(...t)=>{const e=Ft(...t),l=v(()=>e.isLoading.value||e.isLoadingError.value),r=v(()=>!l.value&&e.data.value||[]),n=L(!1),i=L(null);Se([e.isError,e.data,e.error],([d,m,f],[h,w,k])=>{h&&(n.value=!0,i.value=k?.request?.response||k.message),m&&!e.isPlaceholderData.value&&(n.value=!1,i.value=null)});const c=v(()=>!e.data.value&&!e.isPending.value||n.value),u=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?i.value:e.error.value?.request?.response||e.error.value?.message),_=v(()=>e.isFetching.value&&e.errorUpdateCount.value>0?n.value:e.isError);return{...e,loading:l,rows:r,noData:c,latestError:u,isLatestError:_}},st=1e3,{t:Gl}=nt.global,$n={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},qn={"Content-Type":"application/json"},jt=t=>{var e=t.value!=null?t.value:"null";mt.create({caption:t.restart?Gl("node_settings.restart_needed"):"",message:`Set '${t.key}' to '${e}'`,type:"positive",group:!1,classes:t.restart?"restart-needed":""})},qe=t=>{mt.create({type:"positive",group:!1,...t})},Tn=t=>{mt.create({type:"negative",group:!1,...t})},ne=t=>{const e=t.response?.data||t.message;mt.create({message:e,type:"negative"})},Ht=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},l=/[&<>"'/]/gi;return t.replace(l,r=>e[r])},Vn=(t,e,l,r)=>{const n=Ht(t),i=Ht(e),c=Ht(l);mt.create({type:"positive",group:!1,...r,message:`${n} <a class="text-primary" href="${i}">${c}</a>`,html:!0})},ge=(t,e)=>{const l=pt.resolve({name:"transaction",params:{transactionId:t}});Vn(Gl("common.transaction_has_been_sent"),l.href,t,e)},Cn=t=>({...Fe(t),options:{...Fe(t).options,auto_send:!1}}),Rn=t=>t?parseFloat(t.toFixed(6)):null,Ln=(t,e)=>e.value?Rn(t?.exec_result?.total_fee_value):null,Xe=(t,e,l,r)=>U({queryKey:["wallet","fee",t,e,l],queryFn:({signal:n})=>r(Cn(e),n),select:n=>Ln(n,l),enabled:l,staleTime:0,gcTime:0}),Jl=al("node",{state:()=>({height:null})}),Yl=t=>C.get("/wapi/node/info",{signal:t}).then(e=>e.data),il=t=>{const e=U({queryKey:["node_info"],queryFn:({signal:n})=>Yl(n),refetchInterval:1.1*st,enabled:!0}),l=Jl(),r=G();return Se(e.data,n=>{if(!n)return;const i=n.height;if(l.height!=i){console.log(`⛰️ New height: ${i}`);const c=l.height;l.height=i,r.invalidateQueries({queryKey:["node"]},{cancelRefetch:!1}),r.invalidateQueries({queryKey:["node_log"]},{cancelRefetch:!1}),r.invalidateQueries({queryKey:["block",{height:c}]}),r.invalidateQueries({queryKey:["block",{height:i-1}]}),r.invalidateQueries({queryKey:["block",{height:i}]}),r.invalidateQueries({queryKey:["transaction"]}),r.invalidateQueries({queryKey:["wallet"]}),r.invalidateQueries({queryKey:["market"]}),r.invalidateQueries({queryKey:["swap"]}),r.invalidateQueries({queryKey:["farm","info"]},{cancelRefetch:!1}),i%3==0&&r.invalidateQueries({queryKey:["farm","blocks"]},{cancelRefetch:!1})}}),e},Fn=()=>{il();const t=G();return J({mutationFn:()=>Yl(),onSuccess:e=>{t.setQueryData(["node_info"],e)}})},On=(t,e)=>C.get("/wapi/node/log",{params:t,signal:e}).then(l=>l.data),In=t=>U({queryKey:["node_log",t],queryFn:({signal:e})=>On(t,e),placeholderData:Me,refetchInterval:2*st}),An=(t,e)=>C.get("/wapi/node/graph/blocks",{params:t,signal:e}).then(l=>l.data),ul=(t,e)=>U({queryKey:["node","graph/blocks",t],queryFn:({signal:l})=>An(t,l),select:e}),{t:Af}=nt.global,Pn=t=>C.post("/wapi/passphrase/validate",t).then(e=>e.data),En=()=>J({mutationFn:t=>Pn(t),onError:t=>{Tn({message:"Wrong passphrase!"})}}),Zl=t=>C.post("/wapi/wallet/send",t).then(e=>e.data),eo=()=>{const t=G();return J({mutationFn:e=>Zl(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},to=t=>C.post("/wapi/wallet/execute",t).then(e=>e.data),Dn=()=>{const t=G();return J({mutationFn:e=>to(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},lo=t=>C.post("/wapi/wallet/make_offer",t).then(e=>e.data),jn=()=>{const t=G();return J({mutationFn:e=>lo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},oo=t=>C.post("/wapi/wallet/offer_withdraw",t).then(e=>e.data),Wn=()=>{const t=G();return J({mutationFn:e=>oo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ao=t=>C.post("/wapi/wallet/cancel_offer",t).then(e=>e.data),Mn=()=>{const t=G();return J({mutationFn:e=>ao(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},no=t=>C.post("/wapi/wallet/offer_trade",t).then(e=>e.data),Bn=()=>{const t=G();return J({mutationFn:e=>no(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},so=t=>C.post("/wapi/wallet/accept_offer",t).then(e=>e.data),Nn=()=>{const t=G();return J({mutationFn:e=>so(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ro=t=>C.post("/wapi/wallet/swap/trade",t).then(e=>e.data),Un=()=>{const t=G();return J({mutationFn:e=>ro(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},Kn=t=>C.post("/api/wallet/plotnft_create",t).then(e=>e.data),Qn=()=>{const t=G();return J({mutationFn:e=>Kn(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Created new PlotNFT: "+l.name})},onError:ne})},io=(t,e)=>Xe("send",t,e,Zl),zn=(t,e)=>Xe("execute",t,e,to),Hn=(t,e)=>Xe("offer",t,e,lo),Xn=(t,e)=>Xe("offer_withdraw",t,e,oo),Gn=(t,e)=>Xe("cancel_offer",t,e,ao),Jn=(t,e)=>Xe("offer_trade",t,e,no),Yn=(t,e)=>Xe("accept_offer",t,e,so),Zn=(t,e)=>Xe("swap/trade",t,e,ro),es=t=>C.post("/wapi/wallet/swap/payout",t).then(e=>e.data),ts=()=>{const t=G();return J({mutationFn:e=>es(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ls=t=>C.post("/wapi/wallet/swap/switch_pool",t).then(e=>e.data),os=()=>{const t=G();return J({mutationFn:e=>ls(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},as=t=>C.post("/wapi/wallet/swap/add_liquid",t).then(e=>e.data),ns=()=>{const t=G();return J({mutationFn:e=>as(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ss=t=>C.post("/wapi/wallet/swap/rem_liquid",t).then(e=>e.data),rs=()=>{const t=G();return J({mutationFn:e=>ss(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},is=t=>C.post("/wapi/wallet/swap/rem_all_liquid",t).then(e=>e.data),us=()=>{const t=G();return J({mutationFn:e=>is(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),ge(e.id)},onError:ne})},ds=(t,e)=>C.get("/wapi/wallet/seed",{params:t,signal:e}).then(l=>l.data),cs=()=>J({mutationFn:t=>ds(t),onError:ne}),ms=t=>C.get("/wapi/wallet/accounts",{signal:t}).then(e=>e.data),uo=()=>{const t=G();return U({queryKey:["accounts"],queryFn:async({signal:e})=>{const l=await ms(e);return l?.forEach(r=>{t.setQueryData(["accounts","account",{index:r.account}],r)}),l},gcTime:1/0})},_s=(t,e)=>C.get("/wapi/wallet/account",{params:t,signal:e}).then(l=>l.data),$t=(t,e)=>{const l=G();return U({queryKey:["accounts","account",t],queryFn:({signal:n})=>_s(t,n),enabled:()=>{const i=l.getQueryCache().find({queryKey:["accounts"]});return i&&i.observers.length==0},select:e,gcTime:1/0})},ps=(t,e)=>C.get("/wapi/wallet/keys",{params:t,signal:e}).then(l=>l.data),fs=t=>U({queryKey:["wallet","keys",t],queryFn:({signal:e})=>ps(t,e)}),ys=(t,e)=>C.get("/wapi/wallet/address",{params:t,signal:e}).then(l=>l.data),dl=t=>U({queryKey:["wallet","address",t],queryFn:({signal:e})=>ys(t,e)}),hs=(t,e)=>C.get("/wapi/wallet/balance",{params:t,signal:e}).then(l=>l.data),je=(t,e,l)=>U({queryKey:["wallet","balance",t],queryFn:({signal:r})=>hs(t,r),select:r=>e?e(r):r,placeholderData:Me,enabled:l}),gs=(t,e)=>C.get("/wapi/wallet/history",{params:t,signal:e}).then(l=>l.data),bs=(t,e)=>U({queryKey:["wallet","history",t],queryFn:({signal:l})=>gs(t,l),placeholderData:Me,select:l=>l}),vs=t=>C.get("/wapi/wallet/tokens",{signal:t}).then(e=>e.data),_t=()=>U({queryKey:["walletCfg","tokens"],queryFn:({signal:t})=>vs(t)}),ws=(t,e)=>C.get("/wapi/wallet/tx_history",{params:t,signal:e}).then(l=>l.data),xs=t=>U({queryKey:["wallet","tx_history",t],queryFn:({signal:e})=>ws(t,e)}),ks=(t,e)=>C.get("/wapi/wallet/contracts",{params:t,signal:e}).then(l=>l.data),co=(t,e)=>U({queryKey:["wallet","contracts",t],queryFn:({signal:l})=>ks(t,l),enabled:e??!0}),Ss=(t,e)=>C.get("/wapi/plotnft",{params:t,signal:e}).then(l=>l.data),$s=t=>U({queryKey:["plotnft",t],queryFn:({signal:e})=>Ss(t,e)}),qs=(t,e)=>C.get("/wapi/wallet/offers",{params:t,signal:e}).then(l=>l.data),mo=t=>U({queryKey:["wallet","offers",t],queryFn:({signal:e})=>qs(t,e),select:e=>e.sort((l,r)=>r.height-l.height),placeholderData:Me}),Ts=(t,e)=>C.get("/wapi/wallet/swap/liquid",{params:t,signal:e}).then(l=>l.data),Vs=t=>U({queryKey:["wallet","swap","liquid",t],queryFn:({signal:e})=>Ts(t,e)}),Cs=t=>C.get("/wapi/farm/info",{signal:t}).then(e=>e.data),qt=t=>U({queryKey:["farm","info"],queryFn:({signal:e})=>Cs(e),select:e=>t?t(e):e}),Rs=(t,e)=>C.get("/wapi/farm/blocks/summary",{params:t,signal:e}).then(l=>l.data),_o=t=>U({queryKey:["farm","blocks","summary",t],queryFn:({signal:e})=>Rs(t,e)}),Ls=(t,e)=>C.get("/wapi/farm/blocks",{params:t,signal:e}).then(l=>l.data),Fs=t=>U({queryKey:["farm","blocks",t],queryFn:({signal:e})=>Ls(t,e)}),Os=(t,e)=>C.get("/wapi/farm/proofs",{params:t,signal:e}).then(l=>l.data),Is=t=>U({queryKey:["farm","proofs",t],queryFn:({signal:e})=>Os(t,e)}),As=(t,e)=>C.get("/wapi/headers",{params:t,signal:e}).then(l=>l.data),Ps=t=>U({queryKey:["node","headers",t],queryFn:({signal:e})=>As(t,e)}),po=(t,e)=>C.get("/wapi/block",{params:t,signal:e}).then(l=>l.data),Es=t=>U({queryKey:["block",t],queryFn:({signal:e})=>po(t,e),placeholderData:Me}),Ds=(t,e)=>C.get("/wapi/header",{params:t,signal:e}).then(l=>l.data),js=()=>J({mutationFn:t=>Ds(t)}),Sl=(t,e)=>{t.prefetchQuery({queryKey:["block",e],queryFn:({signal:l})=>po(e,l)})},Ws=(t,e)=>C.get("/wapi/transactions",{params:t,signal:e}).then(l=>l.data),Ms=t=>U({queryKey:["node","transactions",t],queryFn:({signal:e})=>Ws(t,e)}),Bs=(t,e)=>C.get("/wapi/transaction",{params:t,signal:e}).then(l=>l.data),Ns=t=>U({queryKey:["transaction",t],queryFn:({signal:e})=>Bs(t,e),select:e=>{for(const l of e.operations)delete l.solution;return e}}),fo=(t,e)=>C.get("/wapi/farmers",{params:t,signal:e}).then(l=>l.data),Us=t=>U({queryKey:["node","farmers",t],queryFn:({signal:e})=>fo(t,e)}),Ks=(t,e)=>{t.prefetchQuery({queryKey:["node","farmers",e],queryFn:({signal:l})=>fo(e,l),staleTime:st})},Qs=(t,e)=>C.get("/wapi/farmer",{params:t,signal:e}).then(l=>l.data),zs=t=>U({queryKey:["node","farmer",t],queryFn:({signal:e})=>Qs(t,e)}),Hs=(t,e)=>C.get("/wapi/farmer/blocks",{params:t,signal:e}).then(l=>l.data),Xs=t=>U({queryKey:["node","farmer","blocks",t],queryFn:({signal:e})=>Hs(t,e)}),Gs=(t,e)=>C.get("/wapi/contract",{params:t,signal:e}).then(l=>l.data),Js=t=>U({queryKey:["node","contract",t],queryFn:({signal:e})=>Gs(t,e)}),Ys=(t,e)=>C.get("/wapi/address/history",{params:t,signal:e}).then(l=>l.data),Zs=t=>U({queryKey:["node","address","history",t],queryFn:({signal:e})=>Ys(t,e)}),er=(t,e)=>C.get("/wapi/address",{params:t,signal:e}).then(l=>l.data),tr=(t,e)=>U({queryKey:["node","address",t],queryFn:({signal:l})=>er(t,l),select:l=>e?e(l):l}),lr=(t,e)=>C.get("/wapi/balance",{params:t,signal:e}).then(l=>l.data),yo=t=>U({queryKey:["node","balance",t],queryFn:({signal:e})=>lr(t,e),select:e=>e.balances}),{t:Pf}=nt.global,or=(t,e)=>C.get("/wapi/offers",{params:t,signal:e}).then(l=>l.data),ar=t=>U({queryKey:["market","offers",t],queryFn:({signal:e})=>or(t,e),placeholderData:Me}),nr=(t,e)=>C.get("/wapi/trade_history",{params:t,signal:e}).then(l=>l.data),sr=t=>U({queryKey:["market","offers","trade_history",t],queryFn:({signal:e})=>nr(t,e),placeholderData:Me}),rr=(t,e)=>C.get("/wapi/offer/trade_estimate",{params:t,signal:e}).then(l=>l.data),ir=(t,e)=>U({queryKey:["market","offers","trade_estimate",t,e],queryFn:({signal:l})=>rr(t,l),enabled:e,staleTime:0,gcTime:0}),{t:Ef}=nt.global,ur=(t,e)=>C.get("/wapi/swap/list",{params:t,signal:e}).then(l=>l.data),dr=t=>U({queryKey:["swap","list",t],queryFn:({signal:e})=>ur(t,e),placeholderData:Me}),cr=(t,e)=>C.get("/wapi/swap/info",{params:t,signal:e}).then(l=>l.data),Wt=t=>U({queryKey:["swap","info",t],queryFn:({signal:e})=>cr(t,e)}),mr=(t,e)=>C.get("/wapi/swap/history",{params:t,signal:e}).then(l=>l.data),_r=t=>U({queryKey:["swap","history",t],queryFn:({signal:e})=>mr(t,e)}),pr=(t,e)=>C.get("/wapi/swap/user_info",{params:t,signal:e}).then(l=>l.data),ho=(t,e)=>U({queryKey:["swap","user_info",t],queryFn:({signal:l})=>pr(t,l),placeholderData:Me,enabled:e}),fr=(t,e)=>C.get("/wapi/swap/trade_estimate",{params:t,signal:e}).then(l=>l.data),yr=(t,e)=>U({queryKey:["swap","trade_estimate",t,e],queryFn:({signal:l})=>fr(t,l),enabled:e,staleTime:0,gcTime:0}),hr=t=>C.get("/wapi/config/get",{signal:t}).then(e=>e.data),gr=()=>U({queryKey:["config"],queryFn:({signal:t})=>hr(t)}),br=t=>C.post("/wapi/config/set",t).then(e=>e.data),vr=()=>{const t=G();return J({mutationFn:({key:e,value:l,tmp_only:r})=>br({key:e,value:l,tmp_only:r}),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),l.suppressNotification||jt(l)},onError:ne})},wr=t=>C.get("/wapi/chain/info",{signal:t}).then(e=>e.data),go=()=>U({queryKey:["chain","info"],queryFn:({signal:t})=>wr(t)}),{t:Df}=nt.global,xr=[{path:"/explore",component:()=>R(()=>Promise.resolve().then(()=>Dc),void 0,import.meta.url),meta:{title:"Explore"},children:[{path:"",redirect:"/explore/blocks"},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>qo),void 0,import.meta.url),meta:{title:"Blocks",indexPage:!0}},{path:"block/hash/:hash",component:()=>R(()=>Promise.resolve().then(()=>Rl),void 0,import.meta.url),props:t=>({hash:t.params.hash}),meta:{title:t=>`Block #${t.params.hash}`,prefetcher:(t,e)=>{const l={hash:e.params.hash};Sl(t,l)}}},{path:"block/height/:height",component:()=>R(()=>Promise.resolve().then(()=>Rl),void 0,import.meta.url),props:t=>({height:parseInt(t.params.height)}),meta:{title:t=>`Block #${t.params.height}`,prefetcher:(t,e)=>{const l={height:parseInt(e.params.height)};Sl(t,l)}}},{path:"transactions",component:()=>R(()=>Promise.resolve().then(()=>Nc),void 0,import.meta.url),meta:{title:"Transactions",indexPage:!0}},{name:"transaction",path:"transaction/:transactionId",component:()=>R(()=>Promise.resolve().then(()=>Gc),void 0,import.meta.url),props:t=>({transactionId:t.params.transactionId}),meta:{title:t=>`Transaction #${t.params.transactionId}`}},{path:"farmers",component:()=>R(()=>Promise.resolve().then(()=>lm),void 0,import.meta.url),meta:{title:"Farmers",indexPage:!0,prefetcher:(t,e)=>{Ks(t,{limit:100})}}},{path:"farmer/:farmerKey",component:()=>R(()=>Promise.resolve().then(()=>sm),void 0,import.meta.url),props:t=>({farmerKey:t.params.farmerKey}),meta:{title:t=>`Farmer #${t.params.farmerKey}`}},{name:"address",path:"address/:address",component:()=>R(()=>Promise.resolve().then(()=>mm),void 0,import.meta.url),props:t=>({address:t.params.address}),meta:{title:t=>`Address #${t.params.address}`}}]}],kr=[{path:"/market",component:()=>R(()=>Promise.resolve().then(()=>hm),void 0,import.meta.url),meta:{title:"Market"},children:[{path:"",redirect:"/market/offers"},{path:"offers",component:()=>R(()=>Promise.resolve().then(()=>xm),void 0,import.meta.url),meta:{title:"Offers"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>$m),void 0,import.meta.url),meta:{title:"History"}}]}],Sr=[{path:"/swap",component:()=>R(()=>Promise.resolve().then(()=>Vm),void 0,import.meta.url),meta:{title:"Swap"},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url)},{path:":address",component:()=>R(()=>Promise.resolve().then(()=>Bm),void 0,import.meta.url),props:t=>({address:t.params.address}),children:[{path:"",redirect:{name:"trade"}},{name:"trade",path:"trade",component:()=>R(()=>Promise.resolve().then(()=>l_),void 0,import.meta.url),meta:{title:"Trade"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>a_),void 0,import.meta.url),meta:{title:"History"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>p_),void 0,import.meta.url),meta:{title:"Liquid"}},{path:"pool",component:()=>R(()=>Promise.resolve().then(()=>h_),void 0,import.meta.url),meta:{title:"Pool"}}]}]}],$r=[{path:"/:catchAll(.*)*",component:()=>R(()=>Promise.resolve().then(()=>w_),void 0,import.meta.url),meta:{requiresAuth:!1,title:"Page not found"}}],qr=[...bn,...vn,...wn,...xr,...kr,...Sr,...$r,{path:"/",redirect:"/node"},{path:"/login",name:"login",component:()=>R(()=>Promise.resolve().then(()=>R_),void 0,import.meta.url),meta:{title:"Login",layout:!1,requiresAuth:!1}},{path:"/settings",component:()=>R(()=>Promise.resolve().then(()=>Y_),void 0,import.meta.url),meta:{title:"Settings"}}];let bo;bo=qr;const Tr=bo,Vr=async t=>{if(t.meta.layout===!1){t.meta.layoutComponent="div";return}const e=t.meta.layout??"default",l=await Xl(Object.assign({"../../layouts/default.vue":()=>R(()=>Promise.resolve().then(()=>bp),void 0,import.meta.url)}),`../../layouts/${e}.vue`,4);t.meta.layoutComponent=l.default},Cr=async t=>{var l="MMX Node";t.matched.forEach(r=>{const n=r.meta.title;n&&(n instanceof Function?l+=` — ${n(t)}`:l+=` — ${n}`)}),No(l)},$l={read:t=>t!=null?JSON.parse(t):null,write:t=>JSON.stringify(t)},Te=al("session",{state:()=>({isLoggedIn:Ze("isLoggedIn",!1),credentials:Ze("credentials",null,{serializer:$l}),autoLogin:Ze("autoLogin",!1),activeWalletIndex:Ze("activeWalletIndex",null,{serializer:$l}),market:{menu:{bid:null,ask:null}},swap:{menu:{token:null,currency:null}}}),actions:{doLogin(t){this.autoLogin&&(this.credentials=t),console.log("login"),this.isLoggedIn=!0,this.router.currentRoute.value.query?.redirect?this.router.replace(this.router.currentRoute.value.query.redirect):this.router.replace("/")},doLogout(t){console.log("logout"),t&&(this.credentials=null,this.autoLogin=!1),this.isLoggedIn=!1,!we().isGUI&&(!t&&this.router.currentRoute.value.path!="/login"?this.router.push({path:"/login",query:{redirect:this.router.currentRoute.value.fullPath}}):this.router.push("/login"),this.queryClient.clear(),va()._s.forEach(l=>l.$reset()))}}}),Rr=async(t,e)=>{const l=we(),r=Te();if(t.matched.some(i=>i.meta.requiresAuth||!Object.hasOwn(i.meta,"requiresAuth"))&&!r.isLoggedIn&&!l.isGUI)return{path:"/login",query:{redirect:t.fullPath}};if(t.name==="login"&&r.isLoggedIn&&!l.isGUI)return{path:"/"}},pt=Uo({history:Ko("./"),routes:Tr});pt.beforeEach(Vr);pt.afterEach(Cr);pt.beforeEach(Rr);const vo=wa();vo.use(({store:t})=>{t.router=hl(pt),t.queryClient=hl(G())});const Lr=new Qo({defaultOptions:{queries:{retry:!0,networkMode:"always"},mutations:{networkMode:"always"}}}),Fr={queryClient:Lr};jl.registerLanguage("mmx",xa);jl.registerLanguage("json",ka);function Or(t){t.use(Xo,yn),t.use(pt),t.use(vo),t.use(nt),t.use(zo,Fr),t.use(Ho)}const Ir=t=>C.get("./guiBuildInfo.json",{signal:t,headers:$n}).then(e=>e.data),Ar=()=>Ft({queryKey:["guiBuildInfo"],queryFn:({signal:t})=>Ir(t),refetchInterval:5*st}),Pr=()=>{const t="22173D4741AB3",e=L(!1),{data:l}=Ar();_e(()=>{const c=l.value?.id;e.value=c&&t!=c});const r=et(),n=xt(),i=L(!1);return Se([e,()=>n.path],()=>{e.value===!0&&i.value===!1&&(i.value=!0,r.dialog({type:"warning",title:"An update is available",message:"Please refresh the page to apply the update",persistent:!0,cancel:!0,ok:{push:!0,color:"negative",label:"Refresh",tabIndex:0}}).onOk(()=>{window.location.reload()}).onDismiss(()=>{i.value=!1}))}),{updated:e}},Er={__name:"AppLayout",setup(t){const e=xt();return Pr(),(l,r)=>(p(),g(it(o(e).meta.layoutComponent||"div"),null,{default:s(()=>[kt(l.$slots,"default")]),_:3}))}},Ae={__name:"TrRouterView",props:{show:{type:Boolean,default:!0,required:!1}},setup(t){return(e,l)=>{const r=le("RouterView");return p(),g(r,null,{default:s(({Component:n})=>[a(Go,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn"},{default:s(()=>[t.show?(p(),g(it(n),{key:0})):E("",!0)]),_:2},1024)]),_:1})}}};let ql;const Dr=()=>{const t=et(),e=we();_e(()=>t.dark.set(e.isDarkTheme)),window.mmx?.theme_dark!==void 0&&!ql&&(ql=setInterval(()=>{e.isDarkTheme=window.mmx.theme_dark},500))};let Tl;const jr=()=>{const t=we(),e=async l=>(kn(nt,l),Jo());_e(()=>e(t.locale)),window.mmx?.locale!==void 0&&!Tl&&(Tl=setInterval(()=>{t.locale=window.mmx.locale},500))},Wr={__name:"App",setup(t){return Dr(),jr(),(e,l)=>{const r=Ae,n=Er;return p(),x(D,null,[a(n,null,{default:s(()=>[a(r)]),_:1}),a(o(Yo))],64)}}},wo=Zo(Wr);Or(wo);wo.mount("#app");const Mr={key:0},Br={key:0},Nr={key:1},Ur={key:0},Vl="row justify-center",xo={__name:"InfoTile",props:{tile:{type:Object,default:null},rows:{type:[Object],default:null},loading:Boolean},setup(t){const e=t,l=v(()=>{var i;e.tile.field instanceof Function?i=e.tile.field(e.rows):i=e.rows[e.tile.field];const c=e.tile.format;return c?c(i):i}),r=`${Vl} q-pb-sm q-pt-none text-subtitle1`,n=`${Vl} q-pt-sm q-pb-none text-h6`;return(i,c)=>(p(),g(P,{flat:"",bordered:""},{default:s(()=>[a(B,{class:se(n)},{default:s(()=>[e.loading?(p(),g(Ot,{key:1,square:"",width:"50%"})):(p(),x("div",Mr,[o(l)!=null?(p(),x("div",Br,b(o(l)),1)):(p(),x("div",Nr," "))]))]),_:1}),a(B,{class:se(r)},{default:s(()=>[e.tile.label!=null?(p(),x("div",Ur,b(e.tile.label),1)):E("",!0),c[0]||(c[0]=y("div",{else:""}," ",-1))]),_:1})]),_:1}))}},Kr={class:"row q-col-gutter-xs"},Qr={__name:"NodeInfo",setup(t){const{rows:e,loading:l}=il(),{t:r}=W(),n=v(()=>[{field:"is_synced",label:r("node_info.synced"),format:i=>r(i?"common.yes":"common.no")},{field:"height",label:r("node_info.height")},{field:"total_space",label:r("node_info.netspace"),format:i=>`${(i/Math.pow(1e3,2)).toFixed(3)} PB`},{field:"vdf_speed",label:r("node_info.vdf_speed"),format:i=>`${i.toFixed(3)} MH/s`},{field:"address_count",label:r("node_info.no_addresses")},{field:"block_size",label:r("node_info.block_size")},{field:"average_txfee",label:"Avg. TX Fee",format:i=>i.value>1?i.value.toPrecision(6):i.value},{field:"block_reward",label:r("node_info.block_reward"),format:i=>`${i.value.toFixed(3)} MMX`}]);return(i,c)=>{const u=xo;return p(),x("div",null,[y("div",Kr,[(p(!0),x(D,null,re(o(n),_=>(p(),x("div",{key:_.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(u,{tile:_,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},ct={timelord:{name:"timelord",restart:!0,default:!1},open_port:{name:"Router.open_port",restart:!0,default:!1},allow_remote:{name:"allow_remote",restart:!0,default:!1},cuda_enable:{name:"cuda.enable",restart:!0,default:!1},opencl_platform:{name:"opencl.platform",restart:!0,default:null,suppressNotification:!0},opencl_device:{name:"Node.opencl_device",restart:!0,suppressNotification:!0},opencl_device_name:{name:"Node.opencl_device_name",restart:!0},opencl_device_select:{name:"Node.opencl_device_select",restart:!0,default:-1,tmp_only:!0,suppressNotification:!0},opencl_device_list:{default:[]},opencl_device_list_relidx:{default:[]},farmer_reward_addr:{name:"Farmer.reward_addr",restart:!0},timelord_reward_addr:{name:"TimeLord.reward_addr",restart:!0},harv_num_threads:{name:"Harvester.num_threads",restart:!0},reload_interval:{name:"Harvester.reload_interval",restart:!0},recursive_search:{name:"Harvester.recursive_search",restart:!0,default:!1},plot_dirs:{name:"Harvester.plot_dirs",restart:!1},version:{name:"build.version"},commit:{name:"build.commit"}},zr=()=>{const t={};return Object.keys(ct).forEach(e=>{const{default:l}=ct[e];t[e]=l??null}),t},Hr=zr(),Xr=(t,e)=>{if(e){Object.keys(ct).forEach(l=>{const{name:r,default:n}=ct[l];r!==void 0&&(t[l]=e?.[r]??n)});{t.opencl_device_list=[],t.opencl_device_list_relidx=[],t.opencl_device_list.push({label:"None",value:-1});let l=e["Node.opencl_device_list"];if(l)for(const[r,n]of l.entries())t.opencl_device_list.push({label:n[0],value:r}),t.opencl_device_list_relidx.push({name:n[0],index:n[1]})}}};function ve(){const t=vr(),{data:e,isPending:l,isError:r}=gr(),n=v(()=>l.value||r.value),i=I({...Hr}),c=[];_e(()=>{Object.keys(c).forEach(m=>c[m]()),Xr(i,e.value),Object.keys(i).forEach(m=>{c[m]=Se(()=>i[m],(f,h)=>{const w=ct[m].name;t.mutate({...ct[m],key:w,value:f})})})});const u=v(()=>{if(!e.value)return!1;const m=e.value?.wallet;return!!(m||m==null)}),_=v(()=>{if(!e.value)return!1;const m=e.value?.farmer;return!!(m||m==null)}),d=v(()=>{if(!e.value)return!1;const m=e.value?.local_node;return!!(m||m==null)});return{data:i,loading:n,isWallet:u,isFarmer:_,isLocalNode:d}}const Gr={__name:"NodeMenu",setup(t){const{isLocalNode:e}=ve(),{t:l}=W(),r=v(()=>[{to:"/node/log",label:l("node_menu.log")},{to:"/node/peers",label:l("node_menu.peers"),visible:e.value},{to:"/node/blocks",label:l("node_menu.blocks")},{to:"/node/netspace",label:l("node_menu.netspace")},{to:"/node/vdf_speed",label:l("node_menu.vdf_speed")},{to:"/node/reward",label:l("node_menu.block_reward")}]);return(n,i)=>(p(),g(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:s(()=>[(p(!0),x(D,null,re(o(r),(c,u)=>(p(),x(D,{key:u},[c.visible??!0?(p(),g(Qe,{key:0,to:c.to,exact:c.exact??!1,label:c.label,icon:c.icon},null,8,["to","exact","label","icon"])):E("",!0)],64))),128))]),_:1}))}},Jr={class:"row q-col-gutter-xs"},ko={__name:"FarmerInfo",setup(t){const{rows:e,loading:l}=qt(),{rows:r}=_o({since:1e4}),{t:n}=W(),i=v(()=>[{field:"total_bytes",label:n("farmer_info.physical_size"),format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TB`},{field:"total_bytes_effective",label:"Effective Size",format:u=>`${(u/Math.pow(1e3,4)).toFixed(3)} TBe`}]),c=v(()=>[{field:"num_blocks",label:"No. Blocks"},{field:"total_rewards_value",label:"Total Rewards",format:u=>`${(u??0).toFixed(3)} MMX`}]);return(u,_)=>{const d=xo;return p(),x("div",null,[y("div",Jr,[(p(!0),x(D,null,re(o(i),m=>(p(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(d,{tile:m,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128)),(p(!0),x(D,null,re(o(c),m=>(p(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(d,{tile:m,rows:o(r),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},Yr={class:"q-gutter-y-sm"},Zr={class:"q-col-gutter-xs"},ei={__name:"index",setup(t){const{isFarmer:e}=ve();return(l,r)=>{const n=Ae;return p(),g(lt,{padding:""},{default:s(()=>[y("div",Yr,[y("div",Zr,[a(o(Qr)),o(e)?(p(),g(o(ko),{key:0})):E("",!0)]),a(P,{flat:""},{default:s(()=>[a(o(Gr)),a(n)]),_:1})])]),_:1})}}},ti=Object.freeze(Object.defineProperty({__proto__:null,default:ei},Symbol.toStringTag,{value:"Module"})),de={__name:"TableBodySkeleton",props:{props:{type:Object,required:!0},rowCount:{type:Number,default:10},loading:Boolean},setup(t){const e=t,l=r=>r instanceof Function?"":r;return(r,n)=>(p(!0),x(D,null,re(e.rowCount,i=>(p(),x("tr",{key:i},[(p(!0),x(D,null,re(e.props.cols,c=>(p(),x("td",{key:c,class:se(l(c.classes))},[a(Ot,{key:"text"})],2))),128))]))),128))}},fe=(t,e)=>{const l=t.__vccOpts||t;for(const[r,n]of e)l[r]=n;return l},li={key:0,class:"flex"},oi={style:{"font-size":"0px"}},ai=["set"],ni={key:0,style:{color:"darkcyan"}},si={__name:"LogIndex",setup(t){const e=/(?<=\s|^)(\d+(?:\.\d+)?)(?=,|\s|$)/g,{t:l}=W(),r=we(),n=w=>{const k=w.row.level;if(k==1)return"error";if(k==2)return"warning"},i=v(()=>[{label:l("node_log_table.time"),field:"time",align:"left",headerStyle:"width: 6%",format:w=>new Date(w/1e3).toLocaleTimeString()},{label:l("node_log_table.module"),field:"module",align:"right",headerStyle:"width: 8%"},{name:"message",label:l("node_log_table.message"),field:"message",align:"left"}]),c=v(()=>[{value:null,label:l("node_log.terminal")},{value:"Node",label:l("node_log.node")},{value:"Router",label:l("node_log.router")},{value:"Wallet",label:l("node_log.wallet")},{value:"Farmer",label:l("node_log.farmer")},{value:"Harvester",label:l("node_log.harvester")},{value:"TimeLord",label:l("node_log.timelord")}]),u=L(100),_=L(3),d=L(null),{rows:m,loading:f}=In(I({limit:u,level:_,module:d})),h=v(()=>Array.isArray(m.value)?m.value.filter(w=>!r.isWinGUI||w.module!="HttpServer"):[]);return(w,k)=>{const T=de;return p(),g(te,{rows:o(h),columns:o(i),loading:o(f),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",dense:""},ue({top:s(()=>[a(ea,{modelValue:o(d),"onUpdate:modelValue":k[0]||(k[0]=S=>z(d)?d.value=S:null),options:o(c),"toggle-color":"primary",color:"grey-6",dense:"",flat:""},null,8,["modelValue","options"])]),"body-cell":s(S=>[a(O,{props:S,class:se(n(S))},{default:s(()=>[S.col.name=="message"?(p(),x(D,{key:0},[S.value.includes("------------")?(p(),x("span",li,[y("span",oi,b(S.value),1),a(Zt,{color:"orange",style:{"flex-grow":"1"},class:"q-mr-md"})])):(p(!0),x(D,{key:1},re(S.value.split(e),(V,$)=>(p(),x("span",{key:$,set:w.m=S.value.match(e)},[w.m&&w.m.includes(V)?(p(),x("span",ni,b(V),1)):(p(),x(D,{key:1},[q(b(V),1)],64))],8,ai))),128))],64)):(p(),x(D,{key:1},[q(b(S.value),1)],64))]),_:2},1032,["props","class"])]),_:2},[o(f)?{name:"bottom-row",fn:s(S=>[a(T,{props:S,"row-count":o(u)},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},ri=fe(si,[["__scopeId","data-v-f6314779"]]),ii=Object.freeze(Object.defineProperty({__proto__:null,default:ri},Symbol.toStringTag,{value:"Module"})),So=t=>C.get("/api/router/get_peer_info",{signal:t}).then(e=>e.data),ui=()=>U({queryKey:["peers"],queryFn:({signal:t})=>So(t),select:t=>t.peers,refetchInterval:5.1*st}),di=()=>{const t=G();return J({mutationFn:()=>So(),onSuccess:e=>{t.setQueryData(["peers"],e)}})},ci=t=>C.post("/api/router/kick_peer",{address:t}).then(e=>e.data),mi=()=>{const t=G();return J({mutationFn:e=>ci(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["peers"]}),qe({message:"Peer kicked: "+l})}})},_i=t=>C.post("/api/node/revert_sync",t).then(e=>e.data),pi=()=>{const t=G();return J({mutationFn:e=>_i(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["node"]}),t.invalidateQueries({queryKey:["config"]}),jt({key:"Node.revert_sync",value:l.height,restart:!1})}})},fi=t=>C.post("/api/harvester/add_plot_dir",{path:t}).then(e=>e.data),yi=()=>{const t=G();return J({mutationFn:e=>fi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),jt({key:"Harvester.plot_dirs",value:"+ "+l,restart:!1})},onError:ne})},hi=t=>C.post("/api/harvester/rem_plot_dir",{path:t}).then(e=>e.data),gi=()=>{const t=G();return J({mutationFn:e=>hi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),jt({key:"Harvester.plot_dirs",value:"- "+l,restart:!1})},onError:ne})},bi=t=>C.post("/api/wallet/add_token",{address:t}).then(e=>e.data),vi=()=>{const t=G();return J({mutationFn:e=>bi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Added token to whitelist: "+l})},onError:ne})},wi=t=>C.post("/api/wallet/rem_token",{address:t}).then(e=>e.data),xi=()=>{const t=G();return J({mutationFn:e=>wi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),qe({message:"Removed token from whitelist: "+l})},onError:ne})},ki=()=>C.post("/api/harvester/reload").then(t=>t.data),Si=()=>{const t=G();return J({mutationFn:()=>ki(),onSuccess:()=>{t.invalidateQueries({queryKey:["farm"]}),qe({message:"Plots reloaded"})}})},$i=t=>C.post("/api/wallet/create_wallet",t).then(e=>e.data),qi=()=>{const t=G();return J({mutationFn:e=>$i(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet created"})},onError:ne})},Ti=t=>C.get("/api/wallet/remove_account",{params:t}).then(e=>e.data),Vi=()=>{const t=G();return J({mutationFn:e=>Ti(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),qe({message:"Wallet removed"})},onError:ne})},Ci=t=>C.post("/api/wallet/reset_cache",{index:t}).then(e=>e.data),Ri=()=>J({mutationFn:t=>Ci(t),onSuccess:()=>{qe({message:"Cache reset successfully"})},onError:ne}),Li=t=>C.post("/api/wallet/set_address_count",t).then(e=>e.data),Fi=()=>{const t=G();return J({mutationFn:e=>Li(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),qe({message:"Updated successfully"})},onError:ne})},Oi=(t,e)=>C.get("/api/wallet/is_locked",{params:t,signal:e}).then(l=>l.data),Ii=t=>({queryKey:["wallet","is_locked",t],queryFn:({signal:e})=>Oi(t,e)}),Ai=(t,e)=>U({...Ii(t),enabled:e}),Pi=t=>C.post("/api/wallet/lock",t).then(e=>e.data),Ei=t=>{const e=G();return J({mutationFn:()=>Pi(t),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} locked`})},onError:ne})},Di=t=>C.post("/api/wallet/unlock",t).then(e=>e.data),ji=t=>{const e=G();return J({mutationFn:l=>Di({...t,passphrase:l}),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),qe({message:`Wallet #${t.index} unlocked`})},onError:ne})},Wi={__name:"PeersIndex",setup(t){const{t:e}=W(),l=v(()=>[{label:e("node_peers.ip"),field:"address",headerStyle:"width: 10%"},{label:e("node_peers.height"),field:"height",headerStyle:"width: 7%"},{label:e("node_peers.type"),field:"type",headerStyle:"width: 10%"},{label:e("node_peers.version"),field:"version",headerStyle:"width: 5%"},{name:"received",label:e("node_peers.received"),field:"bytes_recv",format:u=>(u/1024/1024).toFixed(1)},{name:"send",label:e("node_peers.send"),field:"bytes_send",format:u=>(u/1024/1024).toFixed(1)},{name:"ping",label:e("node_peers.ping"),field:"ping_ms"},{name:"duration",label:e("node_peers.duration"),field:"connect_time_ms",format:u=>(u/1e3/60).toFixed()},{label:e("node_peers.connection"),field:"is_outbound",format:u=>e(u?"node_peers.outbound":"node_peers.inbound")},{name:"action",label:"Action",field:"action",align:"right"}]),{rows:r,loading:n}=ui(),i=mi(),c=u=>{i.mutate(u)};return(u,_)=>{const d=de;return p(),g(te,{rows:o(r),columns:o(l),loading:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-received":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,b(m.value),1),_[0]||(_[0]=q(" MB "))]),_:2},1032,["props"])]),"body-cell-send":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,b(m.value),1),_[1]||(_[1]=q(" MB "))]),_:2},1032,["props"])]),"body-cell-ping":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,b(m.value),1),_[2]||(_[2]=q(" ms "))]),_:2},1032,["props"])]),"body-cell-duration":s(m=>[a(O,{props:m},{default:s(()=>[y("b",null,b(m.value),1),_[3]||(_[3]=q(" min "))]),_:2},1032,["props"])]),"body-cell-action":s(m=>[a(O,{props:m},{default:s(()=>[a(j,{label:u.$t("node_peers.kick"),outline:"",color:"secondary",onClick:f=>c(m.row.address)},null,8,["label","onClick"])]),_:2},1032,["props"])]),_:2},[o(n)?{name:"bottom-row",fn:s(m=>[a(d,{props:m,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Mi=Object.freeze(Object.defineProperty({__proto__:null,default:Wi},Symbol.toStringTag,{value:"Module"})),Mt=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(64-e)),Be=t=>{const e=t.col.xclasses,l=t.value;return e instanceof Function?e(l):e},$o={__name:"BlockTable",props:{rows:{type:Object,required:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("explore_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"VDF",field:"vdf_count",format:n=>`+${n}`,headerStyle:"width: 5%"},{label:l("explore_blocks.tx"),field:"tx_count",headerStyle:"width: 5%"},{label:l("explore_blocks.k"),field:n=>n.ksize,format:n=>`k${n}`,headerStyle:"width: 5%"},{label:l("explore_blocks.score"),field:n=>n.score,headerStyle:"width: 7%"},{label:l("explore_blocks.reward"),field:n=>n.reward_amount.value,format:n=>n.toFixed(3),xclasses:"main-currency",headerStyle:"width: 12%"},{label:"TX Fees",field:n=>n.tx_count?n.tx_fees.value:null,format:n=>n?n.toFixed(3):"",xclasses:n=>n&&"main-currency",headerStyle:"width: 12%"},{label:l("explore_blocks.size"),field:"static_cost_ratio",format:n=>(n*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{label:l("explore_blocks.cost"),field:"total_cost_ratio",format:n=>(n*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{name:"hash",label:l("explore_blocks.hash"),field:"hash",align:"left"}]);return(n,i)=>{const c=de,u=le("RouterLink");return p(),g(te,{rows:t.rows,columns:o(r),loading:t.loading,pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(_=>[a(O,{props:_},{default:s(()=>[a(u,{to:`/explore/block/height/${_.value}`,class:"text-primary"},{default:s(()=>[q(b(_.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-hash":s(_=>[a(O,{props:_},{default:s(()=>[a(u,{to:`/explore/block/hash/${_.value}`,class:"text-primary mono"},{default:s(()=>[q(b(("getShortHash"in n?n.getShortHash:o(Mt))(_.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(_=>[a(O,{props:_},{default:s(()=>[y("div",{class:se(("getXClasses"in n?n.getXClasses:o(Be))(_))},b(_.value),3)]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:s(_=>[a(c,{props:_,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Bi={__name:"BlocksIndex",props:{limit:{type:Number,default:20}},setup(t){const e=t,{rows:l,loading:r}=Ps(e);return(n,i)=>{const c=$o;return p(),g(P,{flat:""},{default:s(()=>[a(c,{rows:o(l),loading:o(r)},null,8,["rows","loading"])]),_:1})}}},qo=Object.freeze(Object.defineProperty({__proto__:null,default:Bi},Symbol.toStringTag,{value:"Module"})),Ni={__name:"WChart",props:{loading:{type:Boolean,default:!1},option:{type:Object,default:null}},setup(t){return(e,l)=>t.loading?(p(),g(Ot,{key:1,square:"",class:"chart"})):(p(),g(o(nn),{key:0,option:t.option,autoresize:"",class:"chart"},null,8,["option"]))}},cl=fe(Ni,[["__scopeId","data-v-85d4d25c"]]);sn([rn,un,dn,cn,mn]);const Rt=()=>I({title:{left:"center",top:"10px",textStyle:{color:"#1976D2"}},textStyle:{fontFamily:"Roboto Mono Variable",fontWeight:"normal"},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{precision:0}}},xAxis:{type:"value",min:t=>t.min,max:t=>t.max,axisLabel:{showMinLabel:!1,showMaxLabel:!1},allowDecimals:!1},yAxis:{type:"value",axisLabel:{showMinLabel:!1,showMaxLabel:!1},min:t=>Math.max(Math.floor(t.min)-1,0),max:t=>Math.ceil(t.max)+1},grid:{left:"10%",top:"10%",right:"10%",bottom:"10%"},series:[{type:"line",lineStyle:{width:2},showSymbol:!1}]}),Ui={__name:"NetspaceChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=u=>{var _=[];for(const d of u)_.push([d.height,d.netspace]);return _},{data:n,loading:i}=ul(e,r),c=Rt();return c.title.text=l("netspace_graph.title",["PB"]),c.series[0].data=n,(u,_)=>{const d=cl;return p(),g(d,{loading:o(i),option:o(c)},null,8,["loading","option"])}}},Ki=Object.freeze(Object.defineProperty({__proto__:null,default:Ui},Symbol.toStringTag,{value:"Module"})),Qi={__name:"VdfSpeedChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=u=>{var _=[];for(const d of u)_.push([d.height,d.vdf_speed]);return _},{data:n,loading:i}=ul(e,r),c=Rt();return c.title.text=l("vdf_speed_graph.title",["MH/s"]),c.series[0].data=n,(u,_)=>{const d=cl;return p(),g(d,{loading:o(i),option:o(c)},null,8,["loading","option"])}}},zi=Object.freeze(Object.defineProperty({__proto__:null,default:Qi},Symbol.toStringTag,{value:"Module"})),Hi={__name:"RewardChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=W(),r=_=>{var d={reward:[],tx_fees:[]};for(const m of _)d.reward.push([m.height,m.reward]),d.tx_fees.push([m.height,m.tx_fees]);return d},{data:n,loading:i}=ul(e,r),c=Rt();c.title.text=l("block_reward_graph.title",["MMX"]),c.series[0].data=A(()=>n.value.reward);const u=Rt();return u.title.text=l("tx_fees_graph.title",["MMX"]),u.series[0].data=A(()=>n.value.tx_fees),(_,d)=>{const m=cl;return p(),x("div",null,[a(m,{loading:o(i),option:o(c)},null,8,["loading","option"]),a(m,{loading:o(i),option:o(u)},null,8,["loading","option"])])}}},Xi=Object.freeze(Object.defineProperty({__proto__:null,default:Hi},Symbol.toStringTag,{value:"Module"})),Gi={__name:"index",setup(t){return(e,l)=>{const r=Ae;return p(),g(lt,{padding:""},{default:s(()=>[a(r)]),_:1})}}},Ji=Object.freeze(Object.defineProperty({__proto__:null,default:Gi},Symbol.toStringTag,{value:"Module"})),Yi={class:"text-h5 q-mt-sm"},Tt={__name:"EmptyState",props:{icon:{type:String,default:null,required:!1},title:{type:String,default:null,required:!1}},setup(t){const e=t;return(l,r)=>(p(),g(P,{flat:""},{default:s(()=>[a(B,{class:"text-center"},{default:s(()=>[a($e,{name:e.icon,size:"xl"},null,8,["name"]),y("div",Yi,b(t.title),1)]),_:1})]),_:1}))}},Zi=new Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:12}),vt=t=>Zi.format(t),eu={class:"row vertical-middle justify-between"},tu={class:"self-center"},Bt={__name:"AccountBalanceTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("account_balance.balance"),field:"total",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("account_balance.reserved"),field:"reserved",headerStyle:"width: 7%"},{label:l("account_balance.spendable"),field:"spendable",format:c=>vt(c),style:"font-weight: bold;",headerStyle:"width: 7%"},{label:l("account_balance.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("account_balance.contract"),field:"contract",align:"left"}]),{rows:n,loading:i}=je(I({index:A(()=>e.index)}),c=>c.balances);return(c,u)=>{const _=le("RouterLink");return p(),g(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"header-cell-contract":s(d=>[a(ta,{props:d},{default:s(()=>[y("div",eu,[y("span",tu,b(d.col.label),1)])]),_:2},1032,["props"])]),"body-cell-contract":s(d=>[a(O,{props:d},{default:s(()=>[d.row.is_native?E("",!0):(p(),g(_,{key:0,to:`/explore/address/${d.value}`,class:"text-primary mono"},{default:s(()=>[q(b(d.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])}}},lu={__name:"MChip",props:{copy:{type:Boolean,default:!1}},setup(t){const e=la(),l=v(()=>e.default?e.default()[0].children:"");return(r,n)=>(p(),g(Ol,{square:""},{default:s(()=>[kt(r.$slots,"default",{},void 0,!0),t.copy&&o(l)?(p(),g(o(el),{key:0},{default:s(({copy:i,copied:c})=>[a(j,{"icon-right":o(nl),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:u=>i(o(l))},{default:s(()=>[a(ze,{"model-value":c===!0,"no-parent-event":""},{default:s(()=>n[0]||(n[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:1})):E("",!0)]),_:3}))}},Ne=fe(lu,[["__scopeId","data-v-c80c5da7"]]),xe=t=>{G();const{data:e}=$t(t),l=v(()=>e.value?.with_passphrase?e.value.with_passphrase:!1),{data:r}=Ai(t,l),n=v(()=>l.value?r.value??!0:!1),i=async()=>{n.value?w():await d()},c=ji(t),u=async k=>{await c.mutateAsync(k)},_=Ei(t),d=async()=>{await _.mutateAsync()},m=Il(),f=()=>new Promise((k,T)=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>xp),void 0,import.meta.url))}).onOk(async({passphrase:S})=>{k(S)}).onCancel(()=>{T(new Error("Prompt rejected!"))})}),h=async()=>{if(n.value)return await f()},w=async()=>{if(n.value){const k=await h();await u(k)}};return{isLocked:n,handleToggleLock:i,promptPassphrase:h}},ou={class:"row q-gutter-x-none"},au={__name:"AccountHeader",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=$t(e),{isLocked:r,handleToggleLock:n}=xe(e);return(i,c)=>{const u=Ne;return p(),x("div",ou,[a(u,null,{default:s(()=>[q(b(i.$t("account_header.wallet"))+" #"+b(t.index),1)]),_:1}),o(l).address?(p(),g(u,{key:0,copy:""},{default:s(()=>[q(b(o(l).address),1)]),_:1})):E("",!0),o(l).name?(p(),g(u,{key:1},{default:s(()=>[q(b(o(l).name),1)]),_:1})):E("",!0),o(l).with_passphrase?(p(),g(j,{key:2,icon:o(r)?o(Wl):o(Ml),size:"sm",round:"",class:"q-my-auto",onClick:o(n)},null,8,["icon","onClick"])):E("",!0)])}}},nu={__name:"AccountMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{to:`/wallet/account/${e.index}`,exact:!0,label:l("account_menu.balance")},{to:`/wallet/account/${e.index}/contracts`,label:l("account_menu.contracts")},{to:`/wallet/account/${e.index}/send`,label:l("account_menu.send")},{to:`/wallet/account/${e.index}/history`,label:l("account_menu.history")},{to:`/wallet/account/${e.index}/log`,label:l("account_menu.log")},{to:`/wallet/account/${e.index}/offer`,label:l("account_menu.offer"),badge:i.value},{to:`/wallet/account/${e.index}/liquid`,label:l("account_menu.liquidity")},{to:`/wallet/account/${e.index}/plotnfts`,label:"PlotNFTs"},{to:`/wallet/account/${e.index}/details`,label:l("account_menu.info")},{to:`/wallet/account/${e.index}/options`,icon:Bl}]),{rows:n}=mo(I({index:A(()=>e.index),state:!0})),i=v(()=>n.value.reduce((c,u)=>(u.ask_balance>0?1:0)+c,0));return(c,u)=>(p(),g(tt,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:s(()=>[(p(!0),x(D,null,re(o(r),(_,d)=>(p(),g(Qe,{key:d,to:_.to,exact:_.exact??!1,label:_.label,icon:_.icon},{default:s(()=>[_.badge?(p(),g(oa,{key:0,color:"positive",floating:"",transparent:"",rounded:""},{default:s(()=>[q(b(_.badge),1)]),_:2},1024)):E("",!0)]),_:2},1032,["to","exact","label","icon"]))),128))]),_:1}))}},To={__name:"index",props:{index:{type:Number,required:!0},useRouterView:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{noData:l}=$t(I({index:e.index})),r=Te();return e.useRouterView&&(r.activeWalletIndex=e.index),(n,i)=>{const c=Bt,u=Ae,_=Tt;return p(),x("div",null,[a(o(au),{index:t.index},null,8,["index"]),o(l)?(p(),g(_,{key:1,title:"No such wallet",icon:o(Sa)},null,8,["icon"])):(p(),x(D,{key:0},[a(P,{flat:""},{default:s(()=>[a(o(nu),{index:t.index},null,8,["index"]),t.useRouterView?E("",!0):(p(),g(c,{key:0,index:t.index},null,8,["index"]))]),_:1}),t.useRouterView?(p(),g(u,{key:0,index:t.index},null,8,["index"])):E("",!0)],64))])}}},su=Object.freeze(Object.defineProperty({__proto__:null,default:To},Symbol.toStringTag,{value:"Module"})),ru={class:"q-gutter-y-sm"},iu={class:"row justify-end"},uu={__name:"AccountIndex",setup(t){const{rows:e,loading:l}=uo();return(r,n)=>(p(),x("div",null,[o(l)?(p(),g(tl,{key:0,query:"",class:"absolute-top"})):E("",!0),y("div",ru,[(p(!0),x(D,null,re(o(e),(i,c)=>(p(),g(o(To),{key:c,index:i.account,"use-router-view":!1},null,8,["index"]))),128)),y("div",iu,[a(j,{to:"/wallet/create",icon:o(Nl),label:r.$t("wallet_summary.new_wallet"),size:"md",outline:"",rounded:"",color:"primary"},null,8,["icon","label"])])])]))}},du=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"})),cu=t=>{try{if(_n.decode(t).words.length!=52)return!1}catch{return!1}return!0},Y={number:t=>!t||/^\d+$/.test(t)||"Invalid number",address:t=>!t||cu(t)||"Invalid address",required:t=>!wl(t)||"Field is required",amount:t=>wl(t)||typeof t=="number"&&t>0||"Invalid amount",memo:t=>t&&t.length>64?"Maximum length is 64":!0},mu={__name:"SeedWord",props:It({wordList:{type:Array,required:!0}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,r=L(l.wordList),n=(u,_,d)=>{_(()=>{const m=u.toLowerCase();r.value=l.wordList.filter(f=>f.toLowerCase().indexOf(m)==0)},m=>{u!==""&&m.options.length>0&&m.getOptionIndex()===-1&&(m.moveOptionSelection(1,!0),m.toggleOption(m.options[m.optionIndex],!0))})},i=u=>{e.value=u},c=u=>l.wordList?.includes(u)||"Invalid word";return(u,_)=>(p(),g(be,Ie({modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=d=>e.value=d)},u.$attrs,{options:o(r),"hide-dropdown-icon":"","fill-input":"","use-input":"","hide-selected":"",outlined:"","input-debounce":"0",rules:[o(Y).required,c],"hide-bottom-space":"","no-error-icon":"","input-class":"text-bold",onFilter:n,onInputValue:i}),null,16,["modelValue","options","rules"]))}},_u=fe(mu,[["__scopeId","data-v-2a2006f5"]]),pu={class:"row q-row-gutter-xs q-col-gutter-xs"},Vt=24,Vo={__name:"index",props:It({readonly:{type:Boolean,required:!1,default:!1}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=L(new Array(Vt).fill("")),r=(i,c)=>{i=i.trim();const u=i.split(" ").length;u==1?e.value=l.value.join(" "):u==Vt&&(e.value=i,n())},n=()=>{e.value?l.value=e.value.split(" ").slice(0,Vt):l.value=new Array(Vt).fill("")};return _e(()=>n()),(i,c)=>{const u=_u;return p(),x("div",null,[y("div",pu,[(p(!0),x(D,null,re(o(l),(_,d)=>(p(),g(u,{key:d,modelValue:o(l)[d],"onUpdate:modelValue":[m=>o(l)[d]=m,m=>r(m)],"word-list":o(pn),label:(d+1).toString(),readonly:t.readonly,class:"col-md-2 col-sm-3 col-xs-4"},null,8,["modelValue","onUpdate:modelValue","word-list","label","readonly"]))),128))])])}}},fu={class:"q-gutter-y-sm"},yu={class:"row q-gutter-x-sm"},hu={class:"col-8"},gu={class:"col"},bu={class:"q-gutter-y-sm"},vu={class:"text-subtitle1"},wu={class:"q-gutter-y-sm"},xu={class:"row full-width justify-end"},ku={__name:"WalletCreate",setup(t){const e=L(!1),l=L(!1),r=L(!1),n=L(!1),i=L(""),c=L(1),u=L(),_=L(),d=L(),m=ot(),f=qi(),h=En(),w=()=>{l.value&&r.value&&d.value?T():k()},k=()=>{e.value=!0;const S={config:{name:i.value,numAddresses:c.value},...l.value&&{words:u.value},...r.value&&{passphrase:_.value}};f.mutate(S,{onSuccess:()=>{m.push("/wallet/")},onSettled:()=>{e.value=!1}})},T=()=>{e.value=!0;const S={words:u.value,finger_print:d.value,passphrase:_.value};h.mutate(S,{onSuccess:()=>{k()},onSettled:()=>{e.value=!1}})};return(S,V)=>{const $=Vo;return p(),x("div",fu,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",yu,[y("div",hu,[a(N,{modelValue:o(i),"onUpdate:modelValue":V[0]||(V[0]=F=>z(i)?i.value=F:null),label:S.$t("create_wallet.account_name")},null,8,["modelValue","label"])]),y("div",gu,[a(N,{modelValue:o(c),"onUpdate:modelValue":V[1]||(V[1]=F=>z(c)?c.value=F:null),modelModifiers:{number:!0},label:S.$t("create_wallet.number_of_addresses")},null,8,["modelValue","label"])])])]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",bu,[a(Ke,{modelValue:o(l),"onUpdate:modelValue":V[2]||(V[2]=F=>z(l)?l.value=F:null),label:S.$t("create_wallet.use_custom_seed")},null,8,["modelValue","label"]),o(l)?(p(),x(D,{key:0},[y("div",vu,b(S.$t("create_wallet.seed_words")),1),a($,{modelValue:o(u),"onUpdate:modelValue":V[3]||(V[3]=F=>z(u)?u.value=F:null)},null,8,["modelValue"])],64)):E("",!0)])]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",wu,[a(Ke,{modelValue:o(r),"onUpdate:modelValue":V[4]||(V[4]=F=>z(r)?r.value=F:null),label:S.$t("create_wallet.use_passphrase")},null,8,["modelValue","label"]),o(r)?(p(),x(D,{key:0},[a(N,{modelValue:o(_),"onUpdate:modelValue":V[6]||(V[6]=F=>z(_)?_.value=F:null),label:S.$t("create_wallet.passphrase"),outlined:"",type:o(n)?"text":"password",autocomplete:"new-password"},{append:s(()=>[a($e,{name:o(n)?o(Kl):o(Ul),class:"cursor-pointer",onClick:V[5]||(V[5]=F=>n.value=!o(n))},null,8,["name"])]),_:1},8,["modelValue","label","type"]),o(l)?(p(),g(N,{key:0,modelValue:o(d),"onUpdate:modelValue":V[7]||(V[7]=F=>z(d)?d.value=F:null),label:"Fingerprint (optional, to validate passphrase)",outlined:""},null,8,["modelValue"])):E("",!0)],64)):E("",!0)])]),_:1})]),_:1}),y("div",xu,[a(j,{icon:o(Nl),label:S.$t("create_wallet.create_wallet"),loading:o(e),color:"primary",outline:"",onClick:w},null,8,["icon","label","loading"])])])}}},Su=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),$u=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(62-e)),Co={__name:"TxTypeLink",props:{id:{type:String,required:!0},type:{type:String,required:!0}},setup(t){const e=t,l=v(()=>{switch(e.type){case"REWARD":case"VDF_REWARD":case"PROJECT_REWARD":return"/explore/block/hash/"+e.id;default:return"/explore/transaction/"+e.id}});return(r,n)=>{const i=le("RouterLink");return p(),g(i,{to:o(l)},{default:s(()=>[kt(r.$slots,"default")]),_:3},8,["to"])}}},Lt=t=>t=="REWARD"?"text-lime-8":t=="RECEIVE"||t=="REWARD"||t=="VDF_REWARD"?"text-positive":t=="SPEND"?"text-negative":t=="TXFEE"?"text-grey":"";function qu(){const t=Il(),e=(r,n,i)=>{let c=n!==void 0?n(r,i):r;return c=c==null?"":String(c),c=c.split('"').join('""'),`"${c}"`};return{exportTable:(r,n,i="export.csv")=>{const c=[n.map(_=>e(_.label))].concat(r.map(_=>n.map(d=>e(typeof d.field=="function"?d.field(_):_[d.field===void 0?d.name:d.field],d.format,_)).join(","))).join(`\r
`);aa(i,c,"text/csv")!==!0&&t.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}}}const Tu={key:0},Vu={key:0,class:"text-orange"},Ro={__name:"AccountHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!0},memo:{type:String,required:!1,default:null},type:{type:String,required:!1,default:null},currency:{type:String,required:!1,default:null},exportEnabled:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("account_history.height"),field:"height",headerStyle:"width: 7%"},{label:l("account_history.type"),field:"type",headerStyle:"width: 8%",classes:_=>Lt(_.type)},{label:l("account_history.amount"),field:"value",headerClasses:"dense-amount",classes:"dense-amount",headerStyle:"width: 7%",style:"font-weight: bold;",align:"right"},{name:"token",label:l("account_history.token"),field:"symbol",headerClasses:"dense-symbol",classes:"dense-symbol",headerStyle:"width: 5%",align:"left"},{name:"address",label:l("account_history.address"),field:"address",headerStyle:"width: 15%",align:"left"},{label:"Memo",field:"memo",style:"word-break: break-all;",align:"left"},{name:"txid",label:l("account_history.link"),field:"txid",headerStyle:"width: 5%"},{label:l("account_history.time"),field:_=>_,format:_=>_.is_pending?"":new Date(_.time_stamp).toLocaleString(),headerStyle:"width: 15%",classes:"text-no-wrap",align:"left"}]),{rows:n,loading:i}=bs(I({index:A(()=>e.index),limit:A(()=>e.limit),memo:A(()=>e.memo),type:A(()=>e.type),currency:A(()=>e.currency)})),{exportTable:c}=qu(),u=()=>{c(n.value,r.value)};return(_,d)=>{const m=de,f=le("RouterLink"),h=Co;return p(),g(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":s(w=>[a(O,{props:w},{default:s(()=>[w.row.is_pending?(p(),x("i",Tu,"pending")):(p(),g(f,{key:1,to:`/explore/block/height/${w.value}`,class:"text-primary"},{default:s(()=>[q(b(w.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-token":s(w=>[a(O,{props:w},{default:s(()=>[w.row.is_native?(p(),x(D,{key:0},[q(b(w.value),1)],64)):(p(),g(f,{key:1,to:`/explore/address/${w.row.contract}`,class:"text-primary mono"},{default:s(()=>[q(b(w.row.is_nft?"[NFT]":w.row.symbol)+" ",1),w.row.is_validated?E("",!0):(p(),x("span",Vu,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":s(w=>[a(O,{props:w},{default:s(()=>[a(f,{to:`/explore/address/${w.value}`,class:"text-primary mono"},{default:s(()=>[q(b(("getShortAddr"in _?_.getShortAddr:o($u))(w.value)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":s(w=>[a(O,{props:w},{default:s(()=>[a(h,{id:w.value,type:w.row.type,class:"text-primary"},{default:s(()=>d[0]||(d[0]=[q("TX")])),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(w=>[a(m,{props:w,"row-count":6},null,8,["props"])]),key:"0"}:void 0,t.exportEnabled?{name:"top-right",fn:s(()=>[a(j,{color:"primary","icon-right":o($a),label:"Export to csv",outline:"",rounded:"","no-caps":"",onClick:u},null,8,["icon-right"])]),key:"1"}:void 0]),1032,["rows","columns","loading"])}}},Cu={class:"q-gutter-y-sm"},Ru={__name:"AccountHome",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Bt,n=Ro;return p(),x("div",Cu,[a(r,{index:t.index},null,8,["index"]),a(n,{index:t.index,limit:50},null,8,["index"])])}}},Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Ru},Symbol.toStringTag,{value:"Module"})),Fu={class:"q-gutter-y-sm"},Ou={__name:"AccountNFT",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:"NFT",field:"item",align:"left"}]),{rows:n,loading:i}=je(I({index:A(()=>e.index),show_all:!1}),c=>c.nfts);return(c,u)=>{const _=de,d=le("RouterLink");return p(),x("div",Fu,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Iu=Object.freeze(Object.defineProperty({__proto__:null,default:Ou},Symbol.toStringTag,{value:"Module"})),ml={__name:"BalanceTable",props:{address:{type:String,required:!0},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("balance_table.balance"),field:"total",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("balance_table.locked"),field:"locked",format:c=>vt(c),headerStyle:"width: 7%"},{label:l("balance_table.spendable"),field:"spendable",format:c=>vt(c),headerStyle:"width: 7%",style:"font-weight: bold;"},{label:l("balance_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("balance_table.contract"),field:"contract",align:"left"}]),{rows:n,loading:i}=yo(I({id:A(()=>e.address)}));return(c,u)=>{const _=de,d=le("RouterLink");return o(i)||!o(i)&&(o(n)?.length||t.showEmpty)?(p(),g(te,{key:0,rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(b(m.row.is_native?"":m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):E("",!0)}}},Au={key:0},Pu={class:"key-cell m-bg-grey"},Eu={class:"textwarp mono"},Du={key:1,class:"hex"},ju={__name:"ObjectTable",props:{data:{type:Object,default:null}},setup(t){const e=L({}),l=u=>u instanceof Object?JSON.stringify(u,null,4):u,r=u=>typeof u=="string"&&u.startsWith("mmx1")&&u.length==62,n=(u,_)=>u instanceof Object&&Object.keys(u).length>0||_=="source",i=u=>{e.value[u]||(e.value[u]=!1),e.value[u]=!e.value[u]},c=u=>u&&u.length>68&&u.length%2==0&&/^[0-9a-fA-F]+$/.test(u);return(u,_)=>{const d=le("highlightjs"),m=le("RouterLink");return p(),g(At,{flat:""},{default:s(()=>[y("tbody",null,[(p(!0),x(D,null,re(t.data,(f,h)=>(p(),x(D,{key:h},[h!="__type"?(p(),x("tr",Au,[y("td",Pu,b(h),1),y("td",Eu,[f instanceof Object||h=="source"?(p(),x(D,{key:0},[n(f,h)?(p(),g(j,{key:0,icon:o(e)[h]?o(Ta):o(qa),"fab-mini":"",class:"float-right",onClick:w=>i(h)},null,8,["icon","onClick"])):E("",!0),a(d,{code:l(f),class:se({hljsCode:!0,collapsed:!o(e)[h]})},null,8,["code","class"])],64)):(p(),x(D,{key:1},[r(f)?(p(),g(m,{key:0,to:`/explore/address/${f}`,class:"text-primary mono"},{default:s(()=>[q(b(f),1)]),_:2},1032,["to"])):c(f)?(p(),x("div",Du,b(f),1)):(p(),x(D,{key:2},[q(b(f),1)],64))],64))])])):E("",!0)],64))),128))])]),_:1})}}},Nt=fe(ju,[["__scopeId","data-v-4d5a1ef0"]]),Lo=()=>{const{rows:t}=go(),{t:e}=W(),l={token_binary:{name:"Token"},offer_binary:{name:"Offer"},swap_binary:{name:"Swap"},nft_binary:{name:"NFT"},plot_nft_binary:{name:"Plot NFT"}},r=v(()=>{const c=Object.entries(t.value).filter(([_,d])=>_.endsWith("_binary")&&typeof d=="string"&&d.startsWith("mmx1"));return Object.fromEntries(c.map(([_,d])=>[_,{address:d,name:l[_]?.name||_}]))}),n=v(()=>Object.fromEntries(Object.entries(r.value).map(([c,u])=>[u.address,{...u,key:c}]))),i=v(()=>Object.fromEntries(Object.entries(n.value).map(([c,u])=>[c,!0])));return{chainBinaries:r,chainBinariesSwapped:n,filterInit:i}},Wu={class:"row q-gutter-x-none"},Mu={key:0,class:"row justify-end q-gutter-xs"},Bu={__name:"AccountContractView",props:{data:{type:Object,required:!0}},setup(t){const e=t,{chainBinariesSwapped:l}=Lo(),r=v(()=>l.value[e.data?.binary]);return(n,i)=>{const c=Ne,u=Nt,_=ml;return p(),x(D,null,[y("div",null,[y("div",Wu,[a(c,null,{default:s(()=>[q(b(t.data.__type),1)]),_:1}),o(r)?(p(),g(c,{key:0},{default:s(()=>[q(b(o(r).name),1)]),_:1})):E("",!0),a(c,null,{default:s(()=>[q(b(t.data.address),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(u,{data:t.data},null,8,["data"])]),_:1})]),y("div",null,[a(_,{address:t.data.address},null,8,["address"])]),t.data.__type!="mmx.contract.Executable"?(p(),x("div",Mu,[a(j,{label:n.$t("account_contract_summary.deposit"),icon:n.mdiBankTransferIn,outline:"",color:"positive",onClick:i[0]||(i[0]=d=>n.handleDeposit(n.index,t.data.address))},null,8,["label","icon"]),a(j,{label:n.$t("account_contract_summary.withdraw"),icon:n.mdiBankTransferOut,outline:"",color:"negative",onClick:i[1]||(i[1]=d=>n.handleWithdraw(n.index,t.data.address))},null,8,["label","icon"])])):E("",!0)],64)}}},Nu={__name:"AccountContractsIndex",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=L({}),{rows:r}=co(e),n=v(()=>Array.from(new Set(r.value.map(_=>_.binary)))),{chainBinariesSwapped:i,filterInit:c}=Lo();_e(()=>{l.value=c.value});const u=v(()=>r.value.filter(_=>l.value[_.binary]));return ot(),(_,d)=>(p(),x("div",null,[(p(!0),x(D,null,re(o(n),(m,f)=>(p(),g(Ol,{key:f,selected:o(l)[m],"onUpdate:selected":h=>o(l)[m]=h,outline:"",color:"primary","text-color":"white"},{default:s(()=>[q(b(o(i)[m].name),1)]),_:2},1032,["selected","onUpdate:selected"]))),128)),(p(!0),x(D,null,re(o(u),(m,f)=>(p(),x("div",{key:f,class1:"q-gutter-y-xs"},[a(o(Bu),{data:m},null,8,["data"])]))),128))]))}},Uu={class:"q-gutter-y-sm"},Ku={class:"row justify-end"},Qu={__name:"CreateContractMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=L(),r=v(()=>[]),n=ot(),i=()=>{n.push("/wallet/account/"+e.index+"/create/"+l.value)};return(c,u)=>(p(),x("div",null,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",Uu,[a(be,{modelValue:o(l),"onUpdate:modelValue":u[0]||(u[0]=_=>z(l)?l.value=_:null),options:o(r),label:c.$t("create_contract_menu.contract_type"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"]),y("div",Ku,[a(j,{label:c.$t("common.create"),icon:o(Va),"text-color":"primary",outline:"",disable:!o(l),onClick:i},null,8,["label","icon","disable"])])])]),_:1})]),_:1})]))}},zu={class:"q-gutter-y-sm q-mt-sm"},Hu={__name:"index",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>(p(),x("div",zu,[a(Qu,{index:t.index},null,8,["index"]),a(Nu,{index:t.index},null,8,["index"])]))}},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Hu},Symbol.toStringTag,{value:"Module"})),Fo={__name:"AccountTxHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!1,default:200}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("account_tx_history.height"),field:"height",headerStyle:"width: 7%"},{label:"Type",field:"note",headerStyle:"width: 11%"},{label:"Fee",field:c=>c.height&&c.fee&&c.fee.value,format:c=>c?c.toFixed(3):"...",headerStyle:"width: 12%",xclasses:"main-currency"},{label:l("account_tx_history.confirmed"),field:"confirm",format:c=>c?c>1e3?"> 1000":c:null,headerStyle:"width: 7%"},{label:l("account_tx_history.status"),field:"state",headerStyle:"width: 7%",classes:c=>c.state=="failed"?"text-negative":null},{name:"transaction_id",label:l("account_tx_history.transaction_id"),field:"id",align:"left"},{label:l("account_tx_history.time"),field:"time",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:n,loading:i}=xs(e);return(c,u)=>{const _=de,d=le("RouterLink");return p(),g(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-transaction_id":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(b(("getShortHash"in c?c.getShortHash:o(Mt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},b(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":6},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Gu=t=>{const e=L([]),l=L([]),r=L(!1),n=()=>{if(t.value){const u=t.value.getValidationComponents().filter(_=>_.rules);e.value=new Array(u.length).fill(!1),u.forEach((_,d)=>{const m=Se(()=>_.modelValue,f=>{const h=_.rules?.every(w=>w(f)===!0)??!1;e.value[d]=h},{deep:!0,immediate:!0});l.value.push(m)}),r.value=!0}},i=v(()=>e.value.some(u=>u===!1)),c=v(()=>r.value?i.value===!1:!1);return na(()=>{n()}),{isValid:c,setupValidation:n}},Ju=(t,e)=>{const l=L(null),r=L(!1),n=v(()=>({...t}));Se(n,(f,h)=>{f.feeRatio===h.feeRatio&&(r.value=!1)}),Se(r,f=>{f&&i()});const i=()=>{l.value.validate()},{isValid:c,setupValidation:u}=Gu(l),_=()=>{u()},d=v(()=>c.value&&r.value);return{formRef:l,confirmed:r,isValid:c,isValidConfirmed:d,reset:()=>{Object.assign(t,e),r.value=!1},validate:i,onDialogShow:_}},Ve={__name:"WForm",props:{data:{type:Object,required:!0},defaultData:{type:Object,required:!0},onSubmit:{type:Function,required:!1,default:()=>{}},onReset:{type:Function,required:!1,default:()=>{}}},setup(t,{expose:e}){const l=t,{formRef:r,confirmed:n,isValid:i,isValidConfirmed:c,reset:u,onDialogShow:_,validate:d}=Ju(l.data,l.defaultData),m=()=>{u(),l.onReset()},f=async()=>{n.value=!1,l.onSubmit()},h=async()=>{m()},w=I({confirmed:n,isValid:i,isValidConfirmed:c});return sa("formState",w),e({reset:m,confirmed:n,isValid:i,isValidConfirmed:c,onDialogShow:_,validate:d}),(k,T)=>(p(),g(ll,{ref_key:"formRef",ref:r,onSubmit:f,onReset:h},{default:s(()=>[kt(k.$slots,"default")]),_:3},512))}},Pe={__name:"WBtnSubmit",setup(t){const e=Al("formState"),{confirmed:l,isValid:r,isValidConfirmed:n}=ut(e),i=L(null),c=v(()=>l.value?i.value?.disable?"negative":"positive":"");return(u,_)=>(p(),g(j,{ref_key:"btnRef",ref:i,type:"submit",color:o(c),outline:"",disable:!o(n)},null,8,["color","disable"]))}},Ee={__name:"WToggleConfirmed",setup(t){const e=Al("formState");return(l,r)=>(p(),g(ra,{modelValue:o(e).confirmed,"onUpdate:modelValue":r[0]||(r[0]=n=>o(e).confirmed=n),label:l.$t("common.confirm")},null,8,["modelValue","label"]))}},Yu={};function Zu(t,e){return p(),g(j,{label:"Reset",type:"reset",color:"primary",flat:""})}const Ce=fe(Yu,[["render",Zu]]),ed={__name:"TxFeeInput",props:It({error:{type:String,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1},locked:{type:Boolean,required:!1,default:!1}},{modelValue:{type:Number,required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t;return v(()=>l.loading&&l.error===null),(r,n)=>(p(),g(N,Ie({"model-value":e.value},r.$attrs,{label:r.$t("account_history_form.tx_fee"),suffix:"MMX","input-class":"amount-input",readonly:"",class:"col-2"}),{default:s(()=>[a(Ct,{showing:t.loading},{default:s(()=>[a(ia,{color:"grey",size:"2em"})]),_:1},8,["showing"]),a(Ct,{showing:t.locked},{default:s(()=>[a($e,{name:o(Ca),size:"sm",class:"text-warning"},{default:s(()=>[a(ze,null,{default:s(()=>n[0]||(n[0]=[q("Unlock wallet to see estimated fee")])),_:1})]),_:1},8,["name"])]),_:1},8,["showing"]),a(Ct,{showing:t.error!=null},{default:s(()=>[a($e,{name:o(Ql),size:"sm",class:"text-warning"},{default:s(()=>[a(ze,null,{default:s(()=>[q(b(t.error),1)]),_:1})]),_:1},8,["name"])]),_:1},8,["showing"])]),_:1},16,["model-value","label"]))}},De=fe(ed,[["__scopeId","data-v-1852591f"]]),Re={__name:"TxFeeSelect",props:{modelValue:{type:Number,required:!1,default:1024},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=v(()=>[{label:"1x (min fee)",value:1024},{label:"2x",value:2048},{label:"3x",value:3072},{label:"5x",value:5120},{label:"10x",value:10240},{label:"20x",value:20480}]);return _e(()=>{e.value||(e.value=1024)}),(r,n)=>(p(),g(be,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=i=>e.value=i),options:o(l),"emit-value":"","map-options":"",label:"TX Fee Ratio"},null,8,["modelValue","options"]))}},Ut={__name:"XSelect",setup(t){return(e,l)=>(p(),g(be,Ie(e.$attrs,{"emit-value":"","map-options":""}),{"selected-item":s(r=>[a(Gt,Ie(r.itemProps,{class:"q-pb-none",style:{"min-height":"unset"}}),{default:s(()=>[a(gt,{avatar:"",class:"content-end q-pb-none"},{default:s(()=>[a(bt,{class:se({"text-bold":r.opt.value!==null})},{default:s(()=>[q(b(r.opt.label),1)]),_:2},1032,["class"])]),_:2},1024),r.opt.description?(p(),g(gt,{key:0},{default:s(()=>[a(bt,{class:se(r.opt.descriptionClasses)},{default:s(()=>[q(b(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):E("",!0)]),_:2},1040)]),option:s(r=>[a(Gt,Pt(Et(r.itemProps)),{default:s(()=>[a(gt,{avatar:"",class:"content-end"},{default:s(()=>[a(bt,null,{default:s(()=>[q(b(r.opt.label),1)]),_:2},1024)]),_:2},1024),r.opt.description?(p(),g(gt,{key:0},{default:s(()=>[a(bt,{class:se(r.opt.descriptionClasses)},{default:s(()=>[q(b(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):E("",!0)]),_:2},1040)]),_:1},16))}},Oo={__name:"BalanceTokenSelect",props:{index:{type:Number,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.contract,d=c.contract;c.is_native?i.push({label:u,value:_}):i.push({label:u,value:_,description:d,descriptionClasses:"mono"})}),i}),{rows:n}=je(I({index:A(()=>e.index)}),i=>i.balances);return(i,c)=>{const u=Ut;return p(),g(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},td={__name:"AddressTokenSelect",props:{address:{type:String,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.contract,d=c.decimals||0,m=c.contract,f="mono",h=c.is_native;var w={label:u,value:_,decimals:d};h||(w={...w,description:m,descriptionClasses:f}),i.push(w)}),i}),{rows:n}=tr(I({id:A(()=>e.address)}),i=>i.balances);return(i,c)=>{const u=Ut;return p(),g(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},_l={__name:"WalletSelect",props:It({nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},{modelValue:{type:[Number,Object],required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,{t:r}=W(),n=v(()=>{const c=[];return l.nullItem&&c.push({label:l.nullLabel,value:null}),i.value.map(u=>{const _=`${r("market_menu.wallet")} #${u.account}`,d=u.account,m=u.address,f=u.address;c.push({label:_,value:d,address:m,description:f,descriptionClasses:"mono"})}),c}),{rows:i}=uo();return _e(()=>{i.value.length>0&&!e.value&&(e.value=n.value[0].value)}),(c,u)=>{const _=Ut;return p(),g(_,Ie({modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d)},c.$attrs,{options:o(n)}),null,16,["modelValue","options"])}}},ld=t=>{const e=v(()=>t.value?.isValid??!1),l=v(()=>t.value?.isValidConfirmed??!1);return{isValid:e,isValidConfirmed:l}},Le=(t,e)=>{const{isValid:l,isValidConfirmed:r}=ld(t),n=v(()=>l.value&&!e.value),i=v(()=>r.value&&!e.value);return{isValid:l,isValidConfirmed:r,isValidUnlocked:n,isValidConfirmedUnlocked:i}},od={class:"q-gutter-y-sm"},ad={class:"row q-gutter-x-sm"},nd={class:"row justify-end q-col-gutter-sm"},sd={class:"row"},rd={class:"col"},id={class:"col-11"},ud={class:"row justify-end q-gutter-x-sm"},dd={__name:"AccountSendForm",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t,l={destination:null,amount:null,currency:null,memo:null,feeRatio:null},r=L(null),n=I({...l}),i=L(null),c=()=>{e.target?n.destination=e.target:n.destination=i.value&&i.value?.address};_e(()=>{c()});const u=async()=>{i.value=null,c()},_=v(()=>({index:e.index,amount:n.amount,currency:n.currency,...e.source&&{src_addr:e.source},dst_addr:n.destination,options:{...n.memo&&{memo:n.memo},fee_ratio:n.feeRatio}})),{promptPassphrase:d,isLocked:m}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:f}=Le(r,m),{data:h,isLoading:w,latestError:k}=io(_,f),T=eo(),S=async()=>{const V=await d(),$={..._.value,options:{..._.value.options,passphrase:V}};await T.mutateAsync($)};return(V,$)=>{const F=_l,H=td,K=Oo,Q=Re,ae=De,me=Ce,Z=Ee,ee=Pe,oe=Ve;return p(),g(P,{flat:""},{default:s(()=>[a(oe,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onReset:u,onSubmit:S},{default:s(()=>[a(B,null,{default:s(()=>[y("div",od,[t.source?(p(),g(N,{key:0,"model-value":t.source,label:V.$t("account_send_form.source_address"),readonly:""},null,8,["model-value","label"])):E("",!0),t.target?E("",!0):(p(),g(F,{key:1,modelValue:o(i),"onUpdate:modelValue":$[0]||($[0]=M=>z(i)?i.value=M:null),label:V.$t("account_send_form.destination"),"null-item":"","null-label":V.$t("account_send_form.address_input"),"emit-value":!1,clearable:o(i)?.value!=null,disable:!!t.target},null,8,["modelValue","label","null-label","clearable","disable"])),a(N,{modelValue:o(n).destination,"onUpdate:modelValue":$[1]||($[1]=M=>o(n).destination=M),label:V.$t("account_send_form.destination_address"),placeholder:"mmx1...",rules:[o(Y).required,o(Y).address],"hide-bottom-space":"","input-class":"text-bold",readonly:!!o(i)?.value||!!t.target,clearable:o(n).destination!=null},null,8,["modelValue","label","rules","readonly","clearable"]),y("div",ad,[a(N,{modelValue:o(n).amount,"onUpdate:modelValue":$[2]||($[2]=M=>o(n).amount=M),modelModifiers:{number:!0},label:V.$t("account_send_form.amount"),rules:[o(Y).required,o(Y).amount],"hide-bottom-space":"","input-class":"amount-input",class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),t.source?(p(),g(H,{key:0,modelValue:o(n).currency,"onUpdate:modelValue":$[3]||($[3]=M=>o(n).currency=M),rules:[o(Y).required],address:t.source,label:V.$t("account_send_form.currency"),clearable:o(n).currency!=null,class:"col"},null,8,["modelValue","rules","address","label","clearable"])):(p(),g(K,{key:1,modelValue:o(n).currency,"onUpdate:modelValue":$[4]||($[4]=M=>o(n).currency=M),rules:[o(Y).required],index:t.index,label:V.$t("account_send_form.currency"),clearable:o(n).currency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"]))]),a(N,{modelValue:o(n).memo,"onUpdate:modelValue":$[5]||($[5]=M=>o(n).memo=M),label:"Memo",rules:[o(Y).memo],"_hide-bottom-space":"",clearable:o(n).memo!=null},null,8,["modelValue","rules","clearable"]),y("div",nd,[a(Q,{modelValue:o(n).feeRatio,"onUpdate:modelValue":$[6]||($[6]=M=>o(n).feeRatio=M),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(h),"onUpdate:modelValue":$[7]||($[7]=M=>z(h)?h.value=M:null),loading:o(w),error:o(k),locked:o(m),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",sd,[y("div",rd,[a(me)]),y("div",id,[y("div",ud,[a(Z),a(ee,{label:V.$t("account_send_form.send"),icon:o(zl)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},cd={class:"q-gutter-y-sm"},md={__name:"index",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t;return(l,r)=>{const n=ml,i=Bt,c=Fo;return p(),x("div",cd,[t.source?(p(),g(n,{key:0,address:t.source,"show-empty":""},null,8,["address"])):(p(),g(i,{key:1,index:t.index},null,8,["index"])),a(dd,Pt(Et(e)),null,16),a(c,{index:t.index,limit:10},null,8,["index"])])}}},Cl=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"})),Kt={__name:"TokenSelect",props:{nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=W(),r=v(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),n.value.map(c=>{const u=c.symbol,_=c.currency,d=c.decimals,m=c.currency,f="mono",h=c.is_native;var w={label:u,value:_,decimals:d};h||(w={...w,description:m,descriptionClasses:f}),i.push(w)}),i}),{rows:n}=_t();return(i,c)=>{const u=Ut;return p(),g(u,Ie(i.$attrs,{options:o(r)}),null,16,["options"])}}},_d={class:"q-gutter-y-sm q-mt-sm"},pd={class:"row"},fd={class:"row q-mt-xs"},yd={__name:"AccountHistory",props:{index:{type:Number,required:!0}},setup(t){const e=L(200),l=L(null),r=L(null),n=L();_e(()=>{n.value?.length>0?l.value="RECEIVE":l.value=null});const{t:i}=W(),c=v(()=>[{label:i("account_history_form.any"),value:null},{label:i("account_history_form.spend"),value:"SPEND"},{label:i("account_history_form.receive"),value:"RECEIVE"},{label:i("account_history_form.reward"),value:"REWARD"},{label:"VDF "+i("account_history_form.reward"),value:"VDF_REWARD"},{label:i("account_history_form.tx_fee"),value:"TXFEE"}]);return(u,_)=>{const d=Kt,m=Ro;return p(),x("div",_d,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",pd,[a(be,{modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=f=>z(l)?l.value=f:null),options:o(c),"emit-value":"","map-options":"",label:u.$t("account_history.type"),disable:o(n)?.length>0,clearable:o(l)!==null,class:"col-3"},{"selected-item":s(f=>[y("div",{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Lt))(f.opt.value))},b(f.opt.label),3)]),option:s(f=>[a(Gt,Pt(Et(f.itemProps)),{default:s(()=>[a(gt,null,{default:s(()=>[a(bt,{class:se(("getTypeFieldCssClasses"in u?u.getTypeFieldCssClasses:o(Lt))(f.opt.value))},{default:s(()=>[q(b(f.opt.label),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","disable","clearable"]),a(d,{modelValue:o(r),"onUpdate:modelValue":_[1]||(_[1]=f=>z(r)?r.value=f:null),label:u.$t("account_history.token"),"null-item":"","null-label":u.$t("account_history_form.any"),clearable:o(r)!==null,class:"q-ml-md col"},null,8,["modelValue","label","null-label","clearable"])]),y("div",fd,[a(N,{modelValue:o(n),"onUpdate:modelValue":_[2]||(_[2]=f=>z(n)?n.value=f:null),label:"Memo",class:"col",clearable:""},null,8,["modelValue"])])]),_:1})]),_:1}),a(m,{index:t.index,limit:o(e),type:o(l),currency:o(r),memo:o(n),"export-enabled":"",class:"q-mt-sm"},null,8,["index","limit","type","currency","memo"])])}}},hd=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"})),gd={class:"q-gutter-y-sm"},bd={__name:"AccountLog",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Fo;return p(),x("div",gd,[a(r,{index:t.index,limit:200},null,8,["index"])])}}},vd=Object.freeze(Object.defineProperty({__proto__:null,default:bd},Symbol.toStringTag,{value:"Module"})),wd={class:"q-gutter-y-sm"},xd={class:"row q-gutter-x-sm"},kd={class:"row q-gutter-x-sm"},Sd={class:"row justify-end q-col-gutter-sm"},$d={class:"row"},qd={class:"col"},Td={class:"col-11"},Vd={class:"row justify-end q-gutter-x-sm"},Cd={__name:"AccountOfferForm",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={bidAmount:null,bidCurrency:null,price:null,askCurrency:null,feeRatio:null},r=L(null),n=I({...l}),i=v(()=>{const{bidCurrency:T,askCurrency:S}=n;return T&&S?`${T.label} / ${S.label}`:null}),c=v(()=>({index:e.index,bid:n.bidAmount,bid_currency:n.bidCurrency?.value,price:n.price,ask_currency:n.askCurrency?.value,options:{fee_ratio:n.feeRatio}})),{promptPassphrase:u,isLocked:_}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:d}=Le(r,_),{data:m,isLoading:f,latestError:h}=Hn(c,d),w=jn(),k=async()=>{const T=await u(),S={...c.value,options:{...c.value.options,passphrase:T}};await w.mutateAsync(S)};return(T,S)=>{const V=Oo,$=Kt,F=Re,H=De,K=Ce,Q=Ee,ae=Pe,me=Ve;return p(),g(P,{flat:""},{default:s(()=>[a(me,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onSubmit:k},{default:s(()=>[a(B,null,{default:s(()=>[y("div",wd,[y("div",xd,[a(N,{modelValue:o(n).bidAmount,"onUpdate:modelValue":S[0]||(S[0]=Z=>o(n).bidAmount=Z),modelModifiers:{number:!0},label:T.$t("account_offer_form.offer_amount"),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"col-sm-3 col-xs-12"},null,8,["modelValue","label","rules"]),a(V,{modelValue:o(n).bidCurrency,"onUpdate:modelValue":S[1]||(S[1]=Z=>o(n).bidCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:T.$t("account_offer_form.offer_currency"),clearable:o(n).bidCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",kd,[a(N,{modelValue:o(n).price,"onUpdate:modelValue":S[2]||(S[2]=Z=>o(n).price=Z),modelModifiers:{number:!0},label:T.$t("account_offers.price"),suffix:o(i),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"price col-sm-3 col-xs-12"},null,8,["modelValue","label","suffix","rules"]),a($,{modelValue:o(n).askCurrency,"onUpdate:modelValue":S[3]||(S[3]=Z=>o(n).askCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:T.$t("account_offer_form.receive_currency"),clearable:o(n).askCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",Sd,[a(F,{modelValue:o(n).feeRatio,"onUpdate:modelValue":S[4]||(S[4]=Z=>o(n).feeRatio=Z),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(H,{modelValue:o(m),"onUpdate:modelValue":S[5]||(S[5]=Z=>z(m)?m.value=Z:null),loading:o(f),error:o(h),locked:o(_),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",$d,[y("div",qd,[a(K)]),y("div",Td,[y("div",Vd,[a(Q),a(ae,{label:T.$t("account_offer_form.offer"),icon:o(Ra)},null,8,["label","icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Rd=fe(Cd,[["__scopeId","data-v-193ab7a4"]]),Ld={class:"row justify-end q-gutter-x-xs q-pa-none"},Fd={__name:"AccountOfferTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=L(!0),n=[{label:l("account_offers.any"),value:!1},{label:l("account_offers.open"),value:!0}],i=v(()=>[{label:l("account_offers.offering"),field:"bid_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{field:"bid_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.received"),field:"ask_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:T=>(T.ask_balance_value>0?"text-positive":"")+" dense-amount",align:"right"},{field:"ask_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.price"),field:"display_price",format:T=>parseFloat((1/T).toPrecision(6)),headerStyle:"width: 5%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{name:"price-symbol",field:T=>({symbol1:T.bid_symbol,symbol2:T.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"contract",field:"address",headerStyle:"width: 5%"},{name:"actions"}]),{rows:c,loading:u}=mo(I({index:A(()=>e.index),state:r})),_=L(new Set),d=L(new Set),m=et(),f=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Lp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{_.value.delete(T.address)})},h=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>jp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{d.value.add(T.address)})},w=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Xp),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}})},k=T=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>of),void 0,import.meta.url)),componentProps:{index:e.index,offer:T}}).onOk(()=>{_.value.add(T.address)})};return(T,S)=>{const V=de,$=le("RouterLink");return p(),x(D,null,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(be,{modelValue:o(r),"onUpdate:modelValue":S[0]||(S[0]=F=>z(r)?r.value=F:null),options:n,"emit-value":"","map-options":"",label:T.$t("account_offers.status")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(te,{rows:o(c),columns:o(i),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-price-symbol":s(F=>[a(O,{props:F},{default:s(()=>[y("span",null,b(F.value.symbol1)+" / "+b(F.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-contract":s(F=>[a(O,{props:F},{default:s(()=>[a($,{to:`/explore/address/${F.value}`,class:"text-primary"},{default:s(()=>S[1]||(S[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":s(F=>[a(O,{props:F},{default:s(()=>[y("div",Ld,[a(j,{label:o(l)("account_offers.deposit"),_icon:o(gl),color:"positive",outline:"",onClick:H=>f(F.row)},null,8,["label","_icon","onClick"]),a(j,{disable:!(F.row.ask_balance>0)||o(d).has(F.row.address),label:o(l)("account_contract_summary.withdraw"),_icon:o(zl),color:"negative",outline:"",onClick:H=>h(F.row)},null,8,["disable","label","_icon","onClick"]),a(Zt,{vertical:"",inset:""}),a(j,{label:"Update",_icon:o(gl),color:"primary",outline:"",onClick:H=>w(F.row)},null,8,["_icon","onClick"]),a(j,{disable:!(F.row.bid_balance>0)||o(_).has(F.row.address),label:o(l)("account_offers.revoke"),_icon:o(La),color:"secondary",outline:"",onClick:H=>k(F.row)},null,8,["disable","label","_icon","onClick"])])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(F=>[a(V,{props:F,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])],64)}}},Od={class:"q-gutter-y-sm"},Id={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t;return(l,r)=>{const n=Bt;return p(),x("div",Od,[a(n,{index:e.index},null,8,["index"]),a(Rd,{index:e.index},null,8,["index"]),a(Fd,{index:e.index},null,8,["index"])])}}},Ad=Object.freeze(Object.defineProperty({__proto__:null,default:Id},Symbol.toStringTag,{value:"Module"})),Pd={class:"q-gutter-y-sm"},Ed={__name:"AccountLiquid",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("common.balance"),field:c=>c.balance.value,headerStyle:"width: 8%",align:"right"},{name:"symbol",label:l("common.symbol"),field:"symbol",headerStyle:"width: 6%",align:"left"},{name:"contract",label:l("common.address"),field:"address",headerStyle:"width: 70%",align:"left"},{name:"actions",align:"right"}]),{rows:n,loading:i}=Vs(e);return(c,u)=>{const _=de,d=le("RouterLink");return p(),x("div",Pd,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-actions":s(m=>[a(O,{props:m,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(l)("common.manage"),_icon:o(Fa),outline:"",color:"secondary",to:`/swap/${m.row.address}/liquid`},null,8,["label","_icon","to"])]),_:2},1032,["props"])]),"body-cell-symbol":s(m=>[a(O,{props:m},{default:s(()=>[m.value!="MMX"?(p(),g(d,{key:0,to:`/explore/address/${m.row.currency}`,class:"text-primary"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])):(p(),x(D,{key:1},[q(b(m.value),1)],64))]),_:2},1032,["props"])]),"body-cell-contract":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},b(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Dd=Object.freeze(Object.defineProperty({__proto__:null,default:Ed},Symbol.toStringTag,{value:"Module"})),jd={class:"q-gutter-y-sm"},Wd={class:"row justify-end q-col-gutter-sm"},Md={class:"row"},Bd={class:"col"},Nd={class:"col-11"},Ud={class:"row justify-end q-gutter-x-sm"},Kd={__name:"AccountPlotNFTsCreate",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={name:null,feeRatio:null},r=L(null),n=I({...l}),i=v(()=>({index:e.index,name:n.name,options:{fee_ratio:n.feeRatio}})),{promptPassphrase:c,isLocked:u}=xe(I({index:A(()=>e.index)})),{isValidConfirmed:_}=Le(r,u),d=v(()=>_.value?.095:null),m=Qn(),f=async()=>{const h=await c(),w={...i.value,options:{...i.value.options,passphrase:h}};await m.mutateAsync(w)};return(h,w)=>{const k=Re,T=De,S=Ce,V=Ee,$=Pe,F=Ve;return p(),g(P,{flat:""},{default:s(()=>[a(F,{ref_key:"formRef",ref:r,data:o(n),"default-data":l,onSubmit:f},{default:s(()=>[a(B,null,{default:s(()=>[y("div",jd,[a(N,{modelValue:o(n).name,"onUpdate:modelValue":w[0]||(w[0]=H=>o(n).name=H),rules:[o(Y).required],label:"New PlotNFT Name"},null,8,["modelValue","rules"])]),y("div",Wd,[a(k,{modelValue:o(n).feeRatio,"onUpdate:modelValue":w[1]||(w[1]=H=>o(n).feeRatio=H),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"]),a(T,{modelValue:o(d),"onUpdate:modelValue":w[2]||(w[2]=H=>z(d)?d.value=H:null),class:"col-md-2 col-sm-3 col-xs-6"},null,8,["modelValue"])])]),_:1}),a(B,null,{default:s(()=>[y("div",Md,[y("div",Bd,[a(S)]),y("div",Nd,[y("div",Ud,[a(V),a($,{label:h.$t("common.create")},null,8,["label"])])])])]),_:1})]),_:1},8,["data"])]),_:1})}}},Qd={key:0},zd={class:"key-cell m-bg-grey"},rt={__name:"ListTable",props:{rows:{type:Object,required:!0},data:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{rows:l,data:r,loading:n}=ut(e),i=v(()=>e.rows.map(_=>{const d={};if(_.visible?d.visible=u(_.visible,e.data):d.visible=!0,d.visible){d.value=c(_,e.data);const m=Object.keys(_).filter(f=>["visible","field"].indexOf(f)==-1);for(const f in m){const h=m[f];d[h]=u(_[h],e.data)}}return d})),c=(_,d)=>{var m;if(d){if(_.field instanceof Function)try{m=_.field(d)}catch(f){console.debug(f)}else try{m=d[_.field]}catch(f){console.debug(f)}_.format&&(m=_.format(m))}return m},u=(_,d)=>{var m;if(_ instanceof Function){if(d)try{m=_(d)}catch(f){console.debug(f)}}else m=_;return m};return(_,d)=>{const m=le("RouterLink");return p(),g(At,{flat:""},{default:s(()=>[y("tbody",null,[(p(!0),x(D,null,re(o(i),(f,h)=>(p(),x(D,{key:h},[f.visible?(p(),x("tr",Qd,[y("td",zd,b(f.label),1),y("td",null,[kt(_.$slots,`value-${f.name}`,{item:f},()=>[o(n)||f?.loading?(p(),g(Ot,{key:"text"})):f.to?(p(),g(m,{key:1,to:f.to,class:se(`text-primary ${f.classes}`)},{default:s(()=>[q(b(f.value),1)]),_:2},1032,["to","class"])):(p(),x("div",{key:2,class:se(f.classes)},b(f.value),3)),f.copyToClipboard?(p(),g(o(el),{key:3},{default:s(({copy:w,copied:k})=>[a(j,{"icon-right":o(nl),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:T=>w(f.value)},{default:s(()=>[a(ze,{"model-value":k===!0,"no-parent-event":""},{default:s(()=>d[0]||(d[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:2},1024)):E("",!0)])])])):E("",!0)],64))),128))])]),_:3})}}},Hd={class:"row q-gutter-x-none"},Xd={__name:"AccountPlotNFTsControl",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l,loading:r}=$s(I({id:e.address})),n=v(()=>[{label:"Address",field:i=>i.address,to:i=>`/explore/address/${i.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:i=>i.server_url??"N/A (solo farming)"},{label:"Unlock Height",field:i=>i.unlock_height,visible:i=>i.is_locked}]);return(i,c)=>{const u=Ne,_=rt;return p(),x("div",null,[y("div",Hd,[a(u,null,{default:s(()=>[q(b(o(l)?.name),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(_,{rows:o(n),data:o(l),loading:o(r)},null,8,["rows","data","loading"])]),_:1})])}}},Gd={class:"q-gutter-y-sm q-mt-sm"},Jd={class:"q-gutter-y-sm"},Yd={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=go(),r=A(()=>l.value?.plot_nft_binary),n=I({index:A(()=>e.index),type_hash:A(()=>r.value),owned:!0}),{rows:i,loading:c}=co(n,()=>!!r.value);return(u,_)=>(p(),x("div",Gd,[y("div",Jd,[o(c)?(p(),g(tl,{key:0,query:""})):E("",!0),(p(!0),x(D,null,re(o(i),d=>(p(),g(Xd,{key:d.address,address:d.address},null,8,["address"]))),128))]),a(Kd,Pt(Et(e)),null,16)]))}},Zd=Object.freeze(Object.defineProperty({__proto__:null,default:Yd},Symbol.toStringTag,{value:"Module"})),ec={class:"q-gutter-y-sm q-mt-sm"},tc={__name:"AccountDetails",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=we(),r=v(()=>[{name:"index",label:"Index",field:d=>d,headerClasses:"key-cell",classes:" m-bg-grey",align:"right"},{name:"address",label:"Address",field:d=>d,align:"left"}]),{rows:n}=$t(e,d=>(delete d.is_hidden,d)),{rows:i}=fs(e),{rows:c,loading:u}=dl({...e,limit:1e3}),_=()=>{window.mmx.copyKeysToPlotter(JSON.stringify(i.value))};return(d,m)=>{const f=Nt,h=de,w=le("RouterLink");return p(),x("div",ec,[a(f,{data:o(n)},null,8,["data"]),a(f,{data:o(i)},null,8,["data"]),o(l).isWinGUI&&o(i)?(p(),g(j,{key:0,label:d.$t("account_details.copy_keys_to_plotter"),color:"primary",outline:"",onClick:_},null,8,["label"])):E("",!0),a(te,{rows:o(c),columns:o(r),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":s(k=>[a(O,{props:k},{default:s(()=>[q(b(k.rowIndex),1)]),_:2},1032,["props"])]),"body-cell-address":s(k=>[a(O,{props:k},{default:s(()=>[a(w,{to:`/explore/address/${k.value}`,class:"text-primary mono"},{default:s(()=>[q(b(k.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(k=>[a(h,{props:k,"row-count":o(n).num_addresses??1},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns"])])}}},lc=Object.freeze(Object.defineProperty({__proto__:null,default:tc},Symbol.toStringTag,{value:"Module"})),oc={class:"q-gutter-y-sm q-mt-sm"},ac={class:"row q-gutter-x-sm"},nc={class:"q-mt-md row justify-end"},sc={__name:"AccountOptions",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=W(),r=et(),n=ot(),{rows:i}=$t(e),c=I({name:"",num_addresses:1});_e(()=>{c.name=i.value.name,c.num_addresses=i.value.num_addresses});const u=Vi(),_=Ri(),d=Fi(),m=()=>{d.mutate({index:e.index,count:c.num_addresses})},f=()=>{_.mutate(e.index)},h=cs(),w=async()=>{await h.mutateAsync(e,{onSuccess:S=>{r.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>sf),void 0,import.meta.url)),componentProps:{seed:S.string,withPassphrase:i.value.with_passphrase,fingerPrint:i.value.finger_print}})}})},k=()=>{r.dialog({title:"Remove Wallet",message:"To recover any funds you will need to re-create the wallet from a stored backup!",cancel:!0,persistent:!0,ok:{label:"Remove",color:"negative"}}).onOk(()=>{const S=i.value.key_file,V={index:i.value.account,account:i.value.index};u.mutate(V,{onSuccess:()=>T(S)})})},T=S=>{r.dialog({type:"warning",title:"Wallet removed",message:`Wallet file ${S} needs to be deleted manually`,persistent:!0,cancel:!1}).onOk(()=>{n.push("/wallet/")})};return(S,V)=>(p(),x("div",oc,[a(P,{flat:""},{default:s(()=>[a(B,{class:"q-gutter-x-xs"},{default:s(()=>[a(ll,{onSubmit:m},{default:s(()=>[y("div",ac,[a(N,{modelValue:o(c).name,"onUpdate:modelValue":V[0]||(V[0]=$=>o(c).name=$),label:o(l)("create_wallet.account_name"),readonly:"",class:"col"},null,8,["modelValue","label"]),a(N,{modelValue:o(c).num_addresses,"onUpdate:modelValue":V[1]||(V[1]=$=>o(c).num_addresses=$),modelModifiers:{number:!0},label:o(l)("create_wallet.number_of_addresses"),class:"col-3"},null,8,["modelValue","label"])]),y("div",nc,[a(j,{label:"Update",type:"submit",color:"positive",outline:"",class:"col-2"})])]),_:1})]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,{class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:S.$t("account_actions.reset_cache"),color:"secondary",outline:"",onClick:f},null,8,["label"]),a(j,{label:S.$t("account_actions.show_seed"),color:"secondary",outline:"",onClick:w},null,8,["label"]),t.index>=100?(p(),g(j,{key:0,color:"negative",outline:"",onClick:k},{default:s(()=>V[2]||(V[2]=[q("Remove")])),_:1})):E("",!0)]),_:1})]),_:1})]))}},rc=Object.freeze(Object.defineProperty({__proto__:null,default:sc},Symbol.toStringTag,{value:"Module"})),ic={class:"q-gutter-y-sm"},uc={__name:"FarmerRewards",setup(t){const{t:e}=W(),l=v(()=>[{label:"No. Blocks",field:"num_blocks"},{label:"Last Height",field:"last_height",format:k=>k>0?k:"N/A"},{label:"Total Rewards",field:"total_rewards_value",classes:"main-currency"},{label:"Time to win",field:()=>w,format:k=>`${k.value} (on average)`,loading:m.value}]),r=v(()=>[{label:"Reward",field:k=>k.value,headerStyle:"width: 5%"},{field:k=>"MMX",headerStyle:"width: 5%"},{name:"address",label:e("transaction_view.address"),field:k=>k.address,align:"left"}]),{data:n,loading:i}=_o({since:1e4}),{rows:c,loading:u}=il(),{rows:_,loading:d}=qt(),m=v(()=>i.value||u.value||d.value),f=v(()=>c.value.total_space),h=v(()=>_.value.total_bytes_effective/1e9),w=v(()=>{if(f.value&&h.value){const k=f.value/h.value/6;if(k<=60)return Math.floor(k)+" minutes";const T=k/60;if(T<=24)return Math.floor(T)+" hours and "+Math.floor(k%60)+" minutes";const S=T/24;return Math.floor(S)+" days and "+Math.floor(T%24)+" hours"}return"N/A"});return(k,T)=>{const S=rt,V=le("RouterLink");return p(),x("div",ic,[a(S,{rows:o(l),data:o(n),loading:o(i)},null,8,["rows","data","loading"]),a(te,{rows:o(n)?.rewards??[],columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-address":s($=>[a(O,{props:$},{default:s(()=>[a(V,{to:`/explore/address/${$.value}`,class:"text-primary mono"},{default:s(()=>[q(b($.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},dc={__name:"FarmerMenu",setup(t){const{t:e}=W(),l=v(()=>[{to:"/farmer/plots",label:e("farmer_menu.plots")},{to:"/farmer/plotnfts",label:"NFTs"},{to:"/farmer/blocks",label:e("farmer_menu.blocks")},{to:"/farmer/proofs",label:e("farmer_menu.proofs")}]);return(r,n)=>(p(),g(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:s(()=>[(p(!0),x(D,null,re(o(l),(i,c)=>(p(),g(Qe,{key:c,to:i.to,label:i.label},null,8,["to","label"]))),128))]),_:1}))}},cc={class:"q-gutter-y-sm"},mc={__name:"index",setup(t){return(e,l)=>{const r=Ae;return p(),g(lt,{padding:""},{default:s(()=>[y("div",cc,[a(o(ko)),a(o(uc)),y("div",null,[a(o(dc)),a(r)])])]),_:1})}}},_c=Object.freeze(Object.defineProperty({__proto__:null,default:mc},Symbol.toStringTag,{value:"Module"})),pc={__name:"FarmerPlotDirs",setup(t){const{t:e}=W(),l=v(()=>[{label:e("farmer_plot_dirs.path"),field:i=>i,headerStyle:"width: 7%",align:"left"}]),{data:r,loading:n}=qt();return(i,c)=>(p(),g(te,{rows:o(r)?.plot_dirs??[],columns:o(l),loading:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},null,8,["rows","columns","loading"]))}},fc={class:"q-gutter-y-sm"},yc={class:"row q-gutter-x-xs"},hc={class:"row justify-end"},gc={__name:"FarmerPlotsIndex",setup(t){const{t:e}=W(),l=v(()=>[{label:e("farmer_plots.type"),field:"ksize",format:d=>`K${d}`,headerStyle:"width: 20%"},{label:e("farmer_plots.count"),field:"count",align:"left",style:"font-weight: bold;"}]),r=v(()=>[{label:e("common.harvester"),field:"name",headerStyle:"width: 12%"},{label:e("farmer_info.physical_size"),field:"bytes",format:d=>(d/Math.pow(1e3,4)).toFixed(3),xclasses:"physical-size",headerStyle:"width: 20%"},{label:"Effective Size",field:"effective",format:d=>(d/Math.pow(1e3,4)).toFixed(3),xclasses:"effective-size",align:"left"}]),n=d=>{var m={plot_count:[],harvester_bytes:[]};for(const f of d.plot_count)m.plot_count.push({ksize:f[0],count:f[1]});for(const f of d.harvester_bytes)m.harvester_bytes.push({name:f[0],bytes:f[1][0],effective:f[1][1]});return m},{rows:i,loading:c}=qt(n),u=Si(),_=()=>{u.mutate()};return(d,m)=>(p(),x("div",fc,[y("div",yc,[a(te,{rows:o(i)?.plot_count??[],columns:o(l),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col-4"},null,8,["rows","columns","loading"]),a(te,{rows:o(i)?.harvester_bytes??[],columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col"},{"body-cell":s(f=>[a(O,{props:f},{default:s(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(f))},b(f.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),a(pc),y("div",hc,[a(j,{label:d.$t("farmer_plots.reload_plots"),icon:o(Oa),size:"md",rounded:"",outline:"",color:"primary",onClick:_},null,8,["label","icon"])])]))}},bc=fe(gc,[["__scopeId","data-v-b314c313"]]),vc=Object.freeze(Object.defineProperty({__proto__:null,default:bc},Symbol.toStringTag,{value:"Module"})),wc={class:"row q-gutter-x-none"},xc={__name:"PlotNFTInfo",props:{address:{type:String,required:!0},data:{type:Object,required:!0}},setup(t){const e=t,l=v(()=>[{label:"Address",field:r=>e.address,to:r=>`/explore/address/${r.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:r=>r.server_url??"N/A (solo farming)"},{label:"Pool Target",field:r=>r.pool_target,to:r=>`/explore/address/${r.pool_target}`,classes:"mono",visible:r=>r.pool_target},{label:"Partial Difficulty",field:r=>r.partial_diff,visible:r=>r.server_url},{label:"Plot Count",field:r=>r.plot_count}]);return(r,n)=>{const i=Ne,c=rt;return p(),x("div",null,[y("div",null,[y("div",wc,[a(i,null,{default:s(()=>[q(b(t.data.name),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(c,{rows:o(l),data:t.data},null,8,["rows","data"])]),_:1})])])}}},kc={class:"q-pt-sm q-gutter-y-sm"},Sc={__name:"FarmerPlotNFTsIndex",setup(t){const{data:e}=qt(),l=v(()=>e.value?.pool_info??[]);return(r,n)=>(p(),x("div",kc,[(p(!0),x(D,null,re(o(l),i=>(p(),g(xc,{key:i,address:i[0],data:i[1]},null,8,["address","data"]))),128)),o(l)&&!o(l).length?(p(),x(D,{key:0},[a(Jt,{rounded:""},{avatar:s(()=>[a($e,{name:o(Ql),color:"warning"},null,8,["name"])]),default:s(()=>[n[0]||(n[0]=q(" No NFT plots found "))]),_:1}),a(Jt,{rounded:""},{avatar:s(()=>[a($e,{name:o(Ia),color:"info"},null,8,["name"])]),default:s(()=>[n[1]||(n[1]=q(" Need to create a PlotNFT in Wallet first to plot NFT plots "))]),_:1})],64)):E("",!0)]))}},$c=Object.freeze(Object.defineProperty({__proto__:null,default:Sc},Symbol.toStringTag,{value:"Module"})),qc={class:"q-gutter-y-sm"},Tc={__name:"FarmerBlocksIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("farmer_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"TX",field:"tx_count",headerStyle:"width: 7%"},{label:"K",field:"ksize",headerStyle:"width: 7%"},{label:l("farmer_blocks.score"),field:"score",headerStyle:"width: 7%"},{label:l("farmer_blocks.reward"),field:c=>c.reward_amount.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.tx_fees"),field:c=>c.tx_fees.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),align:"left"}]),{rows:n,loading:i}=Fs(e);return(c,u)=>{const _=le("RouterLink");return p(),x("div",qc,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":s(d=>[a(O,{props:d},{default:s(()=>[a(_,{to:`/explore/block/height/${d.value}`,class:"text-primary"},{default:s(()=>[q(b(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(d=>[a(O,{props:d},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(d))},b(d.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},Vc=Object.freeze(Object.defineProperty({__proto__:null,default:Tc},Symbol.toStringTag,{value:"Module"})),Cc={class:"q-gutter-y-sm"},Rc={__name:"FarmerProofsIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:"VDF height",field:"vdf_height",headerStyle:"width: 7%"},{label:l("farmer_proofs.harvester"),field:"harvester",headerStyle:"width: 7%",align:"left"},{label:l("farmer_proofs.score"),field:c=>c.proof.score,headerStyle:"width: 7%"},{label:l("farmer_proofs.sdiff"),field:c=>c.proof.difficulty,headerStyle:"width: 7%"},{label:l("farmer_proofs.time"),field:"lookup_time_ms",headerStyle:"width: 7%",format:c=>(c/1e3).toFixed(3)},{label:l("farmer_proofs.plot_id"),field:c=>c.proof?.plot_id,align:"left",classes:"mono"}]),{rows:n,loading:i}=Is(e);return(c,u)=>{const _=le("RouterLink");return p(),x("div",Cc,[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":s(d=>[a(O,{props:d},{default:s(()=>[a(_,{to:`/explore/block/height/${d.value}`,class:"text-primary"},{default:s(()=>[q(b(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},Lc=Object.freeze(Object.defineProperty({__proto__:null,default:Rc},Symbol.toStringTag,{value:"Module"})),Fc={__name:"ExploreSearchBar",setup(t){const e=ot(),l=xt(),r=v(()=>l.params.height||l.params.hash||l.params.transactionId||l.params.address||l.params.farmerKey||""),n=L(r.value),i=L(!1);_e(()=>n.value=r.value);const c=js(),u=()=>{const _=/[0-9A-Fa-f]{64}/g,d=/^\d+$/;i.value=!1,n.value&&(n.value.startsWith("mmx1")?e.push("/explore/address/"+n.value):_.test(n.value)?n.value.length==64?c.mutate({hash:n.value},{onSettled:m=>{m?e.push("/explore/block/hash/"+n.value):e.push("/explore/transaction/"+n.value)}}):n.value.length==66?e.push("/explore/farmer/"+n.value):i.value=!0:d.test(n.value)?e.push("/explore/block/height/"+n.value):i.value=!0)};return(_,d)=>(p(),g(N,{modelValue:o(n),"onUpdate:modelValue":d[0]||(d[0]=m=>z(n)?n.value=m:null),placeholder:_.$t("explore_menu.placeholder"),error:o(i),"hide-bottom-space":"",outlined:"",onKeyup:Pl(u,["enter"])},{append:s(()=>[a($e,{name:o(Aa),onClick:u},null,8,["name"])]),_:1},8,["modelValue","placeholder","error"]))}};class Oc{constructor(){this.queryClient=G(),this.router=ot()}path(e){if(e){const l=this.router.resolve(e);l.meta?.prefetcher&&l.meta.prefetcher(this.queryClient,l)}return e}}const Ic=()=>new Oc,Ac={__name:"ExploreMenu",setup(t){const e=Ic(),l=i=>{e.path("/explore/farmers")},{t:r}=W(),n=v(()=>[{to:"/explore/blocks",label:r("explore_menu.blocks")},{to:"/explore/transactions",label:r("explore_menu.transactions")},{to:"/explore/farmers",label:r("explore_menu.farmers"),prefetcher:l}]);return(i,c)=>(p(),g(tt,{align:"left","indicator-color":"primary"},{default:s(()=>[a(We,{class:"m-bg-grey"},{default:s(()=>[(p(!0),x(D,null,re(o(n),(u,_)=>(p(),g(Qe,{key:_,to:u.to,label:u.label,icon:u.icon,onClick:u.click,onMouseover:d=>u.prefetcher&&u.prefetcher(u.to)},null,8,["to","label","icon","onClick","onMouseover"]))),128))]),_:1})]),_:1}))}},Pc={class:"q-gutter-y-sm"},Ec={__name:"index",setup(t){const e=xt();return(l,r)=>{const n=Ae;return p(),g(lt,{padding:""},{default:s(()=>[y("div",Pc,[a(o(Fc)),a(P,{flat:""},{default:s(()=>[a(o(Ac)),a(n,{show:!!o(e).meta.indexPage},null,8,["show"])]),_:1}),a(n,{show:!o(e).meta.indexPage},null,8,["show"])])]),_:1})}}},Dc=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"})),jc={class:"q-gutter-y-sm"},Wc={class:"row q-gutter-x-none"},Mc={__name:"BlockView",props:{hash:{type:String,required:!1},height:{type:Number,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("block_view.height"),field:"height"},{label:l("block_view.hash"),field:"hash",classes:"mono"},{label:l("block_view.previous"),field:"prev",classes:"mono"},{label:l("block_view.time"),field:"time_stamp",format:f=>new Date(f).toLocaleString()},{label:"Reward Address",field:f=>f.reward_addr,to:f=>`/explore/address/${f.reward_addr}`,classes:"mono",visible:f=>f.reward_addr},{label:"Reward Contract",field:f=>f.reward_contract,to:f=>`/explore/address/${f.reward_contract}`,classes:"mono",visible:f=>f.reward_contract},{label:"Farmer Address",field:f=>f.reward_account,to:f=>`/explore/address/${f.reward_account}`,classes:"mono",visible:f=>f.reward_account},{label:"Block Reward",field:f=>f.reward_amount.value,classes:"main-currency"},{label:"TX Fees",field:f=>f.tx_fees.value,classes:"main-currency"},{label:l("block_view.tx_count"),field:f=>f.tx_count},{label:l("block_view.time_diff"),field:"time_diff"},{label:l("block_view.space_diff"),field:f=>f,format:f=>`${f.space_diff}${f.is_space_fork?"(updated)":""}`},{label:"Reward Vote",field:"reward_vote"},{label:"Reward Vote Sum",field:f=>f,format:f=>`${f.reward_vote_sum} / ${f.reward_vote_count} (${(f.reward_vote_count/(f.height%8640+1)*100).toFixed(1)} %)`},{label:"Base Reward",field:f=>f.base_reward.value,classes:"main-currency"},{label:"Avg. TX Fee",field:f=>f.average_txfee.value,classes:"main-currency"},{label:"VDF Height",field:"vdf_height"},{label:"VDF Count",field:"vdf_count"},{label:l("block_view.vdf_iterations"),field:"vdf_iters"},{name:"vdf_reward_addr",label:"Timelord",field:f=>f.vdf_reward_addr},{label:"Timelord Reward",field:"vdf_reward_payout",to:f=>`/explore/address/${f.vdf_reward_payout}`,visible:f=>f.vdf_reward_payout,classes:"mono"},{label:l("block_view.k_size"),field:f=>f.ksize},{label:l("block_view.proof_score"),field:f=>f.score},{label:"No. Proofs",field:f=>f.proof.length},{label:"Space Fork",field:f=>f,format:f=>`${f.space_fork_proofs} / ${f.space_fork_len}`},{label:l("block_view.plot_id"),field:f=>f.proof[0].plot_id,visible:f=>f.proof[0],classes:"mono"},{label:"Challenge",field:f=>f.proof[0].challenge,visible:f=>f.proof[0]},{label:l("block_view.farmer_key"),field:f=>f.farmer_key,to:f=>`/explore/farmer/${f.farmer_key}`,classes:"mono"}]),n=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("block_view.inputs"),field:f=>f.inputs.length+(f.exec_result?f.exec_result.inputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.outputs"),field:f=>f.outputs.length+(f.exec_result?f.exec_result.outputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.operations"),field:f=>f.execute.length,headerStyle:"width: 7%"},{name:"id",label:l("block_view.transaction_id"),field:f=>f.id,align:"left"}]),{data:i,loading:c,noData:u}=Es(e),_=v(()=>e.height??i.value?.height??null),d=v(()=>i?.value?`/explore/block/hash/${i.value.prev}`:e.height!=null?`/explore/block/height/${e.height-1}`:null),m=v(()=>i?.value?`/explore/block/height/${i.value.height+1}`:e.height!=null?`/explore/block/height/${e.height+1}`:null);return(f,h)=>{const w=Ne,k=Tt,T=le("RouterLink"),S=rt;return p(),x("div",jc,[y("div",null,[y("div",Wc,[a(w,null,{default:s(()=>[q(b(f.$t("block_view.block")),1)]),_:1}),a(w,null,{default:s(()=>[q(b(o(_)),1)]),_:1}),o(u)?E("",!0):(p(),g(w,{key:0},{default:s(()=>[q(b(o(i)?.hash),1)]),_:1})),a(El),a(ua,{rounded:""},{default:s(()=>[a(j,{to:o(d),icon:o(Pa),outline:"",disable:o(_)<=0},null,8,["to","icon","disable"]),a(j,{to:o(m),"icon-right":o(Ea),outline:"",disable1:o(u)},null,8,["to","icon-right","disable1"])]),_:1})]),a(P,{flat:""},{default:s(()=>[o(u)?(p(),g(k,{key:0,icon:o(Da),title:f.$t("block_view.no_such_block")},null,8,["icon","title"])):(p(),g(S,{key:1,rows:o(r),data:o(i),loading:o(c)},{"value-vdf_reward_addr":s(({item:V})=>[(p(!0),x(D,null,re(V.value,($,F)=>(p(),x("div",{key:$},[y("span",null,"["+b(F)+"] ",1),a(T,{to:`/explore/address/${$}`,class:"text-primary mono"},{default:s(()=>[q(b($),1)]),_:2},1032,["to"])]))),128))]),_:1},8,["rows","data","loading"]))]),_:1})]),o(i)&&o(i).tx_list.length?(p(),g(te,{key:0,rows:o(i).tx_list,columns:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-index":s(V=>[a(O,{props:V},{default:s(()=>[q(" TX["+b(V.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-id":s(V=>[a(O,{props:V},{default:s(()=>[a(T,{to:`/explore/transaction/${V.value}`,class:"text-primary mono"},{default:s(()=>[q(b(V.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):E("",!0)])}}},Rl=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"})),Bc={__name:"TransactionsIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("explore_transactions.height"),field:"height",headerStyle:"width: 7%"},{label:l("explore_transactions.type"),field:"note",headerStyle:"width: 10%"},{label:l("explore_transactions.fee"),field:c=>c.fee.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("explore_transactions.n_in"),field:c=>c.inputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_out"),field:c=>c.outputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_op"),field:c=>c.operations.length,headerStyle:"width: 5%"},{name:"id",label:l("explore_transactions.transaction_id"),field:"id"},{label:l("account_tx_history.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),align:"left"}]),{rows:n,loading:i}=Ms(e);return(c,u)=>{const _=de,d=le("RouterLink");return p(),g(P,{flat:""},{default:s(()=>[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-id":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(b(("getShortHash"in c?c.getShortHash:o(Mt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(Be))(m))},b(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Nc=Object.freeze(Object.defineProperty({__proto__:null,default:Bc},Symbol.toStringTag,{value:"Module"})),Ll={__name:"InputOutputTable",props:{rows:{type:Object,required:!0},isInput:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=W(),r=e.isInput?l("transaction_view.input"):l("transaction_view.output"),n=v(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("transaction_view.amount"),field:i=>i.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("transaction_view.token"),field:i=>i.symbol,headerStyle:"width: 7%"},{name:"address",label:l("transaction_view.address"),field:i=>i.address,align:"left"},{label:"Memo",field:i=>i.memo,headerStyle:"width: 50%",align:"left"}]);return(i,c)=>{const u=de,_=le("RouterLink");return t.rows.length>0?(p(),g(te,{key:0,rows:t.rows,columns:o(n),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":s(d=>[a(O,{props:d},{default:s(()=>[q(b(o(r))+"["+b(d.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-token":s(d=>[a(O,{props:d},{default:s(()=>[d.row.is_native?(p(),x(D,{key:0},[q(b(d.value),1)],64)):(p(),g(_,{key:1,to:`/explore/address/${d.row.contract}`,class:"text-primary"},{default:s(()=>[q(b(d.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":s(d=>[a(O,{props:d},{default:s(()=>[a(_,{to:`/explore/address/${d.value}`,class:"text-primary mono"},{default:s(()=>[q(b(d.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:s(d=>[a(u,{props:d,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns"])):E("",!0)}}},Uc={class:"q-gutter-y-sm"},Kc={class:"row q-gutter-x-none"},Qc={class:"row q-gutter-x-none"},zc={key:0},Hc={class:"row q-gutter-x-none"},Xc={__name:"index",props:{transactionId:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("transaction_view.height"),field:"height",to:u=>u.height!=null?`/explore/block/height/${u.height}`:null,format:u=>u??l("common.pending"),classes:u=>u.height==null?"text-italic":""},{label:l("transaction_view.message"),field:"message",visible:u=>u.did_fail},{label:l("transaction_view.confirmed"),field:"confirm",visible:u=>u.confirm},{label:l("transaction_view.expires"),field:"expires",visible:u=>u.expires<4294967295},{label:l("transaction_view.note"),field:"note"},{label:l("transaction_view.time"),field:"time_stamp",format:u=>new Date(u).toLocaleString(),visible:u=>u.time},{label:l("transaction_view.address"),field:"address",to:u=>`/explore/address/${u.address}`,visible:u=>u.deployed,classes:"mono"},{label:l("transaction_view.sender"),field:"sender",to:u=>`/explore/address/${u.sender}`,visible:u=>u.sender,classes:"mono"},{label:l("transaction_view.cost"),field:u=>u.cost.value,classes:"main-currency"},{label:l("transaction_view.fee"),field:u=>u.fee.value,classes:"main-currency"}]),{data:n,loading:i,noData:c}=Ns(I({id:A(()=>e.transactionId)}));return(u,_)=>{const d=Ne,m=Tt,f=rt,h=Nt;return p(),x("div",Uc,[y("div",null,[y("div",Kc,[a(d,null,{default:s(()=>[q(b(u.$t("transaction_view.transaction")),1)]),_:1}),a(d,null,{default:s(()=>[q(b(t.transactionId),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[o(c)?(p(),g(m,{key:0,icon:o(ja),title:u.$t("transaction_view.no_such_transaction")},null,8,["icon","title"])):(p(),g(f,{key:1,rows:o(r),data:o(n),loading:o(i)},null,8,["rows","data","loading"]))]),_:1})]),o(n)?(p(),x(D,{key:0},[a(P,{flat:""},{default:s(()=>[a(Ll,{rows:o(n).inputs,"is-input":"",loading:o(i)},null,8,["rows","loading"])]),_:1}),a(P,{flat:""},{default:s(()=>[a(Ll,{rows:o(n).outputs,"is-input":!1,loading:o(i)},null,8,["rows","loading"])]),_:1}),(p(!0),x(D,null,re(o(n).operations,(w,k)=>(p(),x("div",{key:k},[y("div",Qc,[a(d,null,{default:s(()=>[q(" Operation["+b(k)+"] ",1)]),_:2},1024),a(d,null,{default:s(()=>[q(b(w.__type),1)]),_:2},1024)]),a(P,{flat:""},{default:s(()=>[a(h,{data:w},null,8,["data"])]),_:2},1024)]))),128)),o(n).deployed?(p(),x("div",zc,[y("div",Hc,[a(d,null,{default:s(()=>[q(b(o(n).deployed.__type),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(h,{data:o(n).deployed},null,8,["data"])]),_:1})])):E("",!0)],64)):E("",!0)])}}},Gc=Object.freeze(Object.defineProperty({__proto__:null,default:Xc},Symbol.toStringTag,{value:"Module"})),Jc={key:0},Yc={class:"prevent-select"},Zc={style:{"font-size":"0px"}},em={__name:"FarmersIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"place",headerStyle:"width: 5%",align:"center"},{label:l("explore_farmers.no_blocks"),field:"block_count",headerStyle:"width: 5%"},{name:"farmer_key",label:l("explore_farmers.farmer_key"),field:"farmer_key",align:"left"}]),{rows:n,loading:i}=Us(e);return(c,u)=>{const _=de,d=le("RouterLink");return p(),g(P,{flat:""},{default:s(()=>[a(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-farmer_key":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/farmer/${m.value}`,class:"text-primary mono"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-place":s(m=>[a(O,{props:m},{default:s(()=>[m.rowIndex<3?(p(),x("span",Jc,[y("span",Yc,b(["🥇","🥈","🥉"][m.rowIndex]),1),y("span",Zc,b(m.rowIndex+1),1)])):(p(),x(D,{key:1},[q(b(m.rowIndex+1),1)],64))]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},tm=fe(em,[["__scopeId","data-v-30fd88b1"]]),lm=Object.freeze(Object.defineProperty({__proto__:null,default:tm},Symbol.toStringTag,{value:"Module"})),om={class:"q-gutter-y-sm"},am={class:"row q-gutter-x-none"},nm={__name:"FarmerView",props:{farmerKey:{type:String,required:!0},limit:{type:Number,required:!1,default:100}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:"No. Blocks",field:"block_count"},{label:"Total Rewards",field:"total_reward_value",classes:"main-currency"}]),n=v(()=>[{label:"Reward",field:"value",headerClasses:"key-cell"},{label:"",field:()=>"MMX",headerStyle:"width: 7%",align:"left"},{name:"address",label:l("transaction_view.address"),field:"address",align:"left"}]),{data:i,loading:c}=zs(I({id:A(()=>e.farmerKey)})),{rows:u,loading:_}=Xs(I({id:A(()=>e.farmerKey),limit:A(()=>e.limit)}));return(d,m)=>{const f=Ne,h=rt,w=de,k=le("RouterLink"),T=$o;return p(),x("div",om,[y("div",null,[y("div",am,[a(f,null,{default:s(()=>m[0]||(m[0]=[q("Farmer")])),_:1}),a(f,null,{default:s(()=>[q(b(t.farmerKey),1)]),_:1})]),a(P,{flat:""},{default:s(()=>[a(h,{rows:o(r),data:o(i),loading:o(c)},null,8,["rows","data","loading"])]),_:1})]),a(P,{flat:""},{default:s(()=>[a(te,{rows:o(i)?o(i).rewards:[],columns:o(n),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-address":s(S=>[a(O,{props:S},{default:s(()=>[a(k,{to:`/explore/address/${S.value}`,class:"text-primary mono"},{default:s(()=>[q(b(S.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:s(S=>[a(w,{props:S,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1}),a(P,{flat:""},{default:s(()=>[a(T,{rows:o(u),loading:o(_),class:"q-py-sm"},null,8,["rows","loading"])]),_:1})])}}},sm=Object.freeze(Object.defineProperty({__proto__:null,default:nm},Symbol.toStringTag,{value:"Module"})),rm={__name:"AddressHistoryTable",props:{address:{type:String,required:!0},limit:{type:Number,default:100,required:!1},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("address_history_table.height"),field:"height",headerStyle:"width: 7%"},{label:l("address_history_table.type"),field:"type",headerStyle:"width: 7%",classes:c=>Lt(c.type)},{label:l("address_history_table.amount"),field:c=>c?.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("address_history_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"txid",label:"Transaction ID",field:"txid",headerStyle:"width: 20%"},{label:"Memo",field:"memo",style:"word-break: break-all",align:"left"},{label:l("address_history_table.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 12%",classes:"text-no-wrap",align:"left"}]),{rows:n,loading:i}=Zs(I({limit:A(()=>e.limit),id:A(()=>e.address)}));return(c,u)=>{const _=de,d=le("RouterLink"),m=Co;return o(i)||!o(i)&&(o(n)?.length||t.showEmpty)?(p(),g(te,{key:0,rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":s(f=>[a(O,{props:f},{default:s(()=>[a(d,{to:`/explore/block/height/${f.value}`,class:"text-primary"},{default:s(()=>[q(b(f.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-token":s(f=>[a(O,{props:f},{default:s(()=>[f.row.is_native?(p(),x(D,{key:0},[q(b(f.row.is_nft?"[NFT]":f.value),1)],64)):(p(),g(d,{key:1,to:`/explore/address/${f.row.contract}`,class:"text-primary mono"},{default:s(()=>[q(b(f.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-txid":s(f=>[a(O,{props:f},{default:s(()=>[a(m,{id:f.value,type:f.row.type,class:"text-primary mono"},{default:s(()=>[q(b(("getShortHash"in c?c.getShortHash:o(Mt))(f.value)),1)]),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(f=>[a(_,{props:f,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):E("",!0)}}},im={class:"q-gutter-y-sm"},um={class:"row q-gutter-x-none"},dm={key:0},cm={__name:"AddressView",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l}=Js(I({id:A(()=>e.address)})),{noData:r}=yo(I({id:A(()=>e.address)}));return(n,i)=>{const c=Ne,u=ml,_=Nt,d=rm,m=Tt;return p(),x("div",im,[y("div",null,[y("div",um,[a(c,null,{default:s(()=>[q(b(n.$t("common.address")),1)]),_:1}),a(c,{copy:""},{default:s(()=>[q(b(t.address),1)]),_:1})]),o(r)?E("",!0):(p(),g(P,{key:0,flat:""},{default:s(()=>[a(u,{address:t.address,"show-empty":""},null,8,["address"])]),_:1}))]),o(l)?(p(),x("div",dm,[a(c,null,{default:s(()=>[q(b(o(l).__type),1)]),_:1}),a(P,{flat:""},{default:s(()=>[a(_,{data:o(l)},null,8,["data"])]),_:1})])):E("",!0),o(r)?E("",!0):(p(),g(P,{key:1,flat:""},{default:s(()=>[a(d,{address:t.address,limit:200,"show-empty":!1},null,8,["address"])]),_:1})),o(r)?(p(),g(m,{key:2,icon:o(Wa),title:"Invalid address"},null,8,["icon"])):E("",!0)])}}},mm=Object.freeze(Object.defineProperty({__proto__:null,default:cm},Symbol.toStringTag,{value:"Module"})),pl=()=>{const t=Te(),{market:e}=Dt(t),{menu:l}=ut(e.value),{bid:r,ask:n}=ut(l.value);return{bid:r,ask:n}},Ge=()=>{const t=Te(),{activeWalletIndex:e}=Dt(t);return{activeWalletIndex:e}},_m={class:"q-gutter-y-sm"},pm={__name:"MarketPageMenu",setup(t){const{bid:e,ask:l}=pl(),{activeWalletIndex:r}=Ge();return(n,i)=>{const c=_l,u=Kt;return p(),x("div",_m,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(c,{modelValue:o(r),"onUpdate:modelValue":i[0]||(i[0]=_=>z(r)?r.value=_:null),label:n.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(u,{modelValue:o(e),"onUpdate:modelValue":i[1]||(i[1]=_=>z(e)?e.value=_:null),label:n.$t("market_menu.they_offer"),clearable:o(e)!==null,"null-item":"","null-label":n.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"]),a(u,{modelValue:o(l),"onUpdate:modelValue":i[2]||(i[2]=_=>z(l)?l.value=_:null),label:n.$t("market_menu.they_ask"),clearable:o(l)!==null,"null-item":"","null-label":n.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},fm={class:"q-gutter-y-sm"},ym={__name:"index",setup(t){return(e,l)=>{const r=Ae;return p(),g(lt,{padding:""},{default:s(()=>[y("div",fm,[a(pm),a(tt,{align:"left","indicator-color":"primary",class:"m-bg-grey"},{default:s(()=>[a(Qe,{to:"/market/offers",label:e.$t("market_menu.offers")},null,8,["label"]),a(Qe,{to:"/market/history",label:e.$t("market_menu.history")},null,8,["label"])]),_:1})]),a(r)]),_:1})}}},hm=Object.freeze(Object.defineProperty({__proto__:null,default:ym},Symbol.toStringTag,{value:"Module"})),gm={class:"row"},bm={key:0,class:"text-orange mono"},vm={__name:"MarketPageOffers",setup(t){const e=L(null),{t:l}=W(),r=v(()=>[{label:l("market_offers.they_offer"),field:"bid_balance_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:k=>({symbol:k.bid_symbol,currency:k.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.they_ask"),field:k=>k.bid_balance_value*k.display_price,format:k=>parseFloat(k.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:k=>({symbol:k.ask_symbol,currency:k.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.price"),field:k=>1/k.display_price,format:k=>parseFloat(k.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:k=>({symbol1:k.bid_symbol,symbol2:k.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.time"),field:"time_stamp",format:k=>new Date(k).toLocaleString(),headerStyle:"width: 12%",align:"left"},{name:"address",field:"address",headerStyle:"width: 1%"},{name:"actions",align:"right"}]),{bid:n,ask:i}=pl(),{activeWalletIndex:c}=Ge(),{rows:u}=_t(),{rows:_,loading:d}=ar(I({bid:A(()=>n.value?.value),ask:A(()=>i.value?.value),min_bid:v(()=>n.value?.value&&e.value?e.value*Math.pow(10,n.value.decimals):null),limit:200})),m=et(),f=k=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>hf),void 0,import.meta.url)),componentProps:{index:c.value,offer:k}})},h=L(new Set),w=k=>{m.dialog({component:Ue(()=>R(()=>Promise.resolve().then(()=>Tf),void 0,import.meta.url)),componentProps:{index:c.value,offer:k}}).onOk(()=>{h.value.add(k.address)})};return(k,T)=>{const S=de,V=le("RouterLink");return p(),x("div",null,[o(n)?.value?(p(),g(P,{key:0,class:"q-my-xs",flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",gm,[a(N,{modelValue:o(e),"onUpdate:modelValue":T[0]||(T[0]=$=>z(e)?e.value=$:null),modelModifiers:{number:!0},debounce:200,suffix:o(n).label,label:"Minimum Offer",rules:[o(Y).amount],"input-class":"amount-input",clearable:o(e)!=null,class:"col-2"},null,8,["modelValue","suffix","rules","clearable"])])]),_:1})]),_:1})):E("",!0),a(te,{rows:o(_),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s($=>[a(O,{props:$},{default:s(()=>[$.value.symbol=="MMX"?(p(),x(D,{key:0},[q(b($.value.symbol),1)],64)):(p(),g(V,{key:1,to:`/explore/address/${$.value.currency}`,class:"text-primary"},{default:s(()=>[q(b($.value.symbol)+" ",1),o(u).some(F=>F.currency==$.value.currency)?E("",!0):(p(),x("span",bm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s($=>[a(O,{props:$},{default:s(()=>[y("span",null,b($.value.symbol1)+" / "+b($.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-address":s($=>[a(O,{props:$},{default:s(()=>[a(V,{to:`/explore/address/${$.value}`,class:"text-primary"},{default:s(()=>T[1]||(T[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":s($=>[a(O,{props:$,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(l)("market_offers.trade"),_icon:o(sl),outline:"",onClick:F=>f($.row)},null,8,["label","_icon","onClick"]),a(j,{label:o(l)("common.accept"),_icon:o(Ma),color:"positive",outline:"",disable:o(h).has($.row.address),onClick:F=>w($.row)},null,8,["label","_icon","disable","onClick"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:s($=>[a(S,{props:$,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},wm=fe(vm,[["__scopeId","data-v-cd0ebac4"]]),xm=Object.freeze(Object.defineProperty({__proto__:null,default:wm},Symbol.toStringTag,{value:"Module"})),km={key:0,class:"text-orange mono"},Sm={__name:"MarketPageHistory",setup(t){const{t:e}=W(),l=v(()=>[{label:e("market_offers.they_offer"),field:"bid_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.bid_symbol,currency:_.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.they_ask"),field:"ask_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:_=>({symbol:_.ask_symbol,currency:_.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.price"),field:_=>1/_.display_price,format:_=>parseFloat(_.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.bid_symbol,symbol2:_.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.time"),field:"time_stamp",format:_=>new Date(_).toLocaleString(),headerStyle:"width: 4%",align:"left"},{name:"offer",field:"address",headerStyle:"width: 3%"},{name:"txid",field:"txid",align:"left"}]),{bid:r,ask:n}=pl(),{rows:i}=_t(),{rows:c,loading:u}=sr(I({bid:A(()=>r.value?.value),ask:A(()=>n.value?.value),limit:200}));return(_,d)=>{const m=de,f=le("RouterLink");return p(),g(te,{rows:o(c),columns:o(l),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(h=>[a(O,{props:h},{default:s(()=>[h.value.symbol=="MMX"?(p(),x(D,{key:0},[q(b(h.value.symbol),1)],64)):(p(),g(f,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:s(()=>[q(b(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?E("",!0):(p(),x("span",km,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(h=>[a(O,{props:h},{default:s(()=>[y("span",null,b(h.value.symbol1)+" / "+b(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-offer":s(h=>[a(O,{props:h},{default:s(()=>[a(f,{to:`/explore/address/${h.value}`,class:"text-primary"},{default:s(()=>d[0]||(d[0]=[q("Offer")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":s(h=>[a(O,{props:h},{default:s(()=>[a(f,{to:`/explore/transaction/${h.value}`,class:"text-primary"},{default:s(()=>d[1]||(d[1]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(m,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},$m=Object.freeze(Object.defineProperty({__proto__:null,default:Sm},Symbol.toStringTag,{value:"Module"})),fl=()=>{const t=Te(),{swap:e}=Dt(t),{menu:l}=ut(e.value),{token:r,currency:n}=ut(l.value);return{token:r,currency:n}},qm={class:"q-gutter-y-sm"},Tm={__name:"index",setup(t){fl();const{activeWalletIndex:e}=Ge();return(l,r)=>{const n=_l,i=Ae;return p(),g(lt,{padding:""},{default:s(()=>[y("div",qm,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(n,{modelValue:o(e),"onUpdate:modelValue":r[0]||(r[0]=c=>z(e)?e.value=c:null),label:l.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(i)])]),_:1})}}},Vm=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),Cm={class:"q-gutter-y-sm"},Rm={__name:"SwapListMenu",setup(t){const{token:e,currency:l}=fl();return Ge(),(r,n)=>{const i=Kt;return p(),x("div",Cm,[a(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(i,{modelValue:o(e),"onUpdate:modelValue":n[0]||(n[0]=c=>z(e)?e.value=c:null),label:r.$t("common.token"),clearable:o(e)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"]),a(i,{modelValue:o(l),"onUpdate:modelValue":n[1]||(n[1]=c=>z(l)?l.value=c:null),label:r.$t("common.currency"),clearable:o(l)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},Lm={class:"q-gutter-y-sm"},Fm={key:0,class:"text-orange mono"},Om={__name:"index",setup(t){const{token:e,currency:l}=fl();Ge();const{t:r}=W(),n=v(()=>[{label:r("common.name"),field:"name",headerStyle:"width: 15%"},{name:"symbol",label:r("common.token"),field:_=>({symbol:_.symbols[0],currency:_.tokens[0]}),headerStyle:"width: 5%"},{name:"symbol",label:r("common.currency"),field:_=>({symbol:_.symbols[1],currency:_.tokens[1]}),headerStyle:"width: 5%"},{label:r("common.price"),field:"price",format:_=>_?parseFloat(_.toPrecision(6)):"N/A",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:_=>({symbol1:_.symbols[1],symbol2:_.symbols[0]}),headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[0].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 12%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[0],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:_=>_.balance[1].value,format:_=>parseFloat(_.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:_=>_.symbols[1],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"actions",align:"right"}]),{rows:i}=_t(),{rows:c,loading:u}=dr(I({token:e,currency:l,limit:200}));return(_,d)=>{const m=de,f=le("RouterLink");return p(),x("div",Lm,[a(Rm),a(te,{rows:o(c),columns:o(n),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(h=>[a(O,{props:h},{default:s(()=>[h.value.symbol=="MMX"?(p(),x(D,{key:0},[q(b(h.value.symbol),1)],64)):(p(),g(f,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:s(()=>[q(b(h.value.symbol)+" ",1),o(i).some(w=>w.currency==h.value.currency)?E("",!0):(p(),x("span",Fm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(h=>[a(O,{props:h},{default:s(()=>[y("span",null,b(h.value.symbol1)+" / "+b(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-actions":s(h=>[a(O,{props:h,class:"q-gutter-x-xs"},{default:s(()=>[a(j,{label:o(r)("swap.swap"),outline:"",to:`/swap/${h.row.address}`},null,8,["label","to"])]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(m,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Im=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"})),Am={__name:"SwapViewMenu",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{to:`/swap/${e.address}/trade`,label:l("swap.trade")},{to:`/swap/${e.address}/history`,label:l("swap.history")},{to:`/swap/${e.address}/liquid`,label:l("swap.my_liquidity")},{to:`/swap/${e.address}/pool`,label:l("swap.pool_state")}]);return(n,i)=>(p(),g(tt,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:s(()=>[(p(!0),x(D,null,re(o(r),(c,u)=>(p(),g(Qe,{key:u,to:c.to,label:c.label},null,8,["to","label"]))),128))]),_:1}))}},Pm={class:"q-gutter-y-sm"},Em={class:"row q-gutter-x-none"},Dm={key:0,class:"text-orange mono"},jm={key:0},Wm={key:1},Mm={__name:"index",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{field:"name",headerStyle:"width: 5%",classes:"key-cell m-bg-grey"},{label:l("swap.pool_balance"),field:"balance",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.24h")})`,field:"volume_1d",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.7d")})`,field:"volume_7d",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:d=>({symbol:d.symbol,currency:d.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.apy")} (${l("swap.24h")})`,field:"avg_apy_1d",format:d=>(d*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"},{label:`${l("swap.apy")} (${l("swap.7d")})`,field:"avg_apy_7d",format:d=>(d*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"}]),{rows:n}=_t(),{data:i,loading:c,noData:u}=Wt(I({id:A(()=>e.address)})),_=v(()=>{if(!i.value)return[];const{balance:d,symbols:m,tokens:f,volume_1d:h,volume_7d:w,avg_apy_1d:k,avg_apy_7d:T}=i.value,S=[{name:l("common.token")},{name:l("common.currency")}];return S.map((V,$)=>{Object.assign(V,{balance:d[$].value,symbol:m[$],token:f[$],volume_1d:h[$].value,volume_7d:w[$].value,avg_apy_1d:k[$],avg_apy_7d:T[$]})}),S});return(d,m)=>{const f=Ne,h=de,w=le("RouterLink"),k=Ae,T=Tt;return p(),x("div",Pm,[y("div",null,[y("div",Em,[a(f,null,{default:s(()=>[q(b(d.$t("swap.swap")),1)]),_:1}),o(i)?(p(),g(f,{key:0},{default:s(()=>[q(b(o(i).price?parseFloat(o(i).price.toPrecision(6)):"N/A")+" "+b(o(i).symbols[1])+" / "+b(o(i).symbols[0]),1)]),_:1})):E("",!0),a(f,null,{default:s(()=>[q(b(t.address),1)]),_:1})]),a(te,{rows:o(_),columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":s(S=>[a(O,{props:S},{default:s(()=>[S.value.symbol=="MMX"||S.value.link==!1?(p(),x(D,{key:0},[q(b(S.value.symbol),1)],64)):(p(),g(w,{key:1,to:`/explore/address/${S.value.currency}`,class:"text-primary"},{default:s(()=>[q(b(S.value.symbol)+" ",1),o(n).some(V=>V.currency==S.value.currency)?E("",!0):(p(),x("span",Dm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":s(S=>[a(O,{props:S},{default:s(()=>[y("span",null,b(S.value.symbol1)+" / "+b(S.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell":s(S=>[a(O,{props:S},{default:s(()=>[y("div",{class:se(("getXClasses"in d?d.getXClasses:o(Be))(S))},b(S.value),3)]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:s(S=>[a(h,{props:S,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),o(u)?(p(),x("div",Wm,[a(T,{title:"No such swap",icon:o(sl)},null,8,["icon"])])):(p(),x("div",jm,[a(Am,{address:t.address},null,8,["address"]),a(k,{address:t.address},null,8,["address"])]))])}}},Bm=Object.freeze(Object.defineProperty({__proto__:null,default:Mm},Symbol.toStringTag,{value:"Module"})),Nm={__name:"SlippageSelect",setup(t){const e=[{label:"0.5 %",value:.995},{label:"1 %",value:.99},{label:"2 %",value:.98},{label:"5 %",value:.95},{label:"10 %",value:.9}];return(l,r)=>(p(),g(be,Ie(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Max Slippage"}),null,16))}},Um={__name:"IterSelect",setup(t){const e=[1,5,20,100];return(l,r)=>(p(),g(be,Ie(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Iterations"}),null,16))}},Km={class:"row justify-end q-col-gutter-x-md"},Qm={class:"row justify-end q-col-gutter-x-md"},zm={class:"row justify-end q-col-gutter-x-md"},Hm={class:"row justify-end q-col-gutter-x-md"},Xm={class:"row"},Gm={class:"col"},Jm={class:"col-11"},Ym={class:"row justify-end q-gutter-x-sm"},Fl={__name:"index",props:{address:{type:String,required:!0},buyForm:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{activeWalletIndex:l}=Ge(),r=v(()=>e.buyForm?1:0),n=v(()=>e.buyForm?0:1),i={amount:null,numIter:5,slippage:.98,feeRatio:null},c=L(null),u=I({...i}),{promptPassphrase:_,isLocked:d}=xe(I({index:l})),{isValid:m,isValidConfirmedUnlocked:f}=Le(c,d),h=I({id:A(()=>e.address),index:A(()=>r.value),amount:A(()=>u.amount),iters:A(()=>u.numIter)}),{data:w}=yr(h,m),k=v(()=>w.value?.fee_percent.toFixed(2)),T=v(()=>{const ee=w.value?.avg_price;return ee?parseFloat((r.value===1?1/ee:ee).toPrecision(6)):null}),S=v(()=>w.value?.trade.value),V=v(()=>({wallet:l.value,address:e.address,index:r.value,amount:u.amount,min_trade:u.slippage*S.value,num_iter:u.numIter,options:{fee_ratio:u.feeRatio}})),{data:$}=Wt(I({id:A(()=>e.address)})),{data:F}=je(I({index:l,currency:A(()=>$.value?.tokens[r.value])}),ee=>ee?ee.spendable:0,()=>!!$.value?.tokens[r.value]),H=ee=>ee<=F.value||"Insufficient funds",{data:K,isLoading:Q,latestError:ae}=Zn(V,f),me=Un(),Z=async()=>{const ee=await _(),oe={...V.value,options:{...V.value.options,passphrase:ee}};await me.mutateAsync(oe)};return(ee,oe)=>{const M=Re,ie=De,ke=Ce,ft=Ee,yt=Pe,ht=Ve;return p(),x("div",null,[a(P,{flat:""},{default:s(()=>[a(ht,{ref_key:"formRef",ref:c,data:o(u),"default-data":i,onSubmit:Z},{default:s(()=>[a(We,{class:se([{"bg-green":t.buyForm,"bg-red":!t.buyForm},"text-white"])},null,8,["class"]),a(B,null,{default:s(()=>[y("div",Km,[a(N,{"model-value":o(F),label:ee.$t("swap.wallet_ballance"),suffix:o($)?.symbols[o(r)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(u).amount,"onUpdate:modelValue":oe[0]||(oe[0]=ye=>o(u).amount=ye),modelModifiers:{number:!0},debounce:200,label:ee.$t("common.amount"),"input-class":"amount-input",suffix:o($)?.symbols[o(r)],rules:[o(Y).required,o(Y).amount,H],class:"col-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",Qm,[a(N,{"model-value":o(k),label:ee.$t("swap.trade_fee_estimated"),suffix:"%","input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label"]),a(N,{"model-value":o(S),label:ee.$t("swap.you_receive_estimated"),suffix:o($)?.symbols[o(n)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"])]),y("div",zm,[a(Um,{modelValue:o(u).numIter,"onUpdate:modelValue":oe[1]||(oe[1]=ye=>o(u).numIter=ye),class:"col"},null,8,["modelValue"]),a(N,{"model-value":o(T),label:"Trade Price (average, including fee)",suffix:`${o($)?.symbols[o(r)]} / ${o($)?.symbols[o(n)]}`,"input-class":"amount-input",readonly:"",class:"col-8"},null,8,["model-value","suffix"])]),y("div",Hm,[a(Nm,{modelValue:o(u).slippage,"onUpdate:modelValue":oe[2]||(oe[2]=ye=>o(u).slippage=ye),class:"col-4"},null,8,["modelValue"]),a(M,{modelValue:o(u).feeRatio,"onUpdate:modelValue":oe[3]||(oe[3]=ye=>o(u).feeRatio=ye),class:"col-4"},null,8,["modelValue"]),a(ie,{modelValue:o(K),"onUpdate:modelValue":oe[4]||(oe[4]=ye=>z(K)?K.value=ye:null),loading:o(Q),error:o(ae),locked:o(d),class:"col-4"},null,8,["modelValue","loading","error","locked"])])]),_:1}),a(B,null,{default:s(()=>[y("div",Xm,[y("div",Gm,[a(ke)]),y("div",Jm,[y("div",Ym,[a(ft),a(yt,{label:"Swap",icon:o(sl)},null,8,["icon"])])])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},Zm={class:"q-mt-sm"},e_={class:"row q-col-gutter-sm"},t_={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(p(),x("div",Zm,[y("div",e_,[a(Fl,{address:t.address,"buy-form":!0,class:"col-sm-12 col-md-6"},null,8,["address"]),a(Fl,{address:t.address,"buy-form":!1,class:"col-sm-12 col-md-6"},null,8,["address"])])]))}},l_=Object.freeze(Object.defineProperty({__proto__:null,default:t_},Symbol.toStringTag,{value:"Module"})),o_={__name:"SwapHistory",props:{address:{type:String,required:!0},limit:{type:Number,default:200,required:!1}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{name:"height",label:l("common.height"),field:"height",headerStyle:"width: 7%"},{label:l("common.type"),field:"type",classes:c=>new Map([["BUY","text-green"],["SELL","text-red"]]).get(c.type)||"",headerStyle:"width: 11%"},{label:l("common.amount"),field:"value",headerStyle:"width: 10%",headerClasses:"dense-amount",classes:"dense-amount text-bold",align:"right"},{field:"symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{name:"address",label:l("common.user"),field:"user",align:"left"},{name:"tx",field:"txid",headerStyle:"width: 1%"},{label:l("common.time"),field:"time_stamp",format:c=>new Date(c).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:n,loading:i}=_r(I({id:A(()=>e.address),limit:A(()=>e.limit)}));return(c,u)=>{const _=de,d=le("RouterLink");return p(),g(te,{rows:o(n),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-address":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/address/${m.value}`,class:"text-primary"},{default:s(()=>[q(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-tx":s(m=>[a(O,{props:m},{default:s(()=>[a(d,{to:`/explore/transaction/${m.value}`,class:"text-primary"},{default:s(()=>u[0]||(u[0]=[q("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(_,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},a_=Object.freeze(Object.defineProperty({__proto__:null,default:o_},Symbol.toStringTag,{value:"Module"})),n_={class:"row justify-end q-col-gutter-x-md"},s_={class:"row justify-end q-col-gutter-x-md"},r_={class:"row justify-end col-12 q-gutter-x-xs q-gutter-y-sm"},i_={class:"col"},u_={__name:"SwapLiquidForm",props:{address:{type:String,required:!0}},setup(t){const e=t,{activeWalletIndex:l}=Ge(),{data:r}=dl(I({index:l})),{data:n}=ho(I({id:A(()=>e.address),user:r}),()=>!!r.value),i={tokenAmount:null,currencyAmount:null,poolIdx:null,feeRatio:null},c=L(null),u=I({...i}),{promptPassphrase:_,isLocked:d}=xe(I({index:l}));Le(c,d);const{data:m}=Wt(I({id:A(()=>e.address)}));_e(()=>{u.poolIdx=n.value?.pool_idx??-1});const f=()=>{u.poolIdx=n.value?.pool_idx??-1},h=v(()=>{if(m.value){const X=m.value.fee_rates.map((ce,he)=>({label:`${(ce*100).toFixed(2)} %`,value:he}));return[{label:"",value:-1},...X]}else return[]}),{data:w}=je(I({index:l,currency:A(()=>m.value?.tokens[0])}),X=>X?X.spendable:0,()=>!!m.value?.tokens[0]),{data:k}=je(I({index:l,currency:A(()=>m.value?.tokens[1])}),X=>X?X.spendable:0,()=>!!m.value?.tokens[1]),T=X=>X<=w.value||"Insufficient funds",S=X=>X<=k.value||"Insufficient funds",V=v(()=>u.tokenAmount&&u.currencyAmount?parseFloat((u.currencyAmount/u.tokenAmount).toPrecision(6)):null),$=v(()=>!!u.tokenAmount&&!!u.currencyAmount||!u.tokenAmount&&!u.currencyAmount),F=()=>{u.tokenAmount&&!u.currencyAmount?u.currencyAmount=parseFloat((u.tokenAmount*m.value.price).toFixed(m.value.decimals[1])):!u.tokenAmount&&u.currencyAmount&&(u.tokenAmount=parseFloat((u.currencyAmount/m.value.price).toFixed(m.value.decimals[0])))},H=L(!1),K=v(()=>!n.value||H.value||!(n.value.fees_earned[0].amount!=0||n.value.fees_earned[1].amount!=0)),Q=v(()=>u.poolIdx<0||n.value&&(n.value.pool_idx<0||u.poolIdx==n.value.pool_idx||n.value.balance[0].amount==0&&n.value.balance[1].amount==0)),ae=v(()=>!(u.tokenAmount||u.currencyAmount)||u.poolIdx<0),me=v(()=>ae.value||n.value.pool_idx>=0&&u.poolIdx!=n.value.pool_idx&&(n.value.balance[0].amount!=0||n.value.balance[1].amount!=0)),Z=v(()=>ae.value),ee=v(()=>!!u.tokenAmount||!!u.currencyAmount||!n.value||!(n.value.balance[0].amount!=0||n.value.balance[1].amount!=0)),oe=ts(),M=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await oe.mutateAsync(he,{onSuccess:()=>{H.value=!0}})},ie=os(),ke=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ie.mutateAsync(he)},ft=ns(),yt=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ft.mutateAsync(he,{onSuccess:()=>{c.value.reset()}})},ht=rs(),ye=async()=>{const X={index:l.value,address:e.address,pool_idx:u.poolIdx,amount:[u.tokenAmount,u.currencyAmount],options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await ht.mutateAsync(he,{onSuccess:()=>{c.value.reset()}})},Qt=us(),Je=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:u.feeRatio}},ce=await _(),he={...X,options:{...X.options,passphrase:ce}};await Qt.mutateAsync(he)};return(X,ce)=>{const he=Re,Do=Ce,jo=Ve;return p(),x("div",null,[a(P,{flat:""},{default:s(()=>[a(jo,{ref_key:"formRef",ref:c,data:o(u),"default-data":i,onReset:f},{default:s(()=>[a(B,null,{default:s(()=>[y("div",n_,[a(he,{modelValue:o(u).feeRatio,"onUpdate:modelValue":ce[0]||(ce[0]=Ye=>o(u).feeRatio=Ye),class:"col-sm-3 col-xs-12"},null,8,["modelValue"]),a(N,{"model-value":o(w),label:X.$t("swap.wallet_ballance"),suffix:o(m)?.symbols[0],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{"model-value":o(k),label:X.$t("swap.wallet_ballance"),suffix:o(m)?.symbols[1],"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",s_,[a(be,{modelValue:o(u).poolIdx,"onUpdate:modelValue":ce[1]||(ce[1]=Ye=>o(u).poolIdx=Ye),options:o(h),"emit-value":"","map-options":"",label:X.$t("swap.fee_level"),class:"col-sm-3 col-xs-12"},null,8,["modelValue","options","label"]),a(N,{"model-value":o(V),label:X.$t("common.price"),suffix:`${o(m)?.symbols[1]} / ${o(m)?.symbols[0]}`,"input-class":"amount-input",readonly:"",class:"col-sm-3 col-xs-12"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(u).tokenAmount,"onUpdate:modelValue":ce[2]||(ce[2]=Ye=>o(u).tokenAmount=Ye),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(m)?.symbols[0],rules:[o(Y).amount,T],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"]),a(N,{modelValue:o(u).currencyAmount,"onUpdate:modelValue":ce[3]||(ce[3]=Ye=>o(u).currencyAmount=Ye),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(m)?.symbols[1],rules:[o(Y).amount,S],class:"col-sm-3 col-xs-6"},null,8,["modelValue","label","suffix","rules"])])]),_:1}),a(ol,null,{default:s(()=>[y("div",r_,[y("div",i_,[a(Do,{class:"items-start"})]),a(j,{label:X.$t("swap.price_match"),outline:"",disable:o($),onClick:F},null,8,["label","disable"]),a(j,{label:X.$t("swap.payout"),outline:"",disable:o(K),onClick:M},null,8,["label","disable"]),a(j,{label:X.$t("swap.switch_fee"),outline:"",disable:o(Q),onClick:ke},null,8,["label","disable"]),a(j,{label:X.$t("swap.add_liquidity"),outline:"",disable:o(me),class:"text-positive",onClick:yt},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_liquidity"),outline:"",disable:o(Z),class:"text-negative",onClick:ye},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_all"),outline:"",disable:o(ee),class:"text-negative",onClick:Je},null,8,["label","disable"])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},d_={class:"q-gutter-y-sm"},c_={__name:"SwapLiquidUserInfoTable",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("swap.my_balance"),field:"balance",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.my_liquidity"),field:"equivalent_liquidity",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.fees_earned"),field:"fees_earned",format:d=>parseFloat(d.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:d=>(d.fees_earned>0?"text-positive":"")+" dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"fee_level",label:l("swap.fee_level"),field:"fee_level",format:d=>(d*100).toFixed(2),headerStyle:"width: 8%",align:"right",xclasses:"percents"},{label:l("swap.unlock_height"),field:"unlock_height",align:"left"}]),{activeWalletIndex:n}=Ge(),{data:i}=dl(I({index:n})),{data:c,loading:u}=ho(I({id:A(()=>e.address),user:i}),()=>!!i.value),_=v(()=>{if(!c.value)return[];const{balance:d,symbols:m,equivalent_liquidity:f,fees_earned:h,pool_idx:w,unlock_height:k,swap:T}=c.value;return d.map((V,$)=>({balance:d[$].value,equivalent_liquidity:f[$].value,fees_earned:h[$].value,symbol:m[$],fee_level:w>=0?T.fee_rates[w]:void 0,unlock_height:k,pool_idx:w}))});return(d,m)=>{const f=de;return p(),x("div",d_,[a(te,{rows:o(_),columns:o(r),loading:o(u),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-fee_level":s(h=>[a(O,{props:h},{default:s(()=>[h.row.pool_idx>=0?(p(),x("div",{key:0,class:se(("getXClasses"in d?d.getXClasses:o(Be))(h))},b(h.value),3)):E("",!0)]),_:2},1032,["props"])]),_:2},[o(u)?{name:"bottom-row",fn:s(h=>[a(f,{props:h,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},m_={class:"q-gutter-y-sm"},__={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(p(),x("div",m_,[a(c_,{address:t.address},null,8,["address"]),a(u_,{address:t.address},null,8,["address"])]))}},p_=Object.freeze(Object.defineProperty({__proto__:null,default:__},Symbol.toStringTag,{value:"Module"})),f_={class:"q-gutter-y-sm"},y_={__name:"SwapPool",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=W(),r=v(()=>[{label:l("swap.fee_level"),field:"fee_rate",format:u=>u*100,headerStyle:"width: 5%",classes:"key-cell m-bg-grey",xclasses:"percents"},{label:l("common.balance"),field:"balance0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("common.balance"),field:"balance1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:"Price",field:"price",format:u=>u!=null?parseFloat(u.toPrecision(6)):"N/A",headerStyle:"width: 8%",classes:"text-bold"},{label:l("swap.user_total"),field:"user_total0",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.user_total"),field:"user_total1",format:u=>parseFloat(u.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"}]),{data:n,loading:i}=Wt(I({id:A(()=>e.address)})),c=v(()=>{if(!n.value)return[];const{fee_rates:u,pools:_,symbols:d}=n.value;return u.map((f,h)=>({fee_rate:f,balance0:_[h].balance[0].value,symbol0:n.value.symbols[0],balance1:_[h].balance[1].value,symbol1:n.value.symbols[1],price:_[h].price,user_total0:_[h].user_total[0].value,user_total1:_[h].user_total[1].value}))});return(u,_)=>{const d=de;return p(),x("div",f_,[a(te,{rows:o(c),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell":s(m=>[a(O,{props:m},{default:s(()=>[y("div",{class:se(("getXClasses"in u?u.getXClasses:o(Be))(m))},b(m.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:s(m=>[a(d,{props:m,"row-count":4},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},h_=Object.freeze(Object.defineProperty({__proto__:null,default:y_},Symbol.toStringTag,{value:"Module"})),g_={};function b_(t,e){return p(),g(P,{class:"fullscreen text-center q-pa-md flex flex-center"},{default:s(()=>[y("div",null,[e[0]||(e[0]=y("div",{class:"error-code"},"404",-1)),e[1]||(e[1]=y("div",{class:"error-message"},"Oops. Nothing here...",-1)),a(j,{class:"q-mt-xl",outline:"",unelevated:"",to:"/",label:"Go Home","no-caps":""})])]),_:1})}const v_=fe(g_,[["render",b_],["__scopeId","data-v-293e57be"]]),w_=Object.freeze(Object.defineProperty({__proto__:null,default:v_},Symbol.toStringTag,{value:"Module"})),x_=t=>C.post("/server/login",t,{headers:qn}),Io=()=>{const t=Te();return J({mutationFn:({credentials:e})=>x_(e),onSuccess:(e,l)=>{const{credentials:r}=l;t.doLogin(r)}})},k_=()=>C.get("/server/logout").then(t=>t.data),S_=()=>{const t=Te();return J({mutationFn:()=>k_(),onSettled:()=>{t.doLogout(!0)}})},Ao=t=>C.get("/server/session",{signal:t}).then(e=>e.data),$_=()=>{const t=Te();return Ft({queryKey:["session"],queryFn:({signal:e})=>Ao(e),refetchInterval:5.1*st,enabled:t.isLoggedIn})},q_=()=>{const t=G();return J({mutationFn:()=>Ao(),onSuccess:e=>{t.setQueryData(["session"],e)}})},T_={class:"fullscreen row justify-center"},V_={class:"row justify-between"},C_={__name:"LoginPage",setup(t){const e=L(""),l=Te(),{autoLogin:r}=Dt(l),n=Io(),i=et(),c=()=>{i.notify({message:"Login failed!",type:"negative"})},u=()=>{const _={credentials:{user:"mmx-admin",passwd_plain:e.value}};n.mutate(_,{onError:c})};return(_,d)=>(p(),x("div",T_,[a(P,{flat:"",class:"self-center col-xl-4 col-lg-6 col-md-8 col-sm-10 col-xs-12"},{default:s(()=>[a(We,null,{default:s(()=>[a(at,null,{default:s(()=>d[2]||(d[2]=[q(" Login ")])),_:1})]),_:1}),a(B,null,{default:s(()=>[a(ll,{class:"q-gutter-sm",onSubmit:u},{default:s(()=>[a(N,{modelValue:o(e),"onUpdate:modelValue":d[0]||(d[0]=m=>z(e)?e.value=m:null),type:"password",required:"",filled:"",label:_.$t("login.password_label")},{prepend:s(()=>[a($e,{name:o(Wl)},null,8,["name"])]),_:1},8,["modelValue","label"]),y("div",V_,[a(Ke,{modelValue:o(r),"onUpdate:modelValue":d[1]||(d[1]=m=>z(r)?r.value=m:null),label:"Save in Browser (until Logout)"},null,8,["modelValue"]),a(j,{label:"Login",icon:o(Ba),type:"submit",color:"primary",disable:!o(e)},null,8,["icon","disable"])])]),_:1})]),_:1})]),_:1})]))}},R_=Object.freeze(Object.defineProperty({__proto__:null,default:C_},Symbol.toStringTag,{value:"Module"})),L_={__name:"NodeSettings",setup(t){const{data:e}=ve(),l=L();return _e(()=>l.value=e?.opencl_device_select),Se(l,r=>{e.opencl_device_select=r,e.opencl_platform=null,e.opencl_device=r>=0?e.opencl_device_list_relidx[r].index:-1,e.opencl_device_name=r>=0?e.opencl_device_list_relidx[r].name:null}),(r,n)=>(p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",null,[a(Ke,{modelValue:o(e).timelord,"onUpdate:modelValue":n[0]||(n[0]=i=>o(e).timelord=i),label:r.$t("node_settings.enable_timelord")},null,8,["modelValue","label"])]),y("div",null,[a(Ke,{modelValue:o(e).open_port,"onUpdate:modelValue":n[1]||(n[1]=i=>o(e).open_port=i),label:r.$t("node_settings.open_port")},null,8,["modelValue","label"])]),y("div",null,[a(Ke,{modelValue:o(e).allow_remote,"onUpdate:modelValue":n[2]||(n[2]=i=>o(e).allow_remote=i),label:"Allow remote service access (for remote harvesters)"},null,8,["modelValue"])]),a(be,{modelValue:o(l),"onUpdate:modelValue":n[3]||(n[3]=i=>z(l)?l.value=i:null),label:r.$t("node_settings.opencl_device"),options:o(e).opencl_device_list,"emit-value":"","map-options":""},null,8,["modelValue","label","options"])]),_:1})]),_:1}))}},F_={__name:"RewardSettings",setup(t){const e=L(),l=L(),r=L(),n=L(),{data:i}=ve();_e(()=>r.value=i?.farmer_reward_addr),_e(()=>n.value=i?.timelord_reward_addr);const{isLocalNode:c,isFarmer:u}=ve();return(_,d)=>(p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[o(u)?(p(),g(N,{key:0,ref_key:"farmer_reward_addr_ref",ref:e,modelValue:o(r),"onUpdate:modelValue":d[0]||(d[0]=m=>z(r)?r.value=m:null),label:_.$t("node_settings.farmer_reward_address"),placeholder:_.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:d[1]||(d[1]=m=>{o(e).validate(m)&&(o(i).farmer_reward_addr=m.length?m:null)})},null,8,["modelValue","label","placeholder","rules"])):E("",!0),o(c)?(p(),g(N,{key:1,ref_key:"timelord_reward_addr_ref",ref:l,modelValue:o(n),"onUpdate:modelValue":d[2]||(d[2]=m=>z(n)?n.value=m:null),label:_.$t("node_settings.timeLord_reward_address"),placeholder:_.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:d[3]||(d[3]=m=>{o(l).validate(m)&&(o(i).timelord_reward_addr=m.length?m:null)})},null,8,["modelValue","label","placeholder","rules"])):E("",!0)]),_:1})]),_:1}))}},O_={align:"left"},I_={align:"right"},A_={__name:"HarvesterSettings",setup(t){const e=L(),{data:l}=ve(),r=yi(),n=u=>{u?.length&&r.mutate(u,{onSuccess:()=>{e.value=""}})},i=gi(),c=u=>{i.mutate(u)};return(u,_)=>(p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(N,{label:"Num. Threads (for lookups, reload)","model-value":o(l).harv_num_threads,rules:[o(Y).number],onChange:_[0]||(_[0]=d=>o(l).harv_num_threads=parseInt(d))},null,8,["model-value","rules"]),a(N,{label:u.$t("harvester_settings.harvester_reload_interval"),"model-value":o(l).reload_interval,rules:[o(Y).number],onChange:_[1]||(_[1]=d=>o(l).reload_interval=parseInt(d))},null,8,["label","model-value","rules"]),a(Ke,{modelValue:o(l).recursive_search,"onUpdate:modelValue":_[2]||(_[2]=d=>o(l).recursive_search=d),label:"Recursive Search"},null,8,["modelValue"]),a(At,{flat:""},{default:s(()=>[y("thead",null,[y("tr",null,[y("th",O_,b(u.$t("harvester_settings.plot_directory")),1),_[5]||(_[5]=y("th",{width:"20%"},null,-1))])]),y("tbody",null,[(p(!0),x(D,null,re(o(l).plot_dirs,d=>(p(),x("tr",{key:d},[y("td",null,b(d),1),y("td",I_,[a(j,{label:"Remove",outline:"",onClick:m=>c(d)},null,8,["onClick"])])]))),128))])]),_:1}),a(N,{modelValue:o(e),"onUpdate:modelValue":_[3]||(_[3]=d=>z(e)?e.value=d:null),label:u.$t("harvester_settings.plot_directory")},null,8,["modelValue","label"]),a(j,{outlined:"",disable:!o(e)?.length,color:"primary",class:"q-mt-sm",onClick:_[4]||(_[4]=d=>n(o(e)))},{default:s(()=>[q(b(u.$t("harvester_settings.add_directory")),1)]),_:1},8,["disable"])]),_:1})]),_:1}))}},P_={__name:"CudaSettings",setup(t){const{data:e,loading:l}=ve();return(r,n)=>(p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[o(l)?(p(),g(tl,{key:0,query:"",class:"absolute-top"})):E("",!0),a(Ke,{modelValue:o(e).cuda_enable,"onUpdate:modelValue":n[0]||(n[0]=i=>o(e).cuda_enable=i),label:"Enable CUDA compute (farming and proof verify)"},null,8,["modelValue"])]),_:1})]),_:1}))}},E_={__name:"BlockchainSettings",setup(t){const e=L(),l=L(),r=v(()=>!e.value?.validate()||!l.value),{t:n}=W();et();const i=pi(),c=u=>{u=parseInt(u),i.mutate({height:u})};return(u,_)=>(p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(N,{ref_key:"revertHeightRef",ref:e,modelValue:o(l),"onUpdate:modelValue":_[0]||(_[0]=d=>z(l)?l.value=d:null),label:u.$t("node_settings.revert_db_to_height"),rules:[o(Y).number],clearable:""},null,8,["modelValue","label","rules"]),a(j,{disable:o(r),outline:"",color:"negative",onClick:_[1]||(_[1]=d=>c(o(l)))},{default:s(()=>[q(b(u.$t("node_settings.revert")),1)]),_:1},8,["disable"])]),_:1}),a(Ct,{showing:o(i).isPending.value},{default:s(()=>[a(da,{color:"primary",size:"3em"})]),_:1},8,["showing"])]),_:1}))}},D_={align:"left"},j_={align:"left"},W_={align:"left"},M_={key:0},B_={__name:"WalletSettings",setup(t){const e=L(""),l=L(""),{data:r,isPending:n}=_t();v(()=>n.value);const i=vi(),c=d=>{i.mutate(d,{onSuccess:()=>{e.value=""}})},u=xi(),_=d=>{u.mutate(d)};return(d,m)=>{const f=le("RouterLink");return p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[a(At,{flat:""},{default:s(()=>[y("thead",null,[y("tr",null,[y("th",D_,b(d.$t("wallet_settings.name")),1),y("th",j_,b(d.$t("wallet_settings.symbol")),1),y("th",W_,b(d.$t("wallet_settings.contract")),1),m[2]||(m[2]=y("th",{align:"left"},null,-1))])]),y("tbody",null,[(p(!0),x(D,null,re(o(r),h=>(p(),x(D,{key:h.currency},[h.is_native?E("",!0):(p(),x("tr",M_,[y("td",null,b(h.name),1),y("td",null,b(h.symbol),1),y("td",null,[a(f,{to:"/explore/address/"+h.currency,class:"text-primary mono"},{default:s(()=>[q(b(h.currency),1)]),_:2},1032,["to"])]),y("td",null,[a(j,{outline:"",onClick:w=>_(h.currency)},{default:s(()=>[q(b(d.$t("common.remove")),1)]),_:2},1032,["onClick"])])]))],64))),128))])]),_:1}),a(N,{ref_key:"newTokenTextField",ref:l,modelValue:o(e),"onUpdate:modelValue":m[0]||(m[0]=h=>z(e)?e.value=h:null),label:d.$t("wallet_settings.token_address"),placeholder:"mmx1...",rules:[o(Y).address]},null,8,["modelValue","label","rules"]),a(j,{label:d.$t("wallet_settings.add_token"),disable:o(e).length==0||o(l).hasError,outline:"",color:"primary",onClick:m[1]||(m[1]=h=>c(o(e)))},null,8,["label","disable"])]),_:1})]),_:1})}}},N_={__name:"UISettings",setup(t){const{t:e}=W(),l=we(),r=v(()=>[{value:!1,label:e("node_settings.light")},{value:!0,label:e("node_settings.dark")}]);return(n,i)=>(p(),g(P,null,{default:s(()=>[a(B,null,{default:s(()=>[a(be,{modelValue:o(l).locale,"onUpdate:modelValue":i[0]||(i[0]=c=>o(l).locale=c),"emit-value":"","map-options":"",label:n.$t("node_settings.language"),options:o(rl)},null,8,["modelValue","label","options"]),a(be,{modelValue:o(l).isDarkTheme,"onUpdate:modelValue":i[1]||(i[1]=c=>o(l).isDarkTheme=c),"emit-value":"","map-options":"",label:n.$t("node_settings.theme"),options:o(r)},null,8,["modelValue","label","options"])]),_:1})]),_:1}))}},U_=t=>C.get("https://api.github.com/repos/madMAx43v3r/mmx-node/tags",{signal:t}).then(e=>e.data),K_=t=>Ft({queryKey:["externalBuildInfo"],queryFn:({signal:e})=>U_(e),refetchInterval:60*60*st,staleTime:1/0,select:t}),Q_=()=>K_(e=>{for(let l of e)if(l&&l.name.length&&l.name[0]==="v")return l}),Po=()=>{const{data:t}=ve(),{data:e}=Q_(),l=v(()=>t.version?.split("-",1)[0]),r=v(()=>e.value?.name);return{isNewVersionAvailable:v(()=>!!(l.value&&r.value&&l.value!==r.value)),latestVersion:r,latestRelease:e,version:l}},z_={class:"text-h6"},H_={class:"q-gutter-y-sm"},X_={__name:"BuildVersionInfo",setup(t){const{data:e,loading:l}=ve(),{t:r}=W(),n=v(()=>[{label:r("build_version.version"),field:"version"},{label:r("build_version.commit"),field:"commit"}]),{isNewVersionAvailable:i,latestVersion:c,version:u}=Po();return(_,d)=>{const m=rt;return p(),g(P,{flat:""},{default:s(()=>[a(B,null,{default:s(()=>[y("div",z_,[a(ca,{icon:o(Na)},null,8,["icon"]),q(" "+b(_.$t("build_version.build")),1)]),y("div",H_,[a(m,{rows:o(n),data:o(e),loading:o(l)},null,8,["rows","data","loading"]),o(i)?(p(),g(Jt,{key:0,rounded:"","inline-actions":"",class:"bg-warning"},{default:s(()=>[q(" This build is "+b(o(u))+", compared to "+b(o(c))+" at madMAx43v3r:master ",1)]),_:1})):E("",!0)])]),_:1})]),_:1})}}},G_={class:"q-gutter-y-sm"},J_={__name:"index",setup(t){const e=we(),{isLocalNode:l,isFarmer:r}=ve(),{t:n}=W(),i=[{name:"ui",label:n("node_settings.ui"),icon:Ua,component:N_,visible:!e.isWinGUI},{name:"node",label:"Node",icon:Ka,component:L_,visible:l.value},{name:"reward",label:"Reward",icon:Qa,component:F_,visible:l.value||r.value},{name:"harvester",label:n("harvester_settings.harvester"),icon:za,component:A_,visible:r.value},{name:"cuda",label:"CUDA",icon:Ha,component:P_,visible:r.value||l.value},{name:"blockchain",label:n("node_settings.blockchain"),icon:Xa,component:E_,visible:l.value},{name:"wallet",label:n("wallet_settings.token_whitelist"),icon:Ga,component:B_,visible:!0}],c=v(()=>i.find(f=>f.visible)),u=ot(),_=xt(),d=v(()=>{const f=_.query.state||c.value?.name,h={};return h[f]=!0,h}),m=L(d.value);return Se(m,f=>{var h=Object.keys(f);f?u.push({path:_.path,query:{state:h.filter(w=>f[w])[0]},replace:!0}):u.push({path:_.path,replace:!0})},{deep:!0}),(f,h)=>(p(),g(lt,{padding:""},{default:s(()=>[y("div",G_,[a(ma,{bordered:"",class:"rounded-borders"},{default:s(()=>[(p(),x(D,null,re(i,w=>a(_a,{key:w,modelValue:o(m)[w.name],"onUpdate:modelValue":k=>o(m)[w.name]=k,label:w.label,icon:w.icon,"header-class":"text-h6","expand-separator":"",group:"expansionGroup"},{default:s(()=>[(p(),g(it(w.component)))]),_:2},1032,["modelValue","onUpdate:modelValue","label","icon"])),64))]),_:1}),a(X_,{class:"q-mt-md"})])]),_:1}))}},Y_=Object.freeze(Object.defineProperty({__proto__:null,default:J_},Symbol.toStringTag,{value:"Module"})),Z_={key:0,class:"q-tab self-stretch flex flex-center text-center"},ep={__name:"MenuTabs",props:{tabs:{type:Array,required:!0}},setup(t){return(e,l)=>(p(),g(tt,{"indicator-color":"primary","outside-arrows":"",class:"q-mx-xs"},{default:s(()=>[(p(!0),x(D,null,re(t.tabs,(r,n)=>(p(),x(D,{key:n},[r.separator?(p(),g(Zt,{key:0,vertical:"",inset:"",class:"q-mx-md"})):r.space?(p(),g(El,{key:1})):r.component?(p(),x(D,{key:2},[r.tabTagWrap??!0?(p(),x("div",Z_,[(p(),g(it(r.component)))])):(p(),g(it(r.component),{key:1}))],64)):(p(),x(D,{key:3},[r.visible??!0?(p(),g(Qe,{key:0,to:r.to,label:r.label,icon:r.icon,disable:r.disable,onClick:r.click},null,8,["to","label","icon","disable","onClick"])):E("",!0)],64))],64))),128))]),_:1}))}},tp={__name:"BuildVersion",setup(t){const{isNewVersionAvailable:e,latestVersion:l,version:r}=Po();return(n,i)=>o(e)?(p(),g($e,{key:0,name:o(Ja),color:"warning",size:"sm",class:"animate__animated animate__flash animate__delay-1s"},{default:s(()=>[a(ze,null,{default:s(()=>[q("This build is "+b(o(r))+", compared to "+b(o(l))+" at madMAx43v3r:master",1)]),_:1})]),_:1},8,["name"])):E("",!0)}};function lp(t=1e4){const l=G().getQueryCache(),r=L(!1),n=L(new Set),i=new Map,c=l.subscribe(u=>{if(u.type==="updated"){const _=u.query,d=JSON.stringify(_.queryKey);if(_.state.fetchStatus==="fetching"){i.has(d)&&(clearTimeout(i.get(d)),i.delete(d));const m=setTimeout(()=>{_.state.fetchStatus==="fetching"&&(n.value.add(d),r.value=!0),i.delete(d)},t);i.set(d,m)}else i.has(d)&&(clearTimeout(i.get(d)),i.delete(d)),n.value.has(d)&&(n.value.delete(d),r.value=n.value.size>0)}});return pa(()=>{c(),i.forEach(u=>clearTimeout(u)),i.clear()}),r}const Oe=Object.freeze({DisconnectedFromNode:Symbol("DisconnectedFromNode"),QueryTakingLong:Symbol("QueryTakingLong"),Connecting:Symbol("Connecting"),Syncing:Symbol("Syncing"),Synced:Symbol("Synced"),None:Symbol("None")}),op=()=>{const t=Te(),{isLocalNode:e}=ve(),l=L(0),r=L(0),n=L(1);lp(1e3);const i=v(()=>l.value<1),c=v(()=>r.value<1||!e.value),u=v(()=>n.value<1),_=q_(),d=()=>{t.isLoggedIn&&_.mutate(null,{onSuccess:$=>{$&&$.user?l.value=0:l.value++},onError:()=>{l.value++}})},m=v(()=>{let $=i.value&&c.value?5e3:1e3;return t.isLoggedIn||($=-1),$});Xt(d,m);const f=di(),h=()=>f.mutate(null,{onSuccess:()=>{r.value=0},onError:()=>{r.value++}}),w=v(()=>{let $=c.value?5e3:1e3;return i.value||($=-1),$});Xt(h,w);const k=Fn(),T=()=>k.mutate(null,{onSuccess:$=>{$&&$.is_synced?n.value=0:n.value++},onError:()=>{n.value++}}),S=v(()=>{let $=c.value?5e3:1e3;return i.value||($=-1),$});return Xt(T,S),{status:v(()=>{let $=Oe.None;return i.value?($=Oe.Connecting,c.value&&($=Oe.Syncing,u.value&&($=Oe.Synced))):$=Oe.DisconnectedFromNode,$})}},Xt=(t,e)=>{t();const l=fa(t,e);return Se(e,(r,n)=>{Fe(r)<=0&&l.pause(),(Fe(n)<=0&&Fe(r)>0||Fe(n)>0&&Fe(r)<Fe(n))&&(l.resume(),t())}),l},ap={class:"q-px-xs"},np={__name:"NodeStatus",setup(t){const{t:e}=W(),l={[Oe.DisconnectedFromNode]:{label:e("node_status.disconnected"),icon:ln,class:"text-negative animate__animated animate__swing animate__infinite"},[Oe.QueryTakingLong]:{label:"Node response taking too long",icon:tn,class:"text-warning animate__animated animate__flash animate__slow animate__infinite"},[Oe.Connecting]:{label:e("node_status.connecting"),icon:en,class:"text-negative animate__animated animate__flash animate__slow animate__infinite"},[Oe.Syncing]:{label:e("node_status.syncing"),icon:Za,class:"text-warning spin"},[Oe.Synced]:{label:e("node_status.synced"),icon:Ya,class:"text-positive animate__animated animate__bounceIn"}},{status:r}=op(),n=v(()=>l[r.value]);return(i,c)=>(p(),x("div",ap,[o(n)?(p(),g($e,{key:0,name:o(n).icon,size:"sm",class:se(o(n).class)},{default:s(()=>[a(ze,null,{default:s(()=>[q(b(o(n).label),1)]),_:1})]),_:1},8,["name","class"])):E("",!0)]))}},sp=fe(np,[["__scopeId","data-v-5a639f02"]]),rp={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 1170.7 327.595"},ip={__name:"SvgLogo",props:{color:{type:String,default:"#fff"}},setup(t){return ya(e=>({"442bc8c4":t.color})),(e,l)=>(p(),x("svg",rp,l[0]||(l[0]=[y("g",{id:"Text_x0020_Black_x0020__x0028_SVG_x0029_"},[y("path",{d:"M19.578 80.542 0 327.595h95.292l6.752-85.204zM258.854 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L132.604 0H25.96L173.5 289.567l91.121-178.834-17.184 216.863h95.292L368.689 0zM454.949 80.542l-19.578 247.053h95.292l6.752-85.204zM694.225 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L567.975 0H461.33l147.54 289.566 91.121-178.834-17.184 216.863H778.1L804.06 0zM918.156 184.837l53.254 104.729-19.377 38.029h-106.47zM908.537 0h69.457l166.918 327.595h-106.643L890.298 37.187C879.835 16.653 888.003.001 908.537.001zM1098.11 142.76l-53.26-104.725L1064.23 0h106.47z",class:"fil0"})],-1)])))}},up=fe(ip,[["__scopeId","data-v-1c7f7bbe"]]),dp={class:"logo"},cp={class:"mono node-height"},mp={__name:"index",setup(t){const e=Jl(),l=v(()=>e.height&&e.height.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),r=we(),n=v(()=>r.isDarkTheme?"#fff":"#000");return(i,c)=>{const u=up;return p(),x("div",dp,[a(u,{height:"18",color:o(n)},null,8,["color"]),y("div",cp,[(p(),x(D,{key:1},[q(b(o(l)),1)],64))])])}}},_p=fe(mp,[["__scopeId","data-v-9901f0bc"]]),pp=()=>{const t=Te(),{data:e}=$_(),l=()=>{t.doLogout(!1)},r=Io(),n=i=>{const c={credentials:i};r.mutate(c,{onError:l})};Se(e,i=>{i&&i.user||(t.autoLogin?n(t.credentials):t.doLogout(!1))})},fp={__name:"GuiMainMenu",setup(t){const{t:e}=W(),l=we(),{isWallet:r,isFarmer:n}=ve(),i=v(()=>[{component:_p},{separator:!0},{to:"/node",label:e("main_menu.node")},{to:"/wallet",label:e("main_menu.wallet"),visible:r.value},{to:"/farmer",label:e("main_menu.farmer"),visible:n.value},{to:"/explore",label:e("main_menu.explore")},{to:"/market",label:e("main_menu.market"),visible:r.value},{to:"/swap",label:e("main_menu.swap"),visible:r.value},{space:!0},{component:tp},{component:sp},{to:"/settings",icon:Bl},...l.isGUI?[]:[{icon:on,click:u}]]),c=S_(),u=()=>c.mutate();return pp(),(_,d)=>{const m=ep;return p(),g(m,{tabs:o(i)},null,8,["tabs"])}}};let Eo;Eo=fp;const yp={class:"row justify-center"},hp={class:"row justify-center"},gp={__name:"default",setup(t){const e=we(),l=v(()=>({"col-12":!0,"app-max-width":!e.isWinGUI}));return(r,n)=>{const i=Ae;return p(),g(ba,{view:"lhr Lpr lFr"},{default:s(()=>[a(ha,{class:"m-bg-grey"},{default:s(()=>[y("div",yp,[y("div",{class:se(o(l))},[(p(),g(it(o(Eo)),{class:"q-mx-lg"}))],2)])]),_:1}),y("div",hp,[y("div",{class:se(o(l))},[a(ga,null,{default:s(()=>[a(i)]),_:1})],2)])]),_:1})}}},bp=Object.freeze(Object.defineProperty({__proto__:null,default:gp},Symbol.toStringTag,{value:"Module"})),vp={class:"q-gutter-y-sm"},wp={__name:"PromptPassphraseDialog",emits:[...pe.emits],setup(t){const e=L(""),l=L(!1),{dialogRef:r,onDialogHide:n,onDialogOK:i,onDialogCancel:c}=pe(),u=()=>{i({passphrase:e.value})},_=L(null),d=()=>{_.value&&_.value.focus()};return(m,f)=>(p(),g(He,{ref_key:"dialogRef",ref:r,persistent:"",onHide:o(n),onShow:d},{default:s(()=>[a(P,{class:"q-dialog-plugin"},{default:s(()=>[a(B,null,{default:s(()=>[y("div",vp,[f[2]||(f[2]=y("div",{class:"text-h6"},"Unlock wallet",-1)),a(N,{ref_key:"inputRef",ref:_,modelValue:o(e),"onUpdate:modelValue":f[1]||(f[1]=h=>z(e)?e.value=h:null),hint:m.$t("wallet_common.enter_passphrase"),outlined:"",type:o(l)?"text":"password",autocomplete:"new-password",onKeyup:Pl(u,["enter"])},{append:s(()=>[a($e,{name:o(l)?o(Kl):o(Ul),class:"cursor-pointer",onClick:f[0]||(f[0]=h=>l.value=!o(l))},null,8,["name"])]),_:1},8,["modelValue","hint","type"])])]),_:1}),a(ol,{align:"right"},{default:s(()=>[a(j,{label:"Cancel",flat:"",onClick:o(c)},null,8,["onClick"]),a(j,{label:"Unlock",flat:"",icon:o(Ml),onClick:u},null,8,["icon"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},xp=Object.freeze(Object.defineProperty({__proto__:null,default:wp},Symbol.toStringTag,{value:"Module"})),kp={class:"q-gutter-y-sm"},Sp={class:"row justify-end q-col-gutter-sm"},$p={class:"row justify-end q-col-gutter-sm"},qp={class:"row"},Tp={class:"col"},Vp={class:"col-11"},Cp={class:"row justify-end q-gutter-x-sm"},Rp={__name:"OfferDepositDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await F(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),f=v(()=>({index:e.index,amount:m.amount,currency:e.offer.bid_currency,dst_addr:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=io(f,k),$=eo(),F=async()=>{const Q=await h(),ae={...f.value,options:{...f.value.options,passphrase:Q}};await $.mutateAsync(ae)},{data:H}=je(I({index:A(()=>e.index),currency:A(()=>e.offer.bid_symbol)}),Q=>Q?Q.spendable:0),K=Q=>Q<=H.value||"Insufficient funds";return(Q,ae)=>{const me=Re,Z=De,ee=Ce,oe=Ee,M=Pe,ie=Ve;return p(),g(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(ie,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,b(Q.$t("account_offers.deposit_to"))+" "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",kp,[y("div",Sp,[a(N,{"model-value":o(H),label:Q.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(m).amount,"onUpdate:modelValue":ae[0]||(ae[0]=ke=>o(m).amount=ke),modelModifiers:{number:!0},label:Q.$t("common.amount"),"input-class":"amount-input",suffix:t.offer.bid_symbol,rules:[o(Y).required,o(Y).amount,K],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",$p,[a(me,{modelValue:o(m).feeRatio,"onUpdate:modelValue":ae[1]||(ae[1]=ke=>o(m).feeRatio=ke),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(Z,{modelValue:o(T),"onUpdate:modelValue":ae[2]||(ae[2]=ke=>z(T)?T.value=ke:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",qp,[y("div",Tp,[a(ee)]),y("div",Vp,[y("div",Cp,[a(oe),a(M,{label:Q.$t("account_offers.deposit")},null,8,["label"]),a(j,{label:Q.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Lp=Object.freeze(Object.defineProperty({__proto__:null,default:Rp},Symbol.toStringTag,{value:"Module"})),Fp={class:"q-gutter-y-sm"},Op={class:"row justify-end q-col-gutter-sm"},Ip={class:"row"},Ap={class:"col"},Pp={class:"col-11"},Ep={class:"row justify-end q-gutter-x-sm"},Dp={__name:"OfferWithdrawDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await F(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={feeRatio:null},d=L(null),m=I({..._}),f=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=Xn(f,k),$=Wn(),F=async()=>{const H=await h(),K={...f.value,options:{...f.value.options,passphrase:H}};await $.mutateAsync(K)};return(H,K)=>{const Q=Re,ae=De,me=Ce,Z=Ee,ee=Pe,oe=Ve;return p(),g(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(oe,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Withdraw from "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",Fp,[y("div",Op,[a(Q,{modelValue:o(m).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=M=>o(m).feeRatio=M),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(T),"onUpdate:modelValue":K[1]||(K[1]=M=>z(T)?T.value=M:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",Ip,[y("div",Ap,[a(me)]),y("div",Pp,[y("div",Ep,[a(Z),a(ee,{label:"Withdraw"}),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},jp=Object.freeze(Object.defineProperty({__proto__:null,default:Dp},Symbol.toStringTag,{value:"Module"})),Wp=t=>{let e=BigInt(t).toString(16);return e.length%2&&(e="0"+e),"0x"+e},Mp={class:"q-gutter-y-sm"},Bp={class:"row justify-end col-3"},Np={class:"row justify-end q-col-gutter-sm"},Up={class:"row"},Kp={class:"col"},Qp={class:"col-11"},zp={class:"row justify-end q-gutter-x-sm"},Hp={__name:"OfferUpdateDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await H(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),f=v(()=>m.amount*Math.pow(2,64)*Math.pow(10,e.offer.bid_decimals-e.offer.ask_decimals)),h=v(()=>({index:e.index,address:e.offer.address,method:"set_price",args:[Wp(f.value??0)],options:{user:e.offer.owner,fee_ratio:m.feeRatio}})),{promptPassphrase:w,isLocked:k}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:T}=Le(d,k),{data:S,isLoading:V,latestError:$}=zn(h,T),F=Dn(),H=async()=>{const K=await w(),Q={...h.value,options:{...h.value.options,passphrase:K}};await F.mutateAsync(Q)};return(K,Q)=>{const ae=Re,me=De,Z=Ce,ee=Ee,oe=Pe,M=Ve;return p(),g(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(M,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null," Update "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",Mp,[y("div",Bp,[a(N,{modelValue:o(m).amount,"onUpdate:modelValue":Q[0]||(Q[0]=ie=>o(m).amount=ie),modelModifiers:{number:!0},label:"New Price","input-class":"amount-input",suffix:t.offer.bid_symbol+" / "+t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","suffix","rules"])]),y("div",Np,[a(ae,{modelValue:o(m).feeRatio,"onUpdate:modelValue":Q[1]||(Q[1]=ie=>o(m).feeRatio=ie),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(S),"onUpdate:modelValue":Q[2]||(Q[2]=ie=>z(S)?S.value=ie:null),loading:o(V),error:o($),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",Up,[y("div",Kp,[a(Z)]),y("div",Qp,[y("div",zp,[a(ee),a(oe,{label:"Update"}),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Xp=Object.freeze(Object.defineProperty({__proto__:null,default:Hp},Symbol.toStringTag,{value:"Module"})),Gp={class:"q-gutter-y-sm"},Jp={class:"row justify-end q-col-gutter-sm"},Yp={class:"row"},Zp={class:"col"},ef={class:"col-11"},tf={class:"row justify-end q-gutter-x-sm"},lf={__name:"OfferCancelDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await F(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={feeRatio:null},d=L(null),m=I({..._}),f=v(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=Gn(f,k),$=Mn(),F=async()=>{const H=await h(),K={...f.value,options:{...f.value.options,passphrase:H}};await $.mutateAsync(K)};return(H,K)=>{const Q=Re,ae=De,me=Ce,Z=Ee,ee=Pe,oe=Ve;return p(),g(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(oe,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,b(H.$t("account_offers.revoke"))+" — "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",Gp,[y("div",Jp,[a(Q,{modelValue:o(m).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=M=>o(m).feeRatio=M),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(T),"onUpdate:modelValue":K[1]||(K[1]=M=>z(T)?T.value=M:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,{class:"q-mt-md"},{default:s(()=>[y("div",Yp,[y("div",Zp,[a(me)]),y("div",ef,[y("div",tf,[a(Z),a(ee,{label:H.$t("account_offers.revoke")},null,8,["label"]),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},of=Object.freeze(Object.defineProperty({__proto__:null,default:lf},Symbol.toStringTag,{value:"Module"})),af={class:"q-gutter-y-sm"},nf={__name:"ShowSeedDialog",props:{seed:{type:String,required:!0},withPassphrase:{type:Boolean,required:!1,default:!1},fingerPrint:{type:String,required:!1,default:null}},emits:[...pe.emits],setup(t){const{dialogRef:e,onDialogHide:l,onDialogOK:r}=pe();return(n,i)=>{const c=Vo;return p(),g(He,{ref_key:"dialogRef",ref:e,persistent:"",onHide:o(l)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(B,null,{default:s(()=>[y("div",af,[a(c,{"model-value":t.seed,readonly:""},null,8,["model-value"]),t.withPassphrase?(p(),g(N,{key:0,"model-value":t.fingerPrint,label:"Fingerprint (needed to verify passphrase)","input-class":"text-bold",readonly:""},null,8,["model-value"])):E("",!0)])]),_:1}),a(ol,{align:"right"},{default:s(()=>[a(o(el),null,{default:s(({copy:u,copied:_})=>[a(j,{label:"Copy",flat:"",icon:o(nl),onClick:d=>u(t.seed)},{default:s(()=>[a(ze,{"model-value":_===!0,"no-parent-event":""},{default:s(()=>i[0]||(i[0]=[q("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon","onClick"])]),_:1}),a(j,{label:"Ok",flat:"",onClick:o(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}}},sf=Object.freeze(Object.defineProperty({__proto__:null,default:nf},Symbol.toStringTag,{value:"Module"})),rf={class:"q-gutter-y-sm"},uf={class:"row justify-end q-col-gutter-sm"},df={class:"row justify-end q-col-gutter-sm"},cf={class:"row justify-end q-col-gutter-sm"},mf={class:"row"},_f={class:"col"},pf={class:"col-11"},ff={class:"row justify-end q-gutter-x-sm"},yf={__name:"OfferTradeDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await me(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),{promptPassphrase:f,isLocked:h}=xe(I({index:A(()=>e.index)})),{isValidConfirmed:w,isValidConfirmedUnlocked:k}=Le(d,h),{data:T}=ir(I({id:A(()=>e.offer.address),amount:v(()=>m.amount||0)})),S=v(()=>T.value?.trade.value??null),V=v(()=>T.value?.next_input.value??null),$=()=>{m.amount=parseFloat(V.value)},F=v(()=>({index:e.index,address:e.offer.address,amount:m.amount,price:T.value?.inv_price??e.offer.inv_price,options:{fee_ratio:m.feeRatio}})),{data:H,isLoading:K,latestError:Q}=Jn(F,k),ae=Bn(),me=async()=>{const M=await f(),ie={...F.value,options:{...F.value.options,passphrase:M}};await ae.mutateAsync(ie)},{data:Z}=je(I({index:A(()=>e.index),currency:A(()=>e.offer.ask_currency)}),M=>M?M.spendable:0),ee=M=>M<=Z.value||"Insufficient funds",oe=v(()=>{const M=T.value?parseFloat(T.value.trade.amount):0;return w.value&&m.amount>0&&m.amount<=Z.value&&M>0&&M<=e.offer.bid_balance});return(M,ie)=>{const ke=Re,ft=De,yt=Ce,ht=Ee,ye=Pe,Qt=Ve;return p(),g(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(Qt,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Trade — "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",rf,[y("div",uf,[a(N,{"model-value":o(Z),label:M.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{modelValue:o(m).amount,"onUpdate:modelValue":ie[0]||(ie[0]=Je=>o(m).amount=Je),modelModifiers:{number:!0},debounce:200,label:M.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount,ee],class:"col-md-4 col-sm-5 col-xs-6"},{append:s(()=>[a(j,{icon:o(an),color:"secondary",round:"",outline:"",dense:"",onClick:$},{default:s(()=>[a(ze,null,{default:s(()=>[q(b(M.$t("market_offers.increase")),1)]),_:1})]),_:1},8,["icon"])]),_:1},8,["modelValue","label","suffix","rules"])]),y("div",df,[a(N,{"model-value":t.offer.bid_balance_value,label:"They Offer","input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix"]),a(N,{"model-value":o(S),label:M.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",cf,[a(ke,{modelValue:o(m).feeRatio,"onUpdate:modelValue":ie[1]||(ie[1]=Je=>o(m).feeRatio=Je),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ft,{modelValue:o(H),"onUpdate:modelValue":ie[2]||(ie[2]=Je=>z(H)?H.value=Je:null),loading:o(K),error:o(Q),locked:o(h),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,null,{default:s(()=>[y("div",mf,[y("div",_f,[a(yt)]),y("div",pf,[y("div",ff,[a(ht),a(ye,{label:M.$t("market_offers.trade"),disable:!o(oe)},null,8,["label","disable"]),a(j,{label:M.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},hf=Object.freeze(Object.defineProperty({__proto__:null,default:yf},Symbol.toStringTag,{value:"Module"})),gf={class:"q-gutter-y-sm"},bf={class:"row justify-end q-col-gutter-sm"},vf={class:"row justify-end q-col-gutter-sm"},wf={class:"row justify-end q-col-gutter-sm"},xf={class:"row"},kf={class:"col"},Sf={class:"col-11"},$f={class:"row justify-end q-gutter-x-sm"},qf={__name:"OfferAcceptDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:n,onDialogCancel:i}=pe(),c=async()=>{await F(),n()},u=()=>{d.value&&d.value.onDialogShow()},_={amount:null,feeRatio:null},d=L(null),m=I({..._}),f=v(()=>({index:e.index,address:e.offer.address,price:e.offer.inv_price,options:{fee_ratio:m.feeRatio}})),{promptPassphrase:h,isLocked:w}=xe(I({index:A(()=>e.index)})),{isValidConfirmedUnlocked:k}=Le(d,w),{data:T,isLoading:S,latestError:V}=Yn(f,k),$=Nn(),F=async()=>{const K=await h(),Q={...f.value,options:{...f.value.options,passphrase:K}};await $.mutateAsync(Q)},{data:H}=je(I({index:A(()=>e.index),currency:A(()=>e.offer.ask_currency)}),K=>K?K.spendable:0);return(K,Q)=>{const ae=Re,me=De,Z=Ce,ee=Ee,oe=Pe,M=Ve;return p(),g(He,{ref_key:"dialogRef",ref:l,persistent:"",onShow:u,onHide:o(r)},{default:s(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:s(()=>[a(M,{ref_key:"formRef",ref:d,data:o(m),"default-data":_,onSubmit:c},{default:s(()=>[a(We,{class:"bg-primary text-white"},{default:s(()=>[a(at,{class:"text-subtitle1"},{default:s(()=>[y("b",null,"Accept — "+b(t.offer.address),1)]),_:1})]),_:1}),a(B,null,{default:s(()=>[y("div",gf,[y("div",bf,[a(N,{"model-value":o(H),label:K.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(N,{"model-value":t.offer.ask_value,label:K.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",vf,[a(N,{"model-value":t.offer.bid_balance_value,label:K.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",wf,[a(ae,{modelValue:o(m).feeRatio,"onUpdate:modelValue":Q[0]||(Q[0]=ie=>o(m).feeRatio=ie),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(T),"onUpdate:modelValue":Q[1]||(Q[1]=ie=>z(T)?T.value=ie:null),loading:o(S),error:o(V),locked:o(w),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(B,{class:"q-mt-md"},{default:s(()=>[y("div",xf,[y("div",kf,[a(Z)]),y("div",Sf,[y("div",$f,[a(ee),a(oe,{label:K.$t("market_offers.accept")},null,8,["label"]),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(i)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},Tf=Object.freeze(Object.defineProperty({__proto__:null,default:qf},Symbol.toStringTag,{value:"Module"}));
