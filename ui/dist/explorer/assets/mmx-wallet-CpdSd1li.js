var ie=Object.defineProperty;var Ct=r=>{throw TypeError(r)};var oe=(r,t,n)=>t in r?ie(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var i=(r,t,n)=>oe(r,typeof t!="symbol"?t+"":t,n),vt=(r,t,n)=>t.has(r)||Ct("Cannot "+n);var c=(r,t,n)=>(vt(r,t,"read from private field"),n?n.call(r):t.get(r)),f=(r,t,n)=>t.has(r)?Ct("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,n),_=(r,t,n,e)=>(vt(r,t,"write to private field"),e?e.call(r,n):t.set(r,n),n),Q=(r,t,n)=>(vt(r,t,"access private method"),n);import{J as ae,s as B,i as St,h as Kt,u as xt,a as Wt,b as ce,e as Ot,c as Gt,z as he,d as fe,f as le,r as ue,g as Xt,j as de,k as Pt,l as Jt}from"./modules-B9WOfx72.js";import{b as Dt,a as Yt,m as ye,e as pe,w as Rt}from"./@scure-Cgy0Rt2e.js";const _e="modulepreload",we=function(r,t){return new URL(r,t).href},Mt={},u=function(t,n,e){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),l=h?.nonce||h?.getAttribute("nonce");s=Promise.allSettled(n.map(y=>{if(y=we(y,e),y in Mt)return;Mt[y]=!0;const A=y.endsWith(".css"),Et=A?'[rel="stylesheet"]':"";if(e)for(let v=a.length-1;v>=0;v--){const Z=a[v];if(Z.href===y&&(!A||Z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${Et}`))return;const w=document.createElement("link");if(w.rel=A?"stylesheet":_e,A||(w.as="script"),w.crossOrigin="",w.href=y,l&&w.setAttribute("nonce",l),document.head.appendChild(w),A)return new Promise((v,Z)=>{w.addEventListener("load",v),w.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(a){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=a,window.dispatchEvent(h),!h.defaultPrevented)throw a}return s.then(a=>{for(const h of a||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},Nt=ae({alwaysParseAsBig:!0,useNativeBigInt:!0}),me=Object.freeze({BURN:1273454750,CLAIM:3251493825,DEPLOY:251696509,DEPOSIT:4272391094,EXECUTE:356250251,MINT:2140500429,MUTATE:2579166487,OFFER:1549148948,REVOKE:3821531424,REWARD:3842121424,TIMELORD_REWARD:1783340485,TRADE:329618288,TRANSFER:858544509,WITHDRAW:4266232802});var $,V,It;class x{constructor(t){f(this,V);f(this,$,new Uint8Array);St(t)?Q(this,V,It).call(this,t):typeof t=="string"&&Q(this,V,It).call(this,Kt(t))}valueOf(){return c(this,$)}toString(){return this.valueOf().toHex()}}$=new WeakMap,V=new WeakSet,It=function(t){const n=xt(t);_(this,$,n)};const D=class D extends x{constructor(t){if(typeof t=="string"){const n=Dt.decodeToBytes(t),{prefix:e,bytes:s}=n;if(e!=D.prefix)throw new Error("Invalid address prefix");super(s.toReversed())}else if(St(t)){if(t.length!=32)throw new Error("Invalid address length");super(t)}else if(t==null)super(new Uint8Array(32));else throw new Error(`Invalid address type ${typeof t}`)}toString(){return Dt.encodeFromBytes(D.prefix,this.valueOf().toReversed())}};i(D,"prefix","mmx");let g=D;class m extends x{constructor(t){t==null?super(new Uint8Array(32)):super(B(t))}}class P{constructor(t){i(this,"port",0);i(this,"decimals",6);i(this,"min_ksize",29);i(this,"max_ksize",32);i(this,"plot_filter",4);i(this,"post_filter",10);i(this,"commit_delay",18);i(this,"infuse_delay",6);i(this,"challenge_delay",9);i(this,"challenge_interval",48);i(this,"max_diff_adjust",10);i(this,"max_vdf_count",100);i(this,"avg_proof_count",3);i(this,"max_proof_count",50);i(this,"max_validators",11);i(this,"min_reward",2e5);i(this,"vdf_reward",5e5);i(this,"vdf_reward_interval",50);i(this,"vdf_segment_size",5e4);i(this,"reward_adjust_div",100);i(this,"reward_adjust_tick",1e4);i(this,"reward_adjust_interval",8640);i(this,"target_mmx_gold_price",2e3);i(this,"time_diff_divider",1e3);i(this,"time_diff_constant",1e6);i(this,"space_diff_constant",1e8);i(this,"initial_time_diff",50);i(this,"initial_space_diff",10);i(this,"initial_time_stamp",0);i(this,"min_txfee",100);i(this,"min_txfee_io",100);i(this,"min_txfee_sign",1e3);i(this,"min_txfee_memo",50);i(this,"min_txfee_exec",1e4);i(this,"min_txfee_deploy",1e5);i(this,"min_txfee_depend",5e4);i(this,"min_txfee_byte",10);i(this,"min_txfee_read",1e3);i(this,"min_txfee_read_kbyte",1e3);i(this,"max_block_size",1e7);i(this,"max_block_cost",1e8);i(this,"max_tx_cost",1e6);i(this,"max_rcall_depth",3);i(this,"max_rcall_width",10);i(this,"min_fee_ratio",null);i(this,"block_interval_ms",1e4);i(this,"network",null);i(this,"nft_binary",null);i(this,"swap_binary",null);i(this,"offer_binary",null);i(this,"token_binary",null);i(this,"plot_nft_binary",null);i(this,"escrow_binary",null);i(this,"time_lock_binary",null);i(this,"relay_binary",null);i(this,"fixed_project_reward",5e4);i(this,"project_ratio",null);i(this,"reward_activation",5e4);i(this,"transaction_activation",1e5);i(this,"hardfork1_height",1e6);if(!t)throw new Error("params is required");Object.assign(this,t)}}var K;class R{constructor(t){f(this,K);t!=null&&_(this,K,t)}valueOf(){return c(this,K)}}K=new WeakMap;const M=class M{constructor({address:t,contract:n,amount:e,memo:s}){i(this,"address","");i(this,"contract","");i(this,"amount","0");i(this,"memo",null);this.address=t,this.contract=n,this.amount=e.toString()??this.amount,this.memo=s??this.memo}getHashProxy(){return new Proxy(this,M.hashHandler)}calc_cost(t){const n=new P(t);let e=BigInt(n.min_txfee_io);return e+=this.memo?BigInt(Math.floor((this.memo.length+31)/32))*BigInt(n.min_txfee_memo):0n,e}};i(M,"MAX_MEMO_SIZE",64),i(M,"hashHandler",{get:(t,n)=>{const e=t[n];switch(n){case"address":return new g(e);case"contract":return new g(e);case"amount":return BigInt(e);case"memo":return new R(e);default:return e}}});let q=M;class j extends q{constructor({address:n,contract:e,amount:s,memo:o,solution:a,flags:h}){super({address:n,contract:e,amount:s,memo:o});i(this,"solution",-1);i(this,"flags",0);this.solution=a??this.solution,this.flags=h??this.flags}}i(j,"NO_SOLUTION",-1),i(j,"IS_EXEC",1);class kt extends q{}var U,T;const N=class N{constructor(t){f(this,U,null);f(this,T,null);let n;if(typeof t=="string")n=BigInt(t);else if(typeof t=="number")n=BigInt(t);else if(typeof t=="bigint")n=t;else throw new Error("Unsupported type");if(n>>128n)throw new Error("uint128() overflow");_(this,U,n&N.BITMASK_64),_(this,T,n>>64n&N.BITMASK_64)}valueOf(){return c(this,T)<<64n|c(this,U)}lower(){return c(this,U)}upper(){return c(this,T)}toHex(){return"0x"+this.valueOf().toString(16)}};U=new WeakMap,T=new WeakMap,i(N,"BITMASK_64",0xffffffffffffffffn);let H=N;const be=r=>{const t=r.reduce((s,o)=>s+o.byteLength,0),n=new Uint8Array(t);let e=0;return r.forEach(s=>{n.set(s,e),e+=s.byteLength}),n};var O,S;class Zt{constructor(){f(this,O,[]);f(this,S,new Uint8Array([]))}get buffer(){return this.flush(),c(this,S)}flush(){if(c(this,O).length>0){const t=c(this,O).flat();_(this,S,be([c(this,S),...t])),_(this,O,[])}}write(t){c(this,O).push(xt(t))}}O=new WeakMap,S=new WeakMap;const ge=0,xe=1,Ae=2,Ee=3,ve=4,Oe=5,Ie=6,He=7,Be=8,Le=12,Ue=17,Te=24,Se=31,Pe=32,Re=100;var d;const st=class st{constructor(t,n=0){f(this,d,new Zt);i(this,"value",null);if(++n>Re)throw new Error("recursion too deep");if(this.value=t,t==null){const e=ge,s=new Uint16Array([1,e]);c(this,d).write(s);const o=new Uint32Array([]);c(this,d).write(o)}else if(typeof t=="bigint"||typeof t=="number"&&Number.isInteger(t)){let e,s;const o=this.bitSize(t);t>=0?o<=8?(e=xe,s=new Uint8Array([Number(t)])):o<=16?(e=Ae,s=new Uint16Array([Number(t)])):o<=32?(e=Ee,s=new Uint32Array([Number(t)])):(e=ve,s=new BigUint64Array([t])):o<=9?(e=Oe,s=new Int8Array([Number(t)])):o<=17?(e=Ie,s=new Int16Array([Number(t)])):o<=33?(e=He,s=new Int32Array([Number(t)])):(e=Be,s=new BigInt64Array([BigInt(t)]));const a=new Uint16Array([1,e]);c(this,d).write(a),c(this,d).write(s)}else if(typeof t=="boolean"){const e=Se,s=new Uint16Array([1,e]);c(this,d).write(s);const o=new Uint8Array([t]);c(this,d).write(o)}else if(typeof t=="string"){const e=Pe,s=new Uint16Array([1,e]);c(this,d).write(s);const o=new TextEncoder().encode(t),a=new Uint32Array([o.length]);c(this,d).write(a),c(this,d).write(o)}else if(Array.isArray(t)){const e=Le,s=new Uint16Array([2,e,Ue]);c(this,d).write(s);const o=new Uint32Array([t.length]);c(this,d).write(o),t.forEach(a=>{const h=new st(a,n).data;c(this,d).write(h)})}else if(typeof t=="object"){const e=Te,s=new Uint16Array([1,e]);c(this,d).write(s);const o=Object.keys(t),a=new Uint32Array([o.length]);c(this,d).write(a),o.sort((h,l)=>h.localeCompare(l)).forEach(h=>{const l=new TextEncoder().encode(h),y=new Uint32Array([l.length]);c(this,d).write(y),c(this,d).write(l);const A=new st(t[h],n).data;c(this,d).write(A)})}else throw new Error("Unsupported type",typeof t)}get data(){return c(this,d).buffer}size(){return c(this,d).buffer.byteLength}valueOf(){return this.value}bitSize(t){return t.toString(2).length}};d=new WeakMap;let b=st;var W,G;class qt{constructor(t,n){f(this,W);f(this,G);_(this,W,t),_(this,G,n)}get key(){return c(this,W)}get value(){return c(this,G)}}W=new WeakMap,G=new WeakMap;class ke{get field(){const t=Object.entries(this).map(([n,e])=>[n,new b(e)]);return new Map(t)}constructor(t){Object.assign(this,t)}}Object.defineProperty(Uint8Array.prototype,"first",{get(){Wt(this,64);const r=this.length,t=Math.floor(r/2);return this.slice(0,t)}});Object.defineProperty(Uint8Array.prototype,"second",{get(){Wt(this,64);const r=this.length,t=Math.floor(r/2);return this.slice(t,this.length)}});Uint8Array.prototype.toHex=function(){return ce(this).toUpperCase()};class C extends Zt{write_bytes_cstr(t){const n=new TextEncoder().encode(t);this.write(n)}write_bytes_boolean(t){this.write(new Uint8Array([t?1:0]))}write_bytes_string(t){this.write_bytes_cstr("string<>");const n=new TextEncoder().encode(t);this.write_length(n),this.write(n)}write_bytes_int32(t){if(!Number.isInteger(t)||t<-2147483648||t>4294967295)throw new Error(`Invalid number: ${t}`);this.write_bytes_int64(new Uint32Array([t]))}write_bytes_int64(t){const n=new BigInt64Array([t]);this.write(n)}write_bytes_int128(t){const n=Kt(t.toString(16).padStart(32,"0")).toReversed();this.write(n)}write_bytes_bytes(t){this.write_bytes_cstr("bytes<>"),this.write_length(t),this.write(t)}write_length(t){const n=xt(t);this.write_bytes(n.length)}write_bytes_variant(t){const n=t.valueOf();n==null?this.write_bytes_cstr("NULL"):this.write_bytes(n)}write_bytes_optional(t){this.write_bytes_cstr("optional<>"),t.valueOf()!=null?(this.write_bytes(!0),this.write_bytes(t.valueOf())):this.write_bytes(!1)}write_bytes_array(t,n){this.write_bytes_cstr("vector<>"),this.write_bytes(t.length);for(let e=0;e<t.length;e++)this.write_bytes(t[e],n)}write_bytes_pair(t){this.write_bytes_cstr("pair<>"),this.write_bytes(t.key),this.write_bytes(t.value)}write_bytes_map(t){let n=[];t.forEach((e,s)=>{n.push(new qt(s,e))}),this.write_bytes(n)}write_bytes_txin_t(t,n){this.write_bytes_cstr("txin_t<>"),this.write_bytes_ex(t),n&&(this.write_bytes(t.solution),this.write_bytes(t.flags))}write_bytes_txout_t(t){this.write_bytes_cstr("txout_t<>"),this.write_bytes_ex(t)}write_bytes_ex(t){this.write_bytes(t.address),this.write_bytes(t.contract),this.write_bytes_int128(t.amount),this.write_bytes(t.memo)}write_bytes_object(t){this.write_bytes_cstr("object<>"),this.write_bytes(t.field)}write_bytes_uint128(t){this.write_bytes(t.lower()),this.write_bytes(t.upper())}write_bytes(t,n){let e=t;if(typeof e=="boolean")this.write_bytes_boolean(e);else if(typeof e=="string")this.write_bytes_string(e);else if(typeof e=="number")this.write_bytes_int32(e);else if(typeof e=="bigint")this.write_bytes_int64(e);else if(typeof e=="object")if(typeof e.getHashProxy=="function"&&(e=e.getHashProxy()),Array.isArray(e))this.write_bytes_array(e,n);else if(e instanceof Map)this.write_bytes_map(e);else if(e.constructor?.name&&St(e))this.write_bytes_bytes(e);else if(e instanceof x)this.write_bytes_bytes(e.valueOf());else if(e instanceof j)this.write_bytes_txin_t(e,n);else if(e instanceof kt)this.write_bytes_txout_t(e);else if(e instanceof R)this.write_bytes_optional(e);else if(e instanceof b)this.write_bytes_variant(e);else if(e instanceof qt)this.write_bytes_pair(e);else if(e instanceof ke)this.write_bytes_object(e);else if(e instanceof H)this.write_bytes_uint128(e);else throw new Error("Unknown object type");else throw new Error(`Unknown type: ${typeof e}`)}write_field(t,n,e){this.write_bytes_cstr("field<>"),this.write_bytes(t),n!=null&&this.write_bytes(n,e)}}var it;const ot=class ot{constructor({pubkey:t,signature:n}){f(this,it,BigInt("0xe47af6fcacfcefa5"));i(this,"__type","mmx.solution.PubKey");i(this,"version",0);i(this,"pubkey","");i(this,"signature","");this.pubkey=t,this.signature=n}getHashProxy(){return new Proxy(this,ot.hashHandler)}hash_serialize(t){const n=this.getHashProxy(),e=new C;return e.write_bytes(c(this,it)),e.write_field("version",n.version),e.write_field("pubkey",n.pubkey),e.write_field("signature",n.signature),e.buffer}calc_hash(t){const n=this.hash_serialize(t);return new m(n).valueOf()}calc_cost(t){return BigInt(t.min_txfee_sign)}};it=new WeakMap,i(ot,"hashHandler",{get:(t,n)=>{const e=t[n];switch(n){case"pubkey":return new x(e);case"signature":return new x(e);default:return e}}});let Ht=ot;const F=r=>{if(!(r instanceof b))throw new Error("Invalid type");if(r.valueOf()===null||typeof r.valueOf()=="boolean")return 1;if(typeof r.valueOf()=="number"||typeof r.valueOf()=="bigint")return 8;if(typeof r.valueOf()=="string")return 4+r.valueOf().length;if(r.valueOf()instanceof Array){let t=4;for(let n of r.valueOf())t+=F(new b(n));return t}else if(typeof r.valueOf()=="object"){let t=4;for(let[n,e]of Object.entries(r.valueOf()))t+=n.length+F(new b(e));return t}return r.size()},at=class at{constructor(t){i(this,"__type","mmx.operation");i(this,"version",0);i(this,"address",null);i(this,"solution",at.NO_SOLUTION);if(t.__type==="mmx.operation.Execute")return new k(t);if(t.__type==="mmx.operation.Deposit")return new nt(t);if(typeof t=="object")this.address=t.address,this.solution=t.solution??this.solution;else throw new Error("Invalid Operation type")}toJSON(){return{__type:this.__type,version:this.version,address:this.address,solution:this.solution}}};i(at,"NO_SOLUTION",65535);let et=at;var ct;const ht=class ht extends et{constructor({address:n,solution:e,method:s,args:o,user:a}){super({address:n,solution:e});f(this,ct,BigInt("0x8cd9012d9098c1d1"));i(this,"__type","mmx.operation.Execute");i(this,"method",null);i(this,"args",[]);i(this,"user",null);this.method=s??this.method,this.args=o??this.args,this.user=a??this.user}toJSON(){return{...super.toJSON(),method:this.method,args:this.args,user:this.user}}getHashProxy(){return new Proxy(this,ht.hashHandler)}hash_serialize(n){const e=this.getHashProxy(),s=new C;return s.write_bytes(c(this,ct)),s.write_field("version",e.version),s.write_field("address",e.address),s.write_field("method",e.method),s.write_field("args",e.args),s.write_field("user",e.user),n&&s.write_field("solution",e.solution),s.buffer}calc_hash(n){const e=this.hash_serialize(n);return new m(e).valueOf()}calc_cost(n){let e=this.method.length;const s=this.getHashProxy();return e+=s.args.reduce((o,a)=>(o+=F(a),o),0),0n+BigInt(e)*BigInt(n.min_txfee_byte)}};ct=new WeakMap,i(ht,"hashHandler",{get:(n,e)=>{const s=n[e];switch(e){case"address":return new g(s);case"args":return s.map(o=>new b(o));case"user":return new R(s?new g(s):null);default:return s}}});let k=ht;var ft;const lt=class lt extends k{constructor({address:n,solution:e,method:s,args:o,user:a,currency:h,amount:l}){super({address:n,solution:e,method:s,args:o,user:a});f(this,ft,BigInt("0xc23408cb7b04b0ec"));i(this,"__type","mmx.operation.Deposit");i(this,"currency",null);i(this,"amount",0);this.currency=h,this.amount=BigInt(l)}toJSON(){return{...super.toJSON(),currency:this.currency,amount:this.amount.toString()}}getHashProxy(){return new Proxy(this,lt.hashHandler)}hash_serialize(n){const e=this.getHashProxy(),s=new C;return s.write_bytes(c(this,ft)),s.write_field("version",e.version),s.write_field("address",e.address),s.write_field("method",e.method),s.write_field("args",e.args),s.write_field("user",e.user),s.write_field("currency",e.currency),s.write_field("amount",e.amount),n&&s.write_field("solution",e.solution),s.buffer}calc_hash(n){const e=this.hash_serialize(n);return new m(e).valueOf()}};ft=new WeakMap,i(lt,"hashHandler",{get:(n,e)=>{const s=n[e];switch(e){case"currency":return new g(s);case"amount":return new H(s);default:return k.hashHandler.get(n,e)}}});let nt=lt;var ut;const dt=class dt{constructor({did_fail:t,total_cost:n,total_fee:e,inputs:s,outputs:o,error:a}){f(this,ut,BigInt("0x18fe02e2374b039e"));i(this,"__type","mmx.exec_result_t");i(this,"did_fail",!1);i(this,"total_cost",0);i(this,"total_fee",0);i(this,"inputs",[]);i(this,"outputs",[]);i(this,"error",null);this.did_fail=t,this.total_cost=n,this.total_fee=e,this.inputs=s,this.outputs=o,this.error=a}getHashProxy(){return new Proxy(this,dt.hashHandler)}hash_serialize(t){const n=this.getHashProxy(),e=new C;return e.write_bytes(c(this,ut)),e.write_field("did_fail",n.did_fail),e.write_field("total_cost",n.total_cost),e.write_field("total_fee",n.total_fee),e.write_field("inputs",n.inputs),e.write_field("outputs",n.outputs),e.write_field("error",n.error.valueOf()?n.error.valueOf().calc_hash():new m),e.buffer}calc_hash(t){const n=this.hash_serialize(t);return new m(n).valueOf()}calc_cost(t){const n=new P(t),e=this.getHashProxy();let s=0n;return e.inputs.map(o=>s+=o.calc_cost(n)),e.outputs.map(o=>s+=o.calc_cost(n)),s}};ut=new WeakMap,i(dt,"hashHandler",{get:(t,n)=>{const e=t[n];switch(n){case"inputs":return e.map(s=>new j(s));case"outputs":return e.map(s=>new kt(s));case"error":return new R(e);default:return e}}});let Bt=dt;var Ut;class Ce{constructor(t){f(this,Ut,BigInt("0x26b896ae8c415285"));i(this,"__type","mmx.Contract");i(this,"version",0);this.version=t.version??this.version}num_bytes(t){return 16}}Ut=new WeakMap;var Tt;const yt=class yt extends Ce{constructor(n){super(n);f(this,Tt,BigInt("0x5aeed4c96d232b5e"));i(this,"__type","mmx.contract.TokenBase");i(this,"name","");i(this,"symbol","");i(this,"decimals",0);i(this,"meta_data",null);this.name=n.name??this.name,this.symbol=n.symbol??this.symbol,this.decimals=n.decimals??this.decimals,this.meta_data=n.meta_data??this.meta_data}getHashProxy(){return new Proxy(this,yt.hashHandler)}num_bytes(){const n=this.getHashProxy();return super.num_bytes()+this.name.length+this.symbol.length+F(n.meta_data)}};Tt=new WeakMap,i(yt,"hashHandler",{get:(n,e)=>{const s=n[e];switch(e){case"meta_data":return new b(s);default:return s}}});let rt=yt;var pt;const _t=class _t extends rt{constructor(n){super(n);f(this,pt,BigInt("0xfa6a3ac9103ebb12"));i(this,"__type","mmx.contract.Executable");i(this,"binary","");i(this,"init_method","init");i(this,"init_args",[]);i(this,"depends",[]);this.binary=n.binary??this.binary,this.init_method=n.init_method??this.init_method,this.init_args=n.init_args??this.init_args,this.depends=n.depends??this.depends}getHashProxy(){return new Proxy(this,_t.hashHandler)}hash_serialize(n){const e=this.getHashProxy(),s=new C;return s.write_bytes(c(this,pt)),s.write_field("version",e.version),s.write_field("name",e.name),s.write_field("symbol",e.symbol),s.write_field("decimals",e.decimals),s.write_field("meta_data",e.meta_data),s.write_field("binary",e.binary),s.write_field("init_method",e.init_method),s.write_field("init_args",e.init_args),s.write_field("depends",e.depends),s.buffer}calc_hash(n){const e=this.hash_serialize(n);return new m(e).valueOf()}num_bytes(){const n=this.getHashProxy();let e=super.num_bytes()+32+this.init_method.length+n.depends.size*32;return n.init_args.map(s=>e+=F(s)),n.depends.forEach((s,o)=>e+=o.length),e}calc_cost(n){const e=new P(n),s=this.getHashProxy();return BigInt(this.num_bytes())*BigInt(e.min_txfee_byte)+BigInt(s.depends.size)*BigInt(e.min_txfee_depend)}};pt=new WeakMap,i(_t,"hashHandler",{get:(n,e)=>{const s=n[e];switch(e){case"binary":return new g(s);case"init_args":return s.map(o=>new b(o));case"depends":if(s.length>0)throw new Error("Not implemented");return new Map;default:return rt.hashHandler.get(n,e)}}});let z=_t;const{randomBytes:De,bytesToNumberBE:Me}=Ot;var wt,mt,Qt,X;const L=class L{constructor(){f(this,mt);f(this,wt,BigInt("0xce0462acdceaa5bc"));i(this,"__type","mmx.Transaction");i(this,"id",new m().toString());i(this,"version",0);i(this,"expires",4294967295);i(this,"fee_ratio",1024);i(this,"static_cost",0);i(this,"max_fee_amount",0);i(this,"note",0);i(this,"nonce",0n);i(this,"network","");i(this,"sender",null);i(this,"inputs",[]);i(this,"outputs",[]);i(this,"execute",[]);i(this,"solutions",[]);i(this,"deploy",null);i(this,"exec_result",null);f(this,X,{})}static parse(t){const n=Nt.parse(t);return L.cast(n)}static cast(t){return Object.assign(new L,t)}toString(...t){return Q(this,mt,Qt).call(this,...t)}getHashProxy(){return new Proxy(this,L.hashHandler)}hash_serialize(t){const n=this.getHashProxy(),e=new C;e.write_bytes(c(this,wt)),e.write_field("version",n.version),e.write_field("expires",n.expires),e.write_field("fee_ratio",n.fee_ratio),e.write_field("max_fee_amount",n.max_fee_amount),e.write_field("note",n.note),e.write_field("nonce",n.nonce),e.write_field("network",n.network),e.write_field("sender",n.sender),e.write_field("inputs",n.inputs,t),e.write_field("outputs",n.outputs),e.write_field("execute"),e.write_bytes(n.execute.length);for(const s of n.execute)e.write_bytes(new x(s.calc_hash(t)));if(e.write_field("deploy",n.deploy?new x(n.deploy.calc_hash(t)):new m),t){e.write_field("static_cost",n.static_cost),e.write_field("solutions"),e.write_bytes(n.solutions.length);for(const s of n.solutions)e.write_bytes(new x(s.calc_hash()));e.write_field("exec_result",n.exec_result.valueOf()?new x(n.exec_result.valueOf().calc_hash()):new m)}return e.buffer}calc_hash(t){const n=this.hash_serialize(t);return new m(n).valueOf()}finalizeId(){this.id=this.calc_hash().toHex()}finalize(){for(;!this.nonce;)this.nonce=Me(De(8));this.finalizeId()}add_output(t,n,e,s){if(s&&s.length>q.MAX_MEMO_SIZE)throw new Error("memo too long");const o={address:n,contract:t,amount:e,memo:s};this.outputs.push(o)}calc_cost(t){const n=new P(t),e=this.getHashProxy();let s=BigInt(n.min_txfee);if(s+=BigInt(this.execute.length)*BigInt(n.min_txfee_exec),e.exec_result.valueOf()&&(s+=e.exec_result.valueOf().calc_cost(n)),s+=e.inputs.reduce((o,a)=>(o+=a.calc_cost(n),o),0n),s+=e.outputs.reduce((o,a)=>(o+=a.calc_cost(n),o),0n),s+=e.execute.reduce((o,a)=>(o+=a.calc_cost(n),o),0n),s+=e.solutions.reduce((o,a)=>(o+=a.calc_cost(n),o),0n),e.deploy&&(s+=BigInt(n.min_txfee_deploy)+e.deploy.calc_cost(n)),s>>64n)throw new Error("tx cost amount overflow");return s}get aux(){return c(this,X)}set aux(t){_(this,X,t)}};wt=new WeakMap,mt=new WeakSet,Qt=function(...t){return Nt.stringify(this,...t)},X=new WeakMap,i(L,"hashHandler",{get:(t,n)=>{const e=t[n];switch(n){case"note":return me[e];case"sender":return new R(e?new g(e):null);case"inputs":return e.map(s=>new j(s));case"outputs":return e.map(s=>new kt(s));case"execute":return e.map(s=>new et(s));case"solutions":return e.map(s=>new Ht(s));case"deploy":return e?new z(e):null;case"exec_result":return new R(e!==null?new Bt(e):null);default:return e}}});let p=L;const Ne="__type id version expires fee_ratio static_cost max_fee_amount note nonce network sender inputs outputs execute solutions deploy exec_result content_hashaddress contract amount memo solution flags signaturemethod args user withdraw symbol binary init_method init_args",qe="BURN CLAIM DEPLOY DEPOSIT EXECUTE MINT MUTATE OFFER REVOKE TRADE TRANSFER WITHDRAWmmx.solution.PubKey mmx.contract.Executable mmx1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqdgytevmainnet",je='00000000 null [{""}]',Fe=[...Ne.split(" ").map(r=>`"${r}":`),...qe.split(" ").map(r=>`"${r}"`),...je.split(" ")].join(""),te=Gt(Fe);p.prototype.toCompressed=function(){const r=this.toString(),t=p.parse(r);delete t.__type;const n=t.toString(),e=Gt(n);return he(e,{level:9,dictionary:te})};p.prototype.toCompressedBase64=function(){return Yt.encode(this.toCompressed())};p.fromCompressed=function(r){const n=fe(le(r,{dictionary:te}));return p.parse(n)};p.fromCompressedBase64=function(r){return p.fromCompressed(Yt.decode(r))};const ze=(r,t)=>(t||(t=Rt),ye(r,t).toReversed()),$e=(r,t)=>(t||(t=Rt),pe(r,t)),Ve=()=>ue(256/8),sn=r=>(r||(r=Rt),$e(Ve(),r));Ot.hmacSha256Sync=(r,...t)=>Pt(B,r,Ot.concatBytes(...t));const ee=4096,ne=(r,t,n)=>{let e=new Uint8Array(t);for(let s=0;s<n;++s)e=Pt.create(Jt,e).update(r).digest();return e},tt=(r,t,n)=>{const e=xt(new Uint32Array([n])).toReversed();return Pt.create(Jt,t).update(r).update(e).digest()},Ke=r=>{const t=ne(r,B("MMX/farmer_keys"),ee),n=tt(t.first,t.second,0);return Xt(n.first)},re=(r,t,n)=>{const e=ne(r,B("MMX/seed/"+t),ee),s=tt(e.first,e.second,11337),o=tt(s.first,s.second,0),h=tt(o.first,o.second,n).first,l=Xt(h);return{privKey:h,pubKey:l}},We=(r,t,n)=>{const{pubKey:e}=re(r,t,n),s=B(e);return new g(s).toString()},Ge=(r,t)=>{let n=new Uint8Array(32);t&&(n=B("MMX/fingerprint/"+t));let e=new Uint8Array(32);for(let o=0;o<16384;++o)e=B(new Uint8Array([...e,...r,...n]));return de(e)[0]},Xe={getFarmerKey:Ke,getAddress:We,getFingerPrint:Ge,getKeys:re},se='var un=Object.defineProperty;var xe=A=>{throw TypeError(A)};var ln=(A,m,H)=>m in A?un(A,m,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[m]=H;var pe=(A,m,H)=>ln(A,typeof m!="symbol"?m+"":m,H),Ut=(A,m,H)=>m.has(A)||xe("Cannot "+H);var ye=(A,m,H)=>(Ut(A,m,"read from private field"),H?H.call(A):m.get(A)),vt=(A,m,H)=>m.has(A)?xe("Cannot add the same private member more than once"):m instanceof WeakSet?m.add(A):m.set(A,H),ge=(A,m,H,Y)=>(Ut(A,m,"write to private field"),Y?Y.call(A,H):m.set(A,H),H),It=(A,m,H)=>(Ut(A,m,"access private method"),H);(function(){"use strict";var z,Z,Ct;function A(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function m(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H(t,...e){if(!m(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Y(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");A(t.outputLen),A(t.blockLen)}function q(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function we(t,e){H(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $t(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function Ae(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ht(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function U(t,e){return t<<32-e|t>>>e}const me=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function He(t){H(t);let e="";for(let n=0;n<t.length;n++)e+=me[t[n]];return e}const v={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tt(t){if(t>=v._0&&t<=v._9)return t-v._0;if(t>=v.A&&t<=v.F)return t-(v.A-10);if(t>=v.a&&t<=v.f)return t-(v.a-10)}function Be(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const c=Tt(t.charCodeAt(o)),a=Tt(t.charCodeAt(o+1));if(c===void 0||a===void 0){const d=t[o]+t[o+1];throw new Error(\'hex string expected, got non-hex character "\'+d+\'" at index \'+o)}r[s]=c*16+a}return r}function Ee(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function dt(t){return typeof t=="string"&&(t=Ee(t)),H(t),t}class kt{clone(){return this._cloneInto()}}function Ft(t){const e=r=>t().update(dt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Le(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),o=BigInt(4294967295),c=Number(n>>s&o),a=Number(n&o),d=r?4:0,y=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+y,a,r)}function Se(t,e,n){return t&e^~t&n}function Ue(t,e,n){return t&e^t&n^e&n}class Mt extends kt{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ht(this.buffer)}update(e){q(this);const{view:n,buffer:r,blockLen:s}=this;e=dt(e);const o=e.length;for(let c=0;c<o;){const a=Math.min(s-this.pos,o-c);if(a===s){const d=ht(e);for(;s<=o-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+a),this.pos),this.pos+=a,c+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){q(this),we(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let i=c;i<s;i++)n[i]=0;Le(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=ht(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=d/4,u=this.get();if(y>u.length)throw new Error("_sha2: outputLen bigger than state");for(let i=0;i<y;i++)a.setUint32(4*i,u[i],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:c,pos:a}=this;return e.length=s,e.pos=a,e.finished=o,e.destroyed=c,s%n&&e.buffer.set(r),e}}const ve=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),T=new Uint32Array(64);class Ie extends Mt{constructor(){super(64,32,8,!1),this.A=$[0]|0,this.B=$[1]|0,this.C=$[2]|0,this.D=$[3]|0,this.E=$[4]|0,this.F=$[5]|0,this.G=$[6]|0,this.H=$[7]|0}get(){const{A:e,B:n,C:r,D:s,E:o,F:c,G:a,H:d}=this;return[e,n,r,s,o,c,a,d]}set(e,n,r,s,o,c,a,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=c|0,this.G=a|0,this.H=d|0}process(e,n){for(let i=0;i<16;i++,n+=4)T[i]=e.getUint32(n,!1);for(let i=16;i<64;i++){const f=T[i-15],g=T[i-2],x=U(f,7)^U(f,18)^f>>>3,p=U(g,17)^U(g,19)^g>>>10;T[i]=p+T[i-7]+x+T[i-16]|0}let{A:r,B:s,C:o,D:c,E:a,F:d,G:y,H:u}=this;for(let i=0;i<64;i++){const f=U(a,6)^U(a,11)^U(a,25),g=u+f+Se(a,d,y)+ve[i]+T[i]|0,p=(U(r,2)^U(r,13)^U(r,22))+Ue(r,s,o)|0;u=y,y=d,d=a,a=c+g|0,c=o,o=s,s=r,r=g+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,c=c+this.D|0,a=a+this.E|0,d=d+this.F|0,y=y+this.G|0,u=u+this.H|0,this.set(r,s,o,c,a,d,y,u)}roundClean(){T.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const D=Ft(()=>new Ie),J=BigInt(2**32-1),ut=BigInt(32);function Ot(t,e=!1){return e?{h:Number(t&J),l:Number(t>>ut&J)}:{h:Number(t>>ut&J)|0,l:Number(t&J)|0}}function Ce(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:c}=Ot(t[s],e);[n[s],r[s]]=[o,c]}return[n,r]}const _e=(t,e)=>BigInt(t>>>0)<<ut|BigInt(e>>>0),$e=(t,e,n)=>t>>>n,Te=(t,e,n)=>t<<32-n|e>>>n,ke=(t,e,n)=>t>>>n|e<<32-n,Fe=(t,e,n)=>t<<32-n|e>>>n,Me=(t,e,n)=>t<<64-n|e>>>n-32,Oe=(t,e,n)=>t>>>n-32|e<<64-n,Ne=(t,e)=>e,De=(t,e)=>t,Ge=(t,e,n)=>t<<n|e>>>32-n,Re=(t,e,n)=>e<<n|t>>>32-n,Pe=(t,e,n)=>e<<n-32|t>>>64-n,Ke=(t,e,n)=>t<<n-32|e>>>64-n;function je(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const l={fromBig:Ot,split:Ce,toBig:_e,shrSH:$e,shrSL:Te,rotrSH:ke,rotrSL:Fe,rotrBH:Me,rotrBL:Oe,rotr32H:Ne,rotr32L:De,rotlSH:Ge,rotlSL:Re,rotlBH:Pe,rotlBL:Ke,add:je,add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,add5H:(t,e,n,r,s,o)=>e+n+r+s+o+(t/2**32|0)|0,add5L:(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},[We,Ve]=l.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),k=new Uint32Array(80),F=new Uint32Array(80);class ze extends Mt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:o,Cl:c,Dh:a,Dl:d,Eh:y,El:u,Fh:i,Fl:f,Gh:g,Gl:x,Hh:p,Hl:w}=this;return[e,n,r,s,o,c,a,d,y,u,i,f,g,x,p,w]}set(e,n,r,s,o,c,a,d,y,u,i,f,g,x,p,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=c|0,this.Dh=a|0,this.Dl=d|0,this.Eh=y|0,this.El=u|0,this.Fh=i|0,this.Fl=f|0,this.Gh=g|0,this.Gl=x|0,this.Hh=p|0,this.Hl=w|0}process(e,n){for(let b=0;b<16;b++,n+=4)k[b]=e.getUint32(n),F[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const M=k[b-15]|0,O=F[b-15]|0,Bt=l.rotrSH(M,O,1)^l.rotrSH(M,O,8)^l.shrSH(M,O,7),Et=l.rotrSL(M,O,1)^l.rotrSL(M,O,8)^l.shrSL(M,O,7),C=k[b-2]|0,_=F[b-2]|0,at=l.rotrSH(C,_,19)^l.rotrBH(C,_,61)^l.shrSH(C,_,6),Lt=l.rotrSL(C,_,19)^l.rotrBL(C,_,61)^l.shrSL(C,_,6),ft=l.add4L(Et,Lt,F[b-7],F[b-16]),St=l.add4H(ft,Bt,at,k[b-7],k[b-16]);k[b]=St|0,F[b]=ft|0}let{Ah:r,Al:s,Bh:o,Bl:c,Ch:a,Cl:d,Dh:y,Dl:u,Eh:i,El:f,Fh:g,Fl:x,Gh:p,Gl:w,Hh:L,Hl:B}=this;for(let b=0;b<80;b++){const M=l.rotrSH(i,f,14)^l.rotrSH(i,f,18)^l.rotrBH(i,f,41),O=l.rotrSL(i,f,14)^l.rotrSL(i,f,18)^l.rotrBL(i,f,41),Bt=i&g^~i&p,Et=f&x^~f&w,C=l.add5L(B,O,Et,Ve[b],F[b]),_=l.add5H(C,L,M,Bt,We[b],k[b]),at=C|0,Lt=l.rotrSH(r,s,28)^l.rotrBH(r,s,34)^l.rotrBH(r,s,39),ft=l.rotrSL(r,s,28)^l.rotrBL(r,s,34)^l.rotrBL(r,s,39),St=r&o^r&a^o&a,dn=s&c^s&d^c&d;L=p|0,B=w|0,p=g|0,w=x|0,g=i|0,x=f|0,{h:i,l:f}=l.add(y|0,u|0,_|0,at|0),y=a|0,u=d|0,a=o|0,d=c|0,o=r|0,c=s|0;const be=l.add3L(at,ft,dn);r=l.add3H(be,_,Lt,St),s=be|0}({h:r,l:s}=l.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:c}=l.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:a,l:d}=l.add(this.Ch|0,this.Cl|0,a|0,d|0),{h:y,l:u}=l.add(this.Dh|0,this.Dl|0,y|0,u|0),{h:i,l:f}=l.add(this.Eh|0,this.El|0,i|0,f|0),{h:g,l:x}=l.add(this.Fh|0,this.Fl|0,g|0,x|0),{h:p,l:w}=l.add(this.Gh|0,this.Gl|0,p|0,w|0),{h:L,l:B}=l.add(this.Hh|0,this.Hl|0,L|0,B|0),this.set(r,s,o,c,a,d,y,u,i,f,g,x,p,w,L,B)}roundClean(){k.fill(0),F.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Nt=Ft(()=>new ze);class Dt extends kt{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Y(e);const r=dt(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return q(this),this.iHash.update(e),this}digestInto(e){q(this),H(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:c,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=c,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Q=(t,e,n)=>new Dt(t,e).update(n).digest();Q.create=(t,e)=>new Dt(t,e);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const lt=2n**256n,G=lt-0x1000003d1n,Gt=lt-0x14551231950b75fc4402da1732fc9bebfn,Ze=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Xe=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,Rt={a:0n,b:7n},R=32,Pt=t=>h(h(t*t)*t+Rt.b),E=(t="")=>{throw new Error(t)},tt=t=>typeof t=="bigint",Kt=t=>typeof t=="string",bt=t=>tt(t)&&0n<t&&t<G,jt=t=>tt(t)&&0n<t&&t<Gt,Ye=t=>t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array",et=(t,e)=>!Ye(t)||typeof e=="number"&&e>0&&t.length!==e?E("Uint8Array expected"):t,P=t=>new Uint8Array(t),xt=(t,e)=>et(Kt(t)?nt(t):P(et(t)),e),h=(t,e=G)=>{const n=t%e;return n>=0n?n:e+n},Wt=t=>t instanceof S?t:E("Point expected");class S{constructor(e,n,r){this.px=e,this.py=n,this.pz=r,Object.freeze(this)}static fromAffine(e){return e.x===0n&&e.y===0n?j:new S(e.x,e.y,1n)}static fromHex(e){e=xt(e);let n;const r=e[0],s=e.subarray(1),o=Zt(s,0,R),c=e.length;if(c===33&&[2,3].includes(r)){bt(o)||E("Point hex invalid: x not FE");let a=qe(Pt(o));const d=(a&1n)===1n;(r&1)===1!==d&&(a=h(-a)),n=new S(o,a,1n)}return c===65&&r===4&&(n=new S(o,Zt(s,R,2*R),1n)),n?n.ok():E("Point invalid: not on curve")}static fromPrivateKey(e){return K.mul(Je(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){const{px:n,py:r,pz:s}=this,{px:o,py:c,pz:a}=Wt(e),d=h(n*a),y=h(o*s),u=h(r*a),i=h(c*s);return d===y&&u===i}negate(){return new S(this.px,h(-this.py),this.pz)}double(){return this.add(this)}add(e){const{px:n,py:r,pz:s}=this,{px:o,py:c,pz:a}=Wt(e),{a:d,b:y}=Rt;let u=0n,i=0n,f=0n;const g=h(y*3n);let x=h(n*o),p=h(r*c),w=h(s*a),L=h(n+r),B=h(o+c);L=h(L*B),B=h(x+p),L=h(L-B),B=h(n+s);let b=h(o+a);return B=h(B*b),b=h(x+w),B=h(B-b),b=h(r+s),u=h(c+a),b=h(b*u),u=h(p+w),b=h(b-u),f=h(d*B),u=h(g*w),f=h(u+f),u=h(p-f),f=h(p+f),i=h(u*f),p=h(x+x),p=h(p+x),w=h(d*w),B=h(g*B),p=h(p+w),w=h(x-w),w=h(d*w),B=h(B+w),x=h(p*B),i=h(i+x),x=h(b*B),u=h(L*u),u=h(u-x),x=h(L*p),f=h(b*f),f=h(f+x),new S(u,i,f)}mul(e,n=!0){if(!n&&e===0n)return j;if(jt(e)||E("scalar invalid"),this.equals(K))return tn(e).p;let r=j,s=K;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?r=r.add(o):n&&(s=s.add(o));return r}mulAddQUns(e,n,r){return this.mul(n,!1).add(e.mul(r,!1)).ok()}toAffine(){const{px:e,py:n,pz:r}=this;if(this.equals(j))return{x:0n,y:0n};if(r===1n)return{x:e,y:n};const s=qt(r,G);return h(r*s)!==1n&&E("inverse invalid"),{x:h(e*s),y:h(n*s)}}assertValidity(){const{x:e,y:n}=this.aff();return(!bt(e)||!bt(n))&&E("Point invalid: x or y"),h(n*n)===Pt(e)?this:E("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){const{x:n,y:r}=this.aff();return(e?(r&1n)===0n?"02":"03":"04")+Xt(n)+(e?"":Xt(r))}toRawBytes(e=!0){return nt(this.toHex(e))}}S.BASE=new S(Ze,Xe,1n),S.ZERO=new S(0n,1n,0n);const{BASE:K,ZERO:j}=S,Vt=(t,e)=>t.toString(16).padStart(e,"0"),pt=t=>Array.from(et(t)).map(e=>Vt(e,2)).join(""),I={_0:48,_9:57,A:65,F:70,a:97,f:102},zt=t=>{if(t>=I._0&&t<=I._9)return t-I._0;if(t>=I.A&&t<=I.F)return t-(I.A-10);if(t>=I.a&&t<=I.f)return t-(I.a-10)},nt=t=>{const e="hex invalid";if(!Kt(t))return E(e);const n=t.length,r=n/2;if(n%2)return E(e);const s=P(r);for(let o=0,c=0;o<r;o++,c+=2){const a=zt(t.charCodeAt(c)),d=zt(t.charCodeAt(c+1));if(a===void 0||d===void 0)return E(e);s[o]=a*16+d}return s},rt=t=>BigInt("0x"+(pt(t)||"0")),Zt=(t,e,n)=>rt(t.slice(e,n)),yt=t=>tt(t)&&t>=0n&&t<lt?nt(Vt(t,2*R)):E("bigint expected"),Xt=t=>pt(yt(t)),Yt=(...t)=>{const e=P(t.reduce((r,s)=>r+et(s).length,0));let n=0;return t.forEach(r=>{e.set(r,n),n+=r.length}),e},qt=(t,e)=>{(t===0n||e<=0n)&&E("no inverse n="+t+" mod="+e);let n=h(t,e),r=e,s=0n,o=1n;for(;n!==0n;){const c=r/n,a=r%n,d=s-o*c;r=n,n=a,s=o,o=d}return r===1n?h(s,e):E("no inverse")},qe=t=>{let e=1n;for(let n=t,r=(G+1n)/4n;r>0n;r>>=1n)r&1n&&(e=e*n%G),n=n*n%G;return h(e*e)===t?e:E("sqrt invalid")},Je=t=>(tt(t)||(t=rt(xt(t,R))),jt(t)?t:E("private key invalid 3")),Jt=(t,e=!0)=>S.fromPrivateKey(t).toRawBytes(e),Qt=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;let st;const gt={hexToBytes:nt,bytesToHex:pt,concatBytes:Yt,bytesToNumberBE:rt,numberToBytesBE:yt,mod:h,invert:qt,hmacSha256Async:async(t,...e)=>{const n=Qt(),r=n&&n.subtle;if(!r)return E("etc.hmacSha256Async or crypto.subtle must be defined");const s=await r.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return P(await r.sign("HMAC",s,Yt(...e)))},hmacSha256Sync:st,hashToPrivateKey:t=>{t=xt(t),(t.length<R+8||t.length>1024)&&E("expected 40-1024b");const e=h(rt(t),Gt-1n);return yt(e+1n)},randomBytes:(t=32)=>{const e=Qt();return(!e||!e.getRandomValues)&&E("crypto.getRandomValues must be defined"),e.getRandomValues(P(t))}};Object.defineProperties(gt,{hmacSha256Sync:{configurable:!1,get(){return st},set(t){st||(st=t)}}});const N=8,Qe=()=>{const t=[],e=256/N+1;let n=K,r=n;for(let s=0;s<e;s++){r=n,t.push(r);for(let o=1;o<2**(N-1);o++)r=r.add(n),t.push(r);n=r.double()}return t};let te;const tn=t=>{const e=te||(te=Qe()),n=(u,i)=>{let f=i.negate();return u?f:i};let r=j,s=K;const o=1+256/N,c=2**(N-1),a=BigInt(2**N-1),d=2**N,y=BigInt(N);for(let u=0;u<o;u++){const i=u*c;let f=Number(t&a);t>>=y,f>c&&(f-=d,t+=1n);const g=i,x=i+Math.abs(f)-1,p=u%2!==0,w=f<0;f===0?s=s.add(n(p,e[g])):r=r.add(n(w,e[x]))}return{p:r,f:s}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ne(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function en(t){if(typeof t!="function")throw new Error("function expected");return!0}function W(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function re(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function wt(t){if(!Array.isArray(t))throw new Error("array expected")}function se(t,e){if(!ne(!0,e))throw new Error(`${t}: array of strings expected`)}function oe(t,e){if(!ne(!1,e))throw new Error(`${t}: array of numbers expected`)}function nn(...t){const e=o=>o,n=(o,c)=>a=>o(c(a)),r=t.map(o=>o.encode).reduceRight(n,e),s=t.map(o=>o.decode).reduce(n,e);return{encode:r,decode:s}}function rn(t){const e=typeof t=="string"?t.split(""):t,n=e.length;se("alphabet",e);const r=new Map(e.map((s,o)=>[s,o]));return{encode:s=>(wt(s),s.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${t}`);return e[o]})),decode:s=>(wt(s),s.map(o=>{W("alphabet.decode",o);const c=r.get(o);if(c===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${t}`);return c}))}}function sn(t=""){return W("join",t),{encode:e=>(se("join.decode",e),e.join(t)),decode:e=>(W("join.decode",e),e.split(t))}}const ce=(t,e)=>e===0?t:ce(e,t%e),ot=(t,e)=>t+(e-ce(t,e)),ct=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function At(t,e,n,r){if(wt(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ot(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${ot(e,n)}`);let s=0,o=0;const c=ct[e],a=ct[n]-1,d=[];for(const y of t){if(re(y),y>=c)throw new Error(`convertRadix2: invalid data word=${y} from=${e}`);if(s=s<<e|y,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)d.push((s>>o-n&a)>>>0);const u=ct[o];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-o&a,!r&&o>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&o>0&&d.push(s>>>0),d}function on(t,e=!1){if(re(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ot(8,t)>32||ot(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!ee(n))throw new Error("radix2.encode input should be Uint8Array");return At(Array.from(n),8,t,!e)},decode:n=>(oe("radix2.decode",n),Uint8Array.from(At(n,t,8,e)))}}function ie(t){return en(t),function(...e){try{return t.apply(null,e)}catch{}}}const mt=nn(rn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),sn("")),ae=[996825010,642813549,513874426,1027748829,705979059];function V(t){const e=t>>25;let n=(t&33554431)<<5;for(let r=0;r<ae.length;r++)(e>>r&1)===1&&(n^=ae[r]);return n}function fe(t,e,n=1){const r=t.length;let s=1;for(let o=0;o<r;o++){const c=t.charCodeAt(o);if(c<33||c>126)throw new Error(`Invalid prefix (${t})`);s=V(s)^c>>5}s=V(s);for(let o=0;o<r;o++)s=V(s)^t.charCodeAt(o)&31;for(let o of e)s=V(s)^o;for(let o=0;o<6;o++)s=V(s);return s^=n,mt.encode(At([s%ct[30]],30,5,!1))}function cn(t){const e=t==="bech32"?1:734539939,n=on(5),r=n.decode,s=n.encode,o=ie(r);function c(i,f,g=90){W("bech32.encode prefix",i),ee(f)&&(f=Array.from(f)),oe("bech32.encode",f);const x=i.length;if(x===0)throw new TypeError(`Invalid prefix length ${x}`);const p=x+7+f.length;if(g!==!1&&p>g)throw new TypeError(`Length ${p} exceeds limit ${g}`);const w=i.toLowerCase(),L=fe(w,f,e);return`${w}1${mt.encode(f)}${L}`}function a(i,f=90){W("bech32.decode input",i);const g=i.length;if(g<8||f!==!1&&g>f)throw new TypeError(`invalid string length: ${g} (${i}). Expected (8..${f})`);const x=i.toLowerCase();if(i!==x&&i!==i.toUpperCase())throw new Error("String must be lowercase or uppercase");const p=x.lastIndexOf("1");if(p===0||p===-1)throw new Error(\'Letter "1" must be present between prefix and data only\');const w=x.slice(0,p),L=x.slice(p+1);if(L.length<6)throw new Error("Data must be at least 6 characters long");const B=mt.decode(L).slice(0,-6),b=fe(w,B,e);if(!L.endsWith(b))throw new Error(`Invalid checksum in ${i}: expected "${b}"`);return{prefix:w,words:B}}const d=ie(a);function y(i){const{prefix:f,words:g}=a(i,!1);return{prefix:f,words:g,bytes:r(g)}}function u(i,f){return c(i,s(f))}return{encode:c,decode:a,encodeFromBytes:u,decodeToBytes:y,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:o,toWords:s}}const he=cn("bech32m");class an{constructor(e){vt(this,Z);vt(this,z,new Uint8Array);_t(e)?It(this,Z,Ct).call(this,e):typeof e=="string"&&It(this,Z,Ct).call(this,Be(e))}valueOf(){return ye(this,z)}toString(){return this.valueOf().toHex()}}z=new WeakMap,Z=new WeakSet,Ct=function(e){const n=$t(e);ge(this,z,n)};const X=class X extends an{constructor(e){if(typeof e=="string"){const n=he.decodeToBytes(e),{prefix:r,bytes:s}=n;if(r!=X.prefix)throw new Error("Invalid address prefix");super(s.toReversed())}else if(_t(e)){if(e.length!=32)throw new Error("Invalid address length");super(e)}else if(e==null)super(new Uint8Array(32));else throw new Error(`Invalid address type ${typeof e}`)}toString(){return he.encodeFromBytes(X.prefix,this.valueOf().toReversed())}};pe(X,"prefix","mmx");let Ht=X;Object.defineProperty(Uint8Array.prototype,"first",{get(){H(this,64);const t=this.length,e=Math.floor(t/2);return this.slice(0,e)}}),Object.defineProperty(Uint8Array.prototype,"second",{get(){H(this,64);const t=this.length,e=Math.floor(t/2);return this.slice(e,this.length)}}),Uint8Array.prototype.toHex=function(){return He(this).toUpperCase()},gt.hmacSha256Sync=(t,...e)=>Q(D,t,gt.concatBytes(...e));const de=4096,ue=(t,e,n)=>{let r=new Uint8Array(e);for(let s=0;s<n;++s)r=Q.create(Nt,r).update(t).digest();return r},it=(t,e,n)=>{const r=$t(new Uint32Array([n])).toReversed();return Q.create(Nt,e).update(t).update(r).digest()},fn=t=>{const e=ue(t,D("MMX/farmer_keys"),de),n=it(e.first,e.second,0);return Jt(n.first)},le=(t,e,n)=>{const r=ue(t,D("MMX/seed/"+e),de),s=it(r.first,r.second,11337),o=it(s.first,s.second,0),a=it(o.first,o.second,n).first,d=Jt(a);return{privKey:a,pubKey:d}},hn={getFarmerKey:fn,getAddress:(t,e,n)=>{const{pubKey:r}=le(t,e,n),s=D(r);return new Ht(s).toString()},getFingerPrint:(t,e)=>{let n=new Uint8Array(32);e&&(n=D("MMX/fingerprint/"+e));let r=new Uint8Array(32);for(let o=0;o<16384;++o)r=D(new Uint8Array([...r,...t,...n]));return Ae(r)[0]},getKeys:le};self.onmessage=function(t){const{fnName:e,args:n}=t.data,r=hn[e];if(r)try{const s=r(...n);self.postMessage({fnName:e,result:s})}catch(s){self.postMessage({type:"error",message:s.message,error:s})}else{self.postMessage({type:"error",message:`Unknown fnName: ${e}`});return}}})();\n',jt=typeof self<"u"&&self.Blob&&new Blob([se],{type:"text/javascript;charset=utf-8"});function Je(r){let t;try{if(t=jt&&(self.URL||self.webkitURL).createObjectURL(jt),!t)throw"";const n=new Worker(t,{name:r?.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(se),{name:r?.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}const At=(r,...t)=>new Promise((n,e)=>{if(typeof window<"u"&&window.Worker){const s=new Je;s.postMessage({fnName:r,args:t}),s.onmessage=function(o){if(o.data.fnName===r&&n(o.data.result),o.data.type==="error")throw o.data.error},s.onerror=e}else{const s=Xe[r],o=[...t];s&&(typeof queueMicrotask<"u"?queueMicrotask(()=>{try{n(s(...o))}catch(a){e(a)}}):setTimeout(()=>{try{n(s(...o))}catch(a){e(a)}}))}}),Ye=async(r,t)=>await At("getFingerPrint",r,t),Ze=async r=>await At("getFarmerKey",r),Qe=async(r,t,n)=>await At("getAddress",r,t,n),tn=async(r,t,n)=>At("getKeys",r,t,n),Ft=Object.assign({"../config/mainnet-rc/chain/params.json":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.p),[],import.meta.url),"../config/mainnet/chain/params.json":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.a),[],import.meta.url),"../config/testnet12/chain/params.json":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.b),[],import.meta.url),"../config/testnet13/chain/params.json":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.c),[],import.meta.url)}),zt=Object.assign({"../config/mainnet/chain/params/escrow_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.e),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/nft_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.n),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/offer_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.o),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/plot_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.d),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/plot_nft_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.f),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/relay_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.r),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/swap_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.s),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/template_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.t),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/time_lock_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.g),[],import.meta.url).then(r=>r.default),"../config/mainnet/chain/params/token_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.h),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/escrow_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.i),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/nft_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.j),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/offer_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.k),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/plot_nft_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.l),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/relay_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.m),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/swap_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.q),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/template_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.u),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/time_lock_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.v),[],import.meta.url).then(r=>r.default),"../config/testnet13/chain/params/token_binary":()=>u(()=>import("./mmx-config-B3KYDMt-.js").then(r=>r.w),[],import.meta.url).then(r=>r.default)}),$t=new Map,Vt=async r=>{let t=$t.get(r);if(t)return t;{const n=Object.keys(Ft).filter(a=>a.endsWith(`${r}/chain/params.json`));t={...await Ft[n]()};const s=Object.keys(zt).filter(a=>a.includes(`${r}/chain/params/`));for(const a of s){const h=a.match(/\/chain\/params\/(.*)$/)[1],l=await zt[a]();t[h]=l.trim()}const o=new P(t);return $t.set(r,new P(t)),o}};var E,I,bt,gt,J,Y;class on{constructor(t,n){f(this,E);f(this,I,"");f(this,bt,null);i(this,"getFingerPrintAsync",async()=>c(this,bt)??_(this,bt,Ye(c(this,E),c(this,I))));f(this,gt,null);i(this,"getFarmerKeyAsync",async()=>c(this,gt)??_(this,gt,Ze(c(this,E))));f(this,J,new Map);i(this,"getAddressAsync",async t=>c(this,J).get(t)??c(this,J).set(t,await Qe(c(this,E),c(this,I),t)).get(t));f(this,Y,new Map);i(this,"getKeysAsync",async t=>c(this,Y).get(t)??c(this,Y).set(t,await tn(c(this,E),c(this,I),t)).get(t));let e;if(typeof t=="string")e=ze(t);else if(t instanceof Uint8Array)e=t;else throw new Error("Invalid seed type");_(this,E,e),_(this,I,n??"")}}E=new WeakMap,I=new WeakMap,bt=new WeakMap,gt=new WeakMap,J=new WeakMap,Y=new WeakMap;class Lt{static async getSendTxAsync(t,n,e,s,o){if(n==0)throw new Error("amount cannot be zero");if(e=="")throw new Error("dst_addr cannot be zero");const a=new p;return a.note="TRANSFER",a.add_output(s,e,n,o.memo),await t.completeAsync(a,o),a}static async getSendManyTxAsync(t,n,e,s){const o=new p;return o.note="TRANSFER",n.forEach(a=>{if(a.amount==0)throw new Error("amount cannot be zero");if(a.address=="")throw new Error("dst_addr cannot be zero");o.add_output(e,a.address,a.amount,s.memo)}),await t.completeAsync(o,s),o}static async getExecuteTxAsync(t,n,e,s,o,a){const h={address:n,method:e,args:s,user:o!==null?await t.getAddressAsync(o):a.user},l=new p;return l.note="EXECUTE",l.execute.push(new k(h)),await t.completeAsync(l,a),l}static async getDepositTxAsync(t,n,e,s,o,a,h){const l={address:n,method:e,args:s,amount:o,currency:a,user:h.user},y=new p;return y.note="DEPOSIT",y.execute.push(new nt(l)),await t.completeAsync(y,h),y}static async getDeployTxAsync(t,n,e){const s=new p;return s.note="DEPLOY",s.deploy=new z(n),await t.completeAsync(s,e),s}static async getMakeOfferTxAsync(t,n,e,s,o,a,h){if(e==0||o==0)throw new Error("amount cannot be zero");const l=(BigInt(e)<<64n)/BigInt(o);if(l>>128n)throw new Error("price out of range");const y=await t.getAddressAsync(n),Et={binary:(await Vt(h.network)).offer_binary,init_method:"init",init_args:[y,s,a,new H(l).toHex(),null]},w=new p;w.note="OFFER",w.deploy=new z(Et);const v=[[s,e]];return await t.completeAsync(w,h,v),w}static async getOfferTradeTxAsync(t,n,e,s,o,a){const h={...a};h.note="TRADE";const l=[await t.getAddressAsync(0),new H(o).toHex()];return await Lt.getDepositTxAsync(t,n,"trade",l,e,s,h)}static async getOfferWithdrawTxAsync(t,n,e){const s={...e};return s.user=n.owner,await Lt.getExecuteTxAsync(t,n.address,"withdraw",[],null,s)}static async getAcceptOfferTxAsync(t,n,e,s){const o=[await t.getAddressAsync(0),new H(e).toHex()],a={...s};return a.note="TRADE",this.getDepositTxAsync(t,n.address,"accept",o,n.ask_amount,n.ask_currency,a)}static async getCancelOfferTxAsync(t,n,e,s){const o={...s};return o.user=e,this.getExecuteTxAsync(t,n,"cancel",[],null,o)}static async getPlotNftCreateTxAsync(t,n,e,s){const o=await Vt(s.network),a={name:n,binary:o.plot_nft_binary,init_args:[await t.getAddressAsync(e??0)]};return this.getDeployTxAsync(t,a,s)}}export{on as E,Nt as J,p as T,Lt as W,u as _,sn as r};
